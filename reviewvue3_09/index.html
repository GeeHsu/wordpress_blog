<!DOCTYPE html>
<html lang="zh-TW">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="profile" href="https://gmpg.org/xfn/11">

	<title>Vue3 è¤‡ç¿’09 &#8211; wordpress_blog</title>
<meta name="robots" content="noindex, nofollow">
<link rel="alternate" type="application/rss+xml" title="è¨‚é–±ã€Šwordpress_blogã€‹&raquo; è³‡è¨Šæä¾›" href="/wordpress_blog/feed/">
<link rel="alternate" type="application/rss+xml" title="è¨‚é–±ã€Šwordpress_blogã€‹&raquo; ç•™è¨€çš„è³‡è¨Šæä¾›" href="/wordpress_blog/comments/feed/">
<script>
window._wpemojiSettings = {"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/15.0.3\/72x72\/","ext":".png","svgUrl":"https:\/\/s.w.org\/images\/core\/emoji\/15.0.3\/svg\/","svgExt":".svg","source":{"concatemoji":"\/wp-includes\/js\/wp-emoji-release.min.js?ver=6.5.2"}};
/*! This file is auto-generated */
!function(i,n){var o,s,e;function c(e){try{var t={supportTests:e,timestamp:(new Date).valueOf()};sessionStorage.setItem(o,JSON.stringify(t))}catch(e){}}function p(e,t,n){e.clearRect(0,0,e.canvas.width,e.canvas.height),e.fillText(t,0,0);var t=new Uint32Array(e.getImageData(0,0,e.canvas.width,e.canvas.height).data),r=(e.clearRect(0,0,e.canvas.width,e.canvas.height),e.fillText(n,0,0),new Uint32Array(e.getImageData(0,0,e.canvas.width,e.canvas.height).data));return t.every(function(e,t){return e===r[t]})}function u(e,t,n){switch(t){case"flag":return n(e,"ğŸ³ï¸â€âš§ï¸","ğŸ³ï¸â€‹âš§ï¸")?!1:!n(e,"ğŸ‡ºğŸ‡³","ğŸ‡ºâ€‹ğŸ‡³")&&!n(e,"ğŸ´ó §ó ¢ó ¥ó ®ó §ó ¿","ğŸ´â€‹ó §â€‹ó ¢â€‹ó ¥â€‹ó ®â€‹ó §â€‹ó ¿");case"emoji":return!n(e,"ğŸ¦â€â¬›","ğŸ¦â€‹â¬›")}return!1}function f(e,t,n){var r="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?new OffscreenCanvas(300,150):i.createElement("canvas"),a=r.getContext("2d",{willReadFrequently:!0}),o=(a.textBaseline="top",a.font="600 32px Arial",{});return e.forEach(function(e){o[e]=t(a,e,n)}),o}function t(e){var t=i.createElement("script");t.src=e,t.defer=!0,i.head.appendChild(t)}"undefined"!=typeof Promise&&(o="wpEmojiSettingsSupports",s=["flag","emoji"],n.supports={everything:!0,everythingExceptFlag:!0},e=new Promise(function(e){i.addEventListener("DOMContentLoaded",e,{once:!0})}),new Promise(function(t){var n=function(){try{var e=JSON.parse(sessionStorage.getItem(o));if("object"==typeof e&&"number"==typeof e.timestamp&&(new Date).valueOf()<e.timestamp+604800&&"object"==typeof e.supportTests)return e.supportTests}catch(e){}return null}();if(!n){if("undefined"!=typeof Worker&&"undefined"!=typeof OffscreenCanvas&&"undefined"!=typeof URL&&URL.createObjectURL&&"undefined"!=typeof Blob)try{var e="postMessage("+f.toString()+"("+[JSON.stringify(s),u.toString(),p.toString()].join(",")+"));",r=new Blob([e],{type:"text/javascript"}),a=new Worker(URL.createObjectURL(r),{name:"wpTestEmojiSupports"});return void(a.onmessage=function(e){c(n=e.data),a.terminate(),t(n)})}catch(e){}c(n=f(s,u,p))}t(n)}).then(function(e){for(var t in e)n.supports[t]=e[t],n.supports.everything=n.supports.everything&&n.supports[t],"flag"!==t&&(n.supports.everythingExceptFlag=n.supports.everythingExceptFlag&&n.supports[t]);n.supports.everythingExceptFlag=n.supports.everythingExceptFlag&&!n.supports.flag,n.DOMReady=!1,n.readyCallback=function(){n.DOMReady=!0}}).then(function(){return e}).then(function(){var e;n.supports.everything||(n.readyCallback(),(e=n.source||{}).concatemoji?t(e.concatemoji):e.wpemoji&&e.twemoji&&(t(e.twemoji),t(e.wpemoji)))}))}((window,document),window._wpemojiSettings);
</script>
<style id="wp-emoji-styles-inline-css">img.wp-smiley, img.emoji {
		display: inline !important;
		border: none !important;
		box-shadow: none !important;
		height: 1em !important;
		width: 1em !important;
		margin: 0 0.07em !important;
		vertical-align: -0.1em !important;
		background: none !important;
		padding: 0 !important;
	}</style>
<link rel="stylesheet" id="wp-block-library-css" href="/wordpress_blog/wp-includes/css/dist/block-library/style.min.css?ver=6.5.2" media="all">
<style id="classic-theme-styles-inline-css">/*! This file is auto-generated */
.wp-block-button__link{color:#fff;background-color:#32373c;border-radius:9999px;box-shadow:none;text-decoration:none;padding:calc(.667em + 2px) calc(1.333em + 2px);font-size:1.125em}.wp-block-file__button{background:#32373c;color:#fff;text-decoration:none}</style>
<style id="global-styles-inline-css">body{--wp--preset--color--black: #000000;--wp--preset--color--cyan-bluish-gray: #abb8c3;--wp--preset--color--white: #ffffff;--wp--preset--color--pale-pink: #f78da7;--wp--preset--color--vivid-red: #cf2e2e;--wp--preset--color--luminous-vivid-orange: #ff6900;--wp--preset--color--luminous-vivid-amber: #fcb900;--wp--preset--color--light-green-cyan: #7bdcb5;--wp--preset--color--vivid-green-cyan: #00d084;--wp--preset--color--pale-cyan-blue: #8ed1fc;--wp--preset--color--vivid-cyan-blue: #0693e3;--wp--preset--color--vivid-purple: #9b51e0;--wp--preset--color--palette-1-color-0: #212121;--wp--preset--color--palette-1-color-1: #757575;--wp--preset--color--palette-1-color-2: #212121;--wp--preset--color--palette-1-color-3: #212121;--wp--preset--color--palette-1-color-4: #212121;--wp--preset--color--palette-1-color-5: #f5f5f5;--wp--preset--color--palette-1-color-6: #ffffff;--wp--preset--color--palette-1-color-7: #ffffff;--wp--preset--gradient--vivid-cyan-blue-to-vivid-purple: linear-gradient(135deg,rgba(6,147,227,1) 0%,rgb(155,81,224) 100%);--wp--preset--gradient--light-green-cyan-to-vivid-green-cyan: linear-gradient(135deg,rgb(122,220,180) 0%,rgb(0,208,130) 100%);--wp--preset--gradient--luminous-vivid-amber-to-luminous-vivid-orange: linear-gradient(135deg,rgba(252,185,0,1) 0%,rgba(255,105,0,1) 100%);--wp--preset--gradient--luminous-vivid-orange-to-vivid-red: linear-gradient(135deg,rgba(255,105,0,1) 0%,rgb(207,46,46) 100%);--wp--preset--gradient--very-light-gray-to-cyan-bluish-gray: linear-gradient(135deg,rgb(238,238,238) 0%,rgb(169,184,195) 100%);--wp--preset--gradient--cool-to-warm-spectrum: linear-gradient(135deg,rgb(74,234,220) 0%,rgb(151,120,209) 20%,rgb(207,42,186) 40%,rgb(238,44,130) 60%,rgb(251,105,98) 80%,rgb(254,248,76) 100%);--wp--preset--gradient--blush-light-purple: linear-gradient(135deg,rgb(255,206,236) 0%,rgb(152,150,240) 100%);--wp--preset--gradient--blush-bordeaux: linear-gradient(135deg,rgb(254,205,165) 0%,rgb(254,45,45) 50%,rgb(107,0,62) 100%);--wp--preset--gradient--luminous-dusk: linear-gradient(135deg,rgb(255,203,112) 0%,rgb(199,81,192) 50%,rgb(65,88,208) 100%);--wp--preset--gradient--pale-ocean: linear-gradient(135deg,rgb(255,245,203) 0%,rgb(182,227,212) 50%,rgb(51,167,181) 100%);--wp--preset--gradient--electric-grass: linear-gradient(135deg,rgb(202,248,128) 0%,rgb(113,206,126) 100%);--wp--preset--gradient--midnight: linear-gradient(135deg,rgb(2,3,129) 0%,rgb(40,116,252) 100%);--wp--preset--font-size--small: 14px;--wp--preset--font-size--medium: 20px;--wp--preset--font-size--large: 18px;--wp--preset--font-size--x-large: 42px;--wp--preset--font-size--normal: 16px;--wp--preset--font-size--larger: 24px;--wp--preset--font-size--extra-large: 32px;--wp--preset--font-size--huge: 48px;--wp--preset--font-size--gigantic: 64px;--wp--preset--spacing--20: 0.44rem;--wp--preset--spacing--30: 0.67rem;--wp--preset--spacing--40: 1rem;--wp--preset--spacing--50: 1.5rem;--wp--preset--spacing--60: 2.25rem;--wp--preset--spacing--70: 3.38rem;--wp--preset--spacing--80: 5.06rem;--wp--preset--shadow--natural: 6px 6px 9px rgba(0, 0, 0, 0.2);--wp--preset--shadow--deep: 12px 12px 50px rgba(0, 0, 0, 0.4);--wp--preset--shadow--sharp: 6px 6px 0px rgba(0, 0, 0, 0.2);--wp--preset--shadow--outlined: 6px 6px 0px -3px rgba(255, 255, 255, 1), 6px 6px rgba(0, 0, 0, 1);--wp--preset--shadow--crisp: 6px 6px 0px rgba(0, 0, 0, 1);}:where(.is-layout-flex){gap: 0.5em;}:where(.is-layout-grid){gap: 0.5em;}body .is-layout-flow > .alignleft{float: left;margin-inline-start: 0;margin-inline-end: 2em;}body .is-layout-flow > .alignright{float: right;margin-inline-start: 2em;margin-inline-end: 0;}body .is-layout-flow > .aligncenter{margin-left: auto !important;margin-right: auto !important;}body .is-layout-constrained > .alignleft{float: left;margin-inline-start: 0;margin-inline-end: 2em;}body .is-layout-constrained > .alignright{float: right;margin-inline-start: 2em;margin-inline-end: 0;}body .is-layout-constrained > .aligncenter{margin-left: auto !important;margin-right: auto !important;}body .is-layout-constrained > :where(:not(.alignleft):not(.alignright):not(.alignfull)){max-width: var(--wp--style--global--content-size);margin-left: auto !important;margin-right: auto !important;}body .is-layout-constrained > .alignwide{max-width: var(--wp--style--global--wide-size);}body .is-layout-flex{display: flex;}body .is-layout-flex{flex-wrap: wrap;align-items: center;}body .is-layout-flex > *{margin: 0;}body .is-layout-grid{display: grid;}body .is-layout-grid > *{margin: 0;}:where(.wp-block-columns.is-layout-flex){gap: 2em;}:where(.wp-block-columns.is-layout-grid){gap: 2em;}:where(.wp-block-post-template.is-layout-flex){gap: 1.25em;}:where(.wp-block-post-template.is-layout-grid){gap: 1.25em;}.has-black-color{color: var(--wp--preset--color--black) !important;}.has-cyan-bluish-gray-color{color: var(--wp--preset--color--cyan-bluish-gray) !important;}.has-white-color{color: var(--wp--preset--color--white) !important;}.has-pale-pink-color{color: var(--wp--preset--color--pale-pink) !important;}.has-vivid-red-color{color: var(--wp--preset--color--vivid-red) !important;}.has-luminous-vivid-orange-color{color: var(--wp--preset--color--luminous-vivid-orange) !important;}.has-luminous-vivid-amber-color{color: var(--wp--preset--color--luminous-vivid-amber) !important;}.has-light-green-cyan-color{color: var(--wp--preset--color--light-green-cyan) !important;}.has-vivid-green-cyan-color{color: var(--wp--preset--color--vivid-green-cyan) !important;}.has-pale-cyan-blue-color{color: var(--wp--preset--color--pale-cyan-blue) !important;}.has-vivid-cyan-blue-color{color: var(--wp--preset--color--vivid-cyan-blue) !important;}.has-vivid-purple-color{color: var(--wp--preset--color--vivid-purple) !important;}.has-black-background-color{background-color: var(--wp--preset--color--black) !important;}.has-cyan-bluish-gray-background-color{background-color: var(--wp--preset--color--cyan-bluish-gray) !important;}.has-white-background-color{background-color: var(--wp--preset--color--white) !important;}.has-pale-pink-background-color{background-color: var(--wp--preset--color--pale-pink) !important;}.has-vivid-red-background-color{background-color: var(--wp--preset--color--vivid-red) !important;}.has-luminous-vivid-orange-background-color{background-color: var(--wp--preset--color--luminous-vivid-orange) !important;}.has-luminous-vivid-amber-background-color{background-color: var(--wp--preset--color--luminous-vivid-amber) !important;}.has-light-green-cyan-background-color{background-color: var(--wp--preset--color--light-green-cyan) !important;}.has-vivid-green-cyan-background-color{background-color: var(--wp--preset--color--vivid-green-cyan) !important;}.has-pale-cyan-blue-background-color{background-color: var(--wp--preset--color--pale-cyan-blue) !important;}.has-vivid-cyan-blue-background-color{background-color: var(--wp--preset--color--vivid-cyan-blue) !important;}.has-vivid-purple-background-color{background-color: var(--wp--preset--color--vivid-purple) !important;}.has-black-border-color{border-color: var(--wp--preset--color--black) !important;}.has-cyan-bluish-gray-border-color{border-color: var(--wp--preset--color--cyan-bluish-gray) !important;}.has-white-border-color{border-color: var(--wp--preset--color--white) !important;}.has-pale-pink-border-color{border-color: var(--wp--preset--color--pale-pink) !important;}.has-vivid-red-border-color{border-color: var(--wp--preset--color--vivid-red) !important;}.has-luminous-vivid-orange-border-color{border-color: var(--wp--preset--color--luminous-vivid-orange) !important;}.has-luminous-vivid-amber-border-color{border-color: var(--wp--preset--color--luminous-vivid-amber) !important;}.has-light-green-cyan-border-color{border-color: var(--wp--preset--color--light-green-cyan) !important;}.has-vivid-green-cyan-border-color{border-color: var(--wp--preset--color--vivid-green-cyan) !important;}.has-pale-cyan-blue-border-color{border-color: var(--wp--preset--color--pale-cyan-blue) !important;}.has-vivid-cyan-blue-border-color{border-color: var(--wp--preset--color--vivid-cyan-blue) !important;}.has-vivid-purple-border-color{border-color: var(--wp--preset--color--vivid-purple) !important;}.has-vivid-cyan-blue-to-vivid-purple-gradient-background{background: var(--wp--preset--gradient--vivid-cyan-blue-to-vivid-purple) !important;}.has-light-green-cyan-to-vivid-green-cyan-gradient-background{background: var(--wp--preset--gradient--light-green-cyan-to-vivid-green-cyan) !important;}.has-luminous-vivid-amber-to-luminous-vivid-orange-gradient-background{background: var(--wp--preset--gradient--luminous-vivid-amber-to-luminous-vivid-orange) !important;}.has-luminous-vivid-orange-to-vivid-red-gradient-background{background: var(--wp--preset--gradient--luminous-vivid-orange-to-vivid-red) !important;}.has-very-light-gray-to-cyan-bluish-gray-gradient-background{background: var(--wp--preset--gradient--very-light-gray-to-cyan-bluish-gray) !important;}.has-cool-to-warm-spectrum-gradient-background{background: var(--wp--preset--gradient--cool-to-warm-spectrum) !important;}.has-blush-light-purple-gradient-background{background: var(--wp--preset--gradient--blush-light-purple) !important;}.has-blush-bordeaux-gradient-background{background: var(--wp--preset--gradient--blush-bordeaux) !important;}.has-luminous-dusk-gradient-background{background: var(--wp--preset--gradient--luminous-dusk) !important;}.has-pale-ocean-gradient-background{background: var(--wp--preset--gradient--pale-ocean) !important;}.has-electric-grass-gradient-background{background: var(--wp--preset--gradient--electric-grass) !important;}.has-midnight-gradient-background{background: var(--wp--preset--gradient--midnight) !important;}.has-small-font-size{font-size: var(--wp--preset--font-size--small) !important;}.has-medium-font-size{font-size: var(--wp--preset--font-size--medium) !important;}.has-large-font-size{font-size: var(--wp--preset--font-size--large) !important;}.has-x-large-font-size{font-size: var(--wp--preset--font-size--x-large) !important;}
.wp-block-navigation a:where(:not(.wp-element-button)){color: inherit;}
:where(.wp-block-post-template.is-layout-flex){gap: 1.25em;}:where(.wp-block-post-template.is-layout-grid){gap: 1.25em;}
:where(.wp-block-columns.is-layout-flex){gap: 2em;}:where(.wp-block-columns.is-layout-grid){gap: 2em;}
.wp-block-pullquote{font-size: 1.5em;line-height: 1.6;}</style>
<link rel="stylesheet" id="botiga-style-css" href="/wordpress_blog/wp-content/themes/botiga/style.css?ver=1.1.2" media="all">
<link rel="stylesheet" id="botiga-style-min-css" href="/wordpress_blog/wp-content/themes/botiga/assets/css/styles.min.css?ver=1.1.2" media="all">
<link rel="stylesheet" id="botiga-custom-styles-css" href="/wordpress_blog/wp-content/uploads/botiga/custom-styles.css?ver=1648804469" media="all">
<link rel="https://api.w.org/" href="/wordpress_blog/wp-json/">
<link rel="alternate" type="application/json" href="/wordpress_blog/wp-json/wp/v2/posts/837">
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="/wordpress_blog/xmlrpc.php?rsd">
<meta name="generator" content="WordPress 6.5.2">
<link rel="canonical" href="/wordpress_blog/reviewvue3_09/">
<link rel="shortlink" href="/wordpress_blog/?p=837">
<link rel="alternate" type="application/json+oembed" href="/wordpress_blog/wp-json/oembed/1.0/embed?url=%2Freviewvue3_09%2F">
<link rel="alternate" type="text/xml+oembed" href="/wordpress_blog/wp-json/oembed/1.0/embed?url=%2Freviewvue3_09%2F&#038;format=xml">
<link rel="icon" href="/wordpress_blog/wp-content/uploads/2022/03/logo.png" sizes="32x32">
<link rel="icon" href="/wordpress_blog/wp-content/uploads/2022/03/logo.png" sizes="192x192">
<link rel="apple-touch-icon" href="/wordpress_blog/wp-content/uploads/2022/03/logo.png">
<meta name="msapplication-TileImage" content="/wp-content/uploads/2022/03/logo.png">
	
</head>

<body class="post-template-default single single-post postid-837 single-format-standard wp-custom-logo wp-embed-responsive header-header_layout_1 blog-single-layout1">


<div id="page" class="site">

	<a class="skip-link screen-reader-text" href="#primary">Skip to content</a>

	
			<div class="top-bar visibility-desktop-only">
				<div class="container-fluid">
					<div class="top-bar-inner">
						<div class="row valign">

															<div class="col header-elements delimiter-none">
									<div class="header-item top-bar-social"><div class="social-profile">
<a target="_blank" href="https://www.facebook.com/watergrass0402/"><i class="ws-svg-icon"><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 512 512"><path d="M504 256C504 119 393 8 256 8S8 119 8 256c0 123.78 90.69 226.38 209.25 245V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.28c-30.8 0-40.41 19.12-40.41 38.73V256h68.78l-11 71.69h-57.78V501C413.31 482.38 504 379.78 504 256z"></path></svg></i></a><a target="_blank" href="https://github.com/GeeHsu"><i class="ws-svg-icon"><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 496 512"><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"></path></svg></i></a>
</div></div>								</div>
																						<div class="col header-elements delimiter-none">
													
			<nav class="header-item top-bar-secondary-navigation secondary-navigation">
				<div class="menu-topbar-container"><ul id="secondary" class="menu">
<li id="menu-item-143" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-143"><a href="/wordpress_blog/setup/">ç¶²ç«™æ¶è¨­</a></li>
<li id="menu-item-144" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-144"><a href="/wordpress_blog/source/">è³‡æ–™ä¾†æº</a></li>
<li id="menu-item-262" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-262"><a href="/wordpress_blog/resource/">å­¸ç¿’è³‡æº</a></li>
</ul></div>			</nav>
											</div>
							
						</div>
					</div>
				</div>
			</div>
			
							
				<header id="masthead" class="site-header header_layout_1">
					<div class="container-fluid">
						<div class="site-header-inner">
							<div class="row valign">
								<div class="col-md-5">
										
			<nav id="site-navigation" class="main-navigation">
				<div class="menu-navbar-container"><ul id="primary-menu" class="menu">
<li id="menu-item-109" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-109"><a href="/wordpress_blog/about/">é—œæ–¼</a></li>
<li id="menu-item-110" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children menu-item-110">
<a href="/wordpress_blog/learn/">å­¸ç¿’</a><span tabindex="0" class="dropdown-symbol"><i class="ws-svg-icon"><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 512.011 512.011"><path d="M505.755 123.592c-8.341-8.341-21.824-8.341-30.165 0L256.005 343.176 36.421 123.592c-8.341-8.341-21.824-8.341-30.165 0s-8.341 21.824 0 30.165l234.667 234.667a21.275 21.275 0 0015.083 6.251 21.275 21.275 0 0015.083-6.251l234.667-234.667c8.34-8.341 8.34-21.824-.001-30.165z"></path></svg></i></span>
<ul class="sub-menu">
	<li id="menu-item-140" class="menu-item menu-item-type-taxonomy menu-item-object-category current-post-ancestor current-menu-parent current-post-parent menu-item-140"><a href="/wordpress_blog/category/hexschool/">å…­è§’å­¸é™¢</a></li>
	<li id="menu-item-141" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-141"><a href="/wordpress_blog/category/ninja/">Net Ninja</a></li>
	<li id="menu-item-483" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-483"><a href="/wordpress_blog/category/youtube/">Youtube</a></li>
</ul>
</li>
<li id="menu-item-111" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-111"><a href="/wordpress_blog/linestore/">LINE STORE</a></li>
</ul></div>			</nav><!-- #site-navigation -->
											</div>
								<div class="col-md-2">
												<div class="site-branding">
				<a href="/wordpress_blog/" class="custom-logo-link" rel="home"><img width="512" height="512" src="/wordpress_blog/wp-content/uploads/2022/03/logo.png" class="custom-logo" alt="wordpress_blog" decoding="async" fetchpriority="high"></a>					<p class="site-title"><a href="/wordpress_blog/" rel="home">wordpress_blog</a></p>
										<p class="site-description">This is a dynamic to static website.</p>
							</div>
<!-- .site-branding -->
											</div>
								<div class="col-md-5 header-elements">
																	</div>							
							</div>
						</div>
					</div>
								<div class="header-search-form">
			<form role="search" method="get" class="search-form" action="/">
	<label class="screen-reader-text" for="search-form-1">Search&hellip;</label>
	<input type="search" id="search-form-1" class="search-field" value="" name="s" placeholder="Search &hellip;">
	<button type="submit" class="search-submit" value="Search"><i class="ws-svg-icon"><svg width="24" height="24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M10.875 3.75a7.125 7.125 0 100 14.25 7.125 7.125 0 000-14.25zM2.25 10.875a8.625 8.625 0 1117.25 0 8.625 8.625 0 01-17.25 0z"></path><path fill-rule="evenodd" d="M15.913 15.914a.75.75 0 011.06 0l4.557 4.556a.75.75 0 01-1.06 1.06l-4.557-4.556a.75.75 0 010-1.06z"></path></svg></i></button>
</form>
			</div>
			
									</header>

										<div class="search-overlay"></div>
			
			<div class="botiga-offcanvas-menu">
				<div class="mobile-header-item">
					<div class="row">
						<div class="col">
										<div class="site-branding">
				<a href="/wordpress_blog/" class="custom-logo-link" rel="home"><img width="512" height="512" src="/wordpress_blog/wp-content/uploads/2022/03/logo.png" class="custom-logo" alt="wordpress_blog" decoding="async"></a>					<p class="site-title"><a href="/wordpress_blog/" rel="home">wordpress_blog</a></p>
										<p class="site-description">This is a dynamic to static website.</p>
							</div>
<!-- .site-branding -->
									</div>
						<div class="col align-right">
							<a class="mobile-menu-close" href="#"><i class="ws-svg-icon icon-cancel"><svg width="16" height="16" fill="none" viewbox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M2.219.781L.78 2.22 9.562 11l-8.78 8.781 1.437 1.438L11 12.437l8.781 8.782 1.438-1.438L12.437 11l8.782-8.781L19.78.78 11 9.562 2.219.783z"></path></svg></i></a>
						</div>
					</div>
				</div>
				<div class="mobile-header-item">
						
			<nav id="site-navigation" class="main-navigation">
				<div class="menu-navbar-container"><ul id="primary-menu" class="menu">
<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-109"><a href="/wordpress_blog/about/">é—œæ–¼</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children menu-item-110">
<a href="/wordpress_blog/learn/">å­¸ç¿’</a><span tabindex="0" class="dropdown-symbol"><i class="ws-svg-icon"><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 512.011 512.011"><path d="M505.755 123.592c-8.341-8.341-21.824-8.341-30.165 0L256.005 343.176 36.421 123.592c-8.341-8.341-21.824-8.341-30.165 0s-8.341 21.824 0 30.165l234.667 234.667a21.275 21.275 0 0015.083 6.251 21.275 21.275 0 0015.083-6.251l234.667-234.667c8.34-8.341 8.34-21.824-.001-30.165z"></path></svg></i></span>
<ul class="sub-menu">
	<li class="menu-item menu-item-type-taxonomy menu-item-object-category current-post-ancestor current-menu-parent current-post-parent menu-item-140"><a href="/wordpress_blog/category/hexschool/">å…­è§’å­¸é™¢</a></li>
	<li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-141"><a href="/wordpress_blog/category/ninja/">Net Ninja</a></li>
	<li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-483"><a href="/wordpress_blog/category/youtube/">Youtube</a></li>
</ul>
</li>
<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-111"><a href="/wordpress_blog/linestore/">LINE STORE</a></li>
</ul></div>			</nav><!-- #site-navigation -->
							</div>
				<div class="mobile-header-item">
									<a target="&quot;_blank&quot;" class="button header-item" href="https://www.facebook.com/watergrass0402/">è¯çµ¡æˆ‘</a>
							</div>			
			</div>
			
							<header id="masthead-mobile" class="site-header mobile-header">
					<div class="container-fluid">
						<div class="row valign flex-nowrap">
							<div class="col-sm-6 col-md-4 col-grow-mobile">
											<div class="site-branding">
				<a href="/wordpress_blog/" class="custom-logo-link" rel="home"><img width="512" height="512" src="/wordpress_blog/wp-content/uploads/2022/03/logo.png" class="custom-logo" alt="wordpress_blog" decoding="async"></a>					<p class="site-title"><a href="/wordpress_blog/" rel="home">wordpress_blog</a></p>
										<p class="site-description">This is a dynamic to static website.</p>
							</div>
<!-- .site-branding -->
										</div>
							<div class="col-auto col-sm-6 col-md-8 col-grow-mobile header-elements valign align-right">
																	
															<a href="#" class="menu-toggle">
				<i class="ws-svg-icon"><svg width="16" height="11" viewbox="0 0 16 11" fill="none" xmlns="http://www.w3.org/2000/svg"><rect width="16" height="1"></rect><rect y="5" width="16" height="1"></rect><rect y="10" width="16" height="1"></rect></svg></i>
			</a>
																		</div>						
						</div>
					</div>
								<div class="header-search-form">
			<form role="search" method="get" class="search-form" action="/">
	<label class="screen-reader-text" for="search-form-2">Search&hellip;</label>
	<input type="search" id="search-form-2" class="search-field" value="" name="s" placeholder="Search &hellip;">
	<button type="submit" class="search-submit" value="Search"><i class="ws-svg-icon"><svg width="24" height="24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M10.875 3.75a7.125 7.125 0 100 14.25 7.125 7.125 0 000-14.25zM2.25 10.875a8.625 8.625 0 1117.25 0 8.625 8.625 0 01-17.25 0z"></path><path fill-rule="evenodd" d="M15.913 15.914a.75.75 0 011.06 0l4.557 4.556a.75.75 0 01-1.06 1.06l-4.557-4.556a.75.75 0 010-1.06z"></path></svg></i></button>
</form>
			</div>
			
									</header>
						<div class="search-overlay"></div>
			<div class="header-image"><img src="/wordpress_blog/wp-content/uploads/2022/03/seashore.jpg" width="1920" height="500" alt=""></div>
<div class="container content-wrapper"><div class="row main-row">			
	<main id="primary" class="site-main no-sidebar">

		

<article id="post-837" class="post-837 post type-post status-publish format-standard hentry category-hexschool">
	
		
	<header class="entry-header">
		
		
		<h1 class="entry-title">Vue3 è¤‡ç¿’09</h1>			<div class="entry-meta entry-meta-below delimiter-none">
<span class="posted-on"><a href="/wordpress_blog/reviewvue3_09/" rel="bookmark"><time class="entry-date published" datetime="2024-04-23T17:06:43+08:00">2024 å¹´ 4 æœˆ 23 æ—¥</time><time class="updated" datetime="2024-04-23T17:06:45+08:00">2024 å¹´ 4 æœˆ 23 æ—¥</time></a></span><span class="byline"> <span class="author vcard"><a class="url fn n" href="/wordpress_blog/author/gee-hsu/">gee.hsu</a></span></span>
</div>			</header><!-- .entry-header -->

	
	<div class="entry-content">
		
<h2 class="wp-block-heading">æœ€çµ‚æŒ‘æˆ°</h2>



<h3 class="wp-block-heading">æœ€çµ‚ä½œæ¥­èª²ç¨‹ä»‹ç´¹</h3>



<h4 class="wp-block-heading">èª²ç¨‹ç›®æ¨™</h4>



<p>é€éèª²ç¨‹å°ˆå±¬ API å®Œæˆç¨ç«‹ä½œå“</p>



<h4 class="wp-block-heading">é›»å•†ç¶²ç«™æ“ä½œæµç¨‹</h4>



<ul>
<li>ç®¡ç†å“¡</li>



<li>ç”¨æˆ¶</li>
</ul>



<h4 class="wp-block-heading">é–‹ç™¼çš„æ¶æ§‹èªªæ˜</h4>



<ul>
<li>å‰ç«¯
<ul>
<li>å‰å°</li>



<li>å¾Œå°</li>
</ul>
</li>



<li>å¾Œç«¯</li>
</ul>



<h4 class="wp-block-heading">å­¸ç¿’é¢å‘</h4>



<ul>
<li>å¾Œå° â€“ ç™»å…¥æˆæ¬Šã€ç·¨è¼¯å•†å“ã€æª¢è¦–è¨‚å–®ã€å»ºç«‹å„ªæƒ åˆ¸â€¦<br>å­¸ç¿’é–‹ç™¼æµç¨‹ã€å¾Œå°é‚è¼¯å»ºæ§‹</li>



<li>å‰å° â€“ æª¢è¦–å•†å“ã€é¸è³¼ä¸¦åŠ å…¥è³¼ç‰©è»Šã€æäº¤è¨‚å–®ã€æ¨¡æ“¬ä»˜æ¬¾â€¦
<ul>
<li>å®Œæ•´ä½œå“ç¶“ç‡Ÿ</li>



<li>ç¾æ„Ÿã€ç´°ç¯€åŸ¹é¤Š</li>



<li>è§£æ±ºå•é¡Œçš„èƒ½åŠ›</li>
</ul>
</li>
</ul>



<h4 class="wp-block-heading">API èªªæ˜</h4>



<p>[API]: https://ç«™é»/api/:api_path/admin/product</p>



<ul>
<li>ç”³è«‹å¸³è™Ÿ â€“ ç™»å…¥æˆæ¬Šä¹Ÿæ˜¯ä½¿ç”¨æ­¤å¸³è™Ÿ</li>



<li>ç”³è«‹å°ˆå±¬ API é€£çµ â€“ è³‡æ–™å…§å®¹ä¹Ÿæœƒç¨ç«‹</li>



<li>é–‹å§‹ç·´ç¿’</li>
</ul>



<h4 class="wp-block-heading">API æ–‡ä»¶</h4>



<p>[API]: https://ç«™é»/api/:api_path/admin/product</p>



<p>[æ–¹æ³•]: POST</p>



<pre class="wp-block-code"><code>// &#91;åƒæ•¸]:
{
  "data": {
    "title": "&#91;è³£]å‹•ç‰©åœ’é€ å‹è¡£æœ3",
    "category": "è¡£æœ2",
    ...
  }
}
</code></pre>



<h3 class="wp-block-heading">èª²ç¨‹ API æ–‡ä»¶åŠç›¸é—œè³‡æº</h3>



<ol>
<li>èª²ç¨‹éœ€è¦å…ˆè¨»å†Šå±¬æ–¼å€‹äººçš„ API è·¯å¾‘ï¼Œè¨»å†Šæ–¹æ³•åœ¨ä¸‹ä¸€å°ç¯€æœƒä»‹ç´¹ï¼Œ<a href="https://vue3-course-api.hexschool.io/" target="_blank" rel="noreferrer noopener">è¨»å†Šç¶²å€èˆ‡ API ç«™é»é€£çµ</a>
</li>



<li><a href="https://github.com/hexschool/vue3-course-api-wiki/wiki" target="_blank" rel="noreferrer noopener">API æ–‡ä»¶</a></li>



<li>èª²ç¨‹ä¸­å¾ŒæœŸï¼Œä¸æœƒæ‰€æœ‰æ­¥é©Ÿéƒ½ä¸€ä¸€èªªæ˜ï¼Œæ‰€ä»¥èª²ç¨‹ä¸­æœ‰æä¾›æ¯å€‹éšæ®µçš„ commitï¼Œè®“å¤§å®¶å¯ä»¥çœ‹åˆ°æ¯å€‹ç« ç¯€è€å¸«ä¿®æ”¹äº†å“ªäº›éƒ¨åˆ†ï¼š<a href="https://github.com/hexschool/vue3-course-api-wiki/wiki/%E9%80%B2%E5%BA%A6-Commit" target="_blank" rel="noreferrer noopener">æ‰€æœ‰èª²ç¨‹é€²åº¦ Commit (å°æ‡‰èª²ç¨‹ç« ç¯€)</a>
</li>



<li>èª²ç¨‹ä¸­ä¹Ÿæœƒæä¾›è¨±å¤š HTML ç‰‡æ®µæ¨¡æ¿ï¼Œæ¸›å°‘é‡è¤‡ç¹ç‘£çš„è¡Œç‚ºï¼Œå¦‚æåˆ°æœƒæä¾›æ¨¡æ¿çš„éƒ¨åˆ†ï¼Œ<a href="https://github.com/hexschool/vue3-course-api-wiki/wiki/%E8%AA%B2%E7%A8%8B%E9%83%A8%E5%88%86%E6%A8%A1%E6%9D%BF" target="_blank" rel="noreferrer noopener">é€£çµ</a>
</li>



<li>é›–ç„¶èª²ç¨‹ä¸­ ESLint é¸æ“‡ç‚º Airbnb æ ¼å¼ï¼š
<ul>
<li>é«”é©—ç°¡å–®ä¸€é»çš„é–‹ç™¼è¦å‰‡å¯é¸æ“‡ Standard</li>



<li>å° ES6 åŠéŒ¯èª¤æ’é™¤æœ‰ä¸€å®šæŒæ¡è€…å¯é¸æ“‡ Airbnb</li>
</ul>
</li>
</ol>



<p>é—œæ–¼ ESLint æ­é… VSCode çš„è‡ªå‹•æ’ç‰ˆå¯åƒè€ƒï¼ˆæ³¨æ„ï¼Œä¸¦éæ‰€æœ‰éŒ¯èª¤éƒ½å¯è‡ªå‹•æ’é™¤ï¼‰ï¼š<a href="https://wcc723.github.io/development/2021/04/11/vscode-eslint-prettier/" target="_blank" rel="noreferrer noopener">é€£çµ</a></p>



<p>ä½¿ç”¨æ™‚ ESLint æ™‚ï¼š</p>



<ul>
<li>å¯å¤šåˆ©ç”¨æ–‡å­—ç·¨è¼¯å™¨çš„æç¤ºä¾†é™¤éŒ¯ï¼ˆé™¤éŒ¯ä¹Ÿæ˜¯é–‹ç™¼è€…å¿…å­¸çš„æŠ€èƒ½ä¹‹ä¸€ï¼‰</li>



<li>ç›¡å¯èƒ½é¿å…é—œé–‰ ESLint çš„æç¤º</li>
</ul>



<h3 class="wp-block-heading">ç”³è«‹èª²ç¨‹ API</h3>



<h4 class="wp-block-heading">æµç¨‹èªªæ˜:</h4>



<ol>
<li>ç”³è«‹ä¸€å€‹å°ˆå±¬çš„èª²ç¨‹ç·´ç¿’å¸³è™Ÿ</li>



<li>ç™»å…¥å¸³è™Ÿï¼Œä¸¦ç”³è«‹ä¸€å€‹ API è·¯å¾‘</li>



<li>æ¸¬è©¦ API æ˜¯å¦å¯ä»¥é‹ä½œï¼Œä¸¦ä¸”é–‹å§‹å¯¦ä½œ</li>
</ol>



<h4 class="wp-block-heading">è¤‡ç¿’ Vue Cli å»ºç«‹ç’°å¢ƒ</h4>



<ol>
<li>ä½¿ç”¨ Vue Cli å»ºç«‹ç’°å¢ƒ vue create vue3_dashboard_record</li>



<li>Please pick a preset: Manually select features</li>



<li>Check the features needed for your project: Choose Vue version, Babel, Router, CSS Pre-processors, Linter</li>



<li>Choose a version of Vue.js that you want to start the project with 3.x (Preview)</li>



<li>Use history mode for router? (Requires proper server setup for index fallback in production) No</li>



<li>Pick a CSS pre-processor (PostCSS, Autoprefixer and CSS Modules are supported by default): Sass/SCSS (with node-sass)</li>



<li>Pick a linter / formatter config: Airbnb</li>



<li>Pick additional lint features: Lint on save</li>



<li>Where do you prefer placing config for Babel, ESLint, etc.? In dedicated config files</li>



<li>Save this as a preset for future projects? (y/N) N</li>
</ol>



<h4 class="wp-block-heading">API è·¯å¾‘åŠ åˆ°ç’°å¢ƒè®Šæ•¸</h4>



<ol>
<li>åœ¨æ ¹ç›®éŒ„æ–°å¢ .env æª”æ¡ˆ<br>API Server è·¯å¾‘: VUE_APP_API<br>API å€‹äººè·¯å¾‘: VUE_APP_PATH</li>



<li>é–‹å•Ÿ Home.vue æª”æ¡ˆèª¿æ•´ç¨‹å¼ç¢¼å…§å®¹<br>ä½¿ç”¨ç”Ÿå‘½é€±æœŸè®€å‡ºç’°å¢ƒè®Šæ•¸</li>



<li>é‡æ–°åŸ·è¡Œ npm run serve</li>



<li>é–‹å•Ÿ Console æŸ¥çœ‹ç’°å¢ƒè®Šæ•¸æ˜¯å¦æœ‰é¡¯ç¤º</li>
</ol>



<pre class="wp-block-code"><code>// .env
VUE_APP_API=http://localhost:3000/
VUE_APP_PATH=geehsu-api
</code></pre>



<pre class="wp-block-code"><code>// views/Home.vue
&lt;template&gt;
  &lt;div class="home"&gt;
    &lt;img alt="Vue logo" src="../assets/logo.png"&gt;
    &lt;HelloWorld msg="Welcome to Your Vue.js App"/&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script&gt;
// @ is an alias to /src
import HelloWorld from '@/components/HelloWorld.vue';

export default {
  name: 'Home',
  components: {
    HelloWorld,
  },
  created() {
    console.log(process.env.VUE_APP_API, process.env.VUE_APP_PATH);
  },
};
&lt;/script&gt;
</code></pre>



<pre class="wp-block-code"><code>// é™¤éŒ¯ Console è­¦å‘Š
// vue.config.js
module.exports = {
  chainWebpack: (config) =&gt; {
    config.plugin('define').tap((definitions) =&gt; {
      Object.assign(definitions&#91;0], {
        __VUE_OPTIONS_API__: 'true',
        __VUE_PROD_DEVTOOLS__: 'false',
        __VUE_PROD_HYDRATION_MISMATCH_DETAILS__: 'false'
      })
      return definitions
    })
  }
}
</code></pre>



<h3 class="wp-block-heading">å¸¸è¦‹ API å•é¡Œè§£æ±ºæ–¹å¼</h3>



<h4 class="wp-block-heading">è·¯å¾‘èˆ‡æ–¹æ³•æ˜¯ä¸€å°çš„</h4>



<p>API æ˜¯ç”±è·¯å¾‘ + æ–¹æ³•çµ„æˆçš„ï¼Œæ–‡ä»¶ä¸­çš†æœƒæ¨™ç¤ºæ‰€æœ‰ API å¯ç”¨çš„æ–¹æ³•å¦‚ GETã€POSTã€DELETE ç­‰ç­‰ï¼Œå¿…é ˆä½¿ç”¨å®Œå…¨å°æ‡‰çš„æ–¹æ³•æ‰èƒ½é‹ä½œå–”ã€‚</p>



<h4 class="wp-block-heading">å¾éŒ¯èª¤è¨Šæ¯ä¸­å°‹æ‰¾å•é¡Œ</h4>



<p>API ç™¼é€çš„éç¨‹ä¸­éŒ¯ä¸€å€‹å­—å°±æœƒç„¡æ³•é‹è¡Œï¼Œç›¡å¯èƒ½å¾éŒ¯èª¤çš„å›é¥‹ä¸­å°‹æ‰¾å•é¡Œï¼Œæª¢æŸ¥ï¼š</p>



<ul>
<li>è·¯å¾‘æ˜¯å¦æ‹¼å°</li>



<li>GETã€POST ç­‰æ–¹æ³•æ˜¯å¦æ­£ç¢º</li>



<li>ç¨‹å¼ç¢¼é‹ä½œæ˜¯å¦å¦‚é æœŸ</li>
</ul>



<h4 class="wp-block-heading">é‡åˆ°éŒ¯èª¤ç„¡æ³•è§£æ±º</h4>



<p>ç™¼å•æµç¨‹:<br><strong>å¯ä»¥æä¾›å®Œæ•´ç¨‹å¼ç¢¼è®“è€å¸«ã€åŠ©æ•™æ¸¬è©¦</strong><br>å¯ä»¥å°‡åŸå§‹ç¢¼ä¸Šå‚³è‡³ GitHub æˆ–é›²ç«¯ç¡¬ç¢Ÿï¼Œä¸¦å°‡èªªæ˜åŠé€£çµæä¾›åœ¨å•ç­”å€<br>ä¸Šå‚³æ™‚ç‰¹åˆ¥æ³¨æ„: ä¸éœ€è¦å¤¾å¸¶ node_modulesã€dist è³‡æ–™å¤¾<br>é€™æœƒå°è‡´ä¿¡ä»¶ç„¡æ³•é–‹å•Ÿï¼Œä¸”ä¸‹è¼‰å¾Œä¾ç„¶è¦åˆªé™¤é‡æ–°å®‰è£ã€‚</p>



<p>å¦å¤–è«‹<strong>ç›¡å¯èƒ½æä¾›å®Œæ•´è¨Šæ¯</strong>ï¼Œç”±æ–¼è¨±å¤šå•é¡Œä¸¦éç‰‡æ®µå°±èƒ½åˆ¤æ–·<br>æ‰€ä»¥ç›¡å¯èƒ½æä¾›è¶Šå®Œæ•´è¶Šå¥½</p>



<ul>
<li>éŒ¯èª¤çš„å•é¡Œæè¿° (å“ªä¸€å€‹ APIã€åšäº†ä»€éº¼äº‹ã€é æœŸæœ‰æ€æ¨£çš„é€²å±•ã€éŒ¯èª¤çš„å•é¡Œé»)</li>



<li>éŒ¯èª¤çš„ API é€£çµç‚ºä½•</li>



<li>å®Œæ•´éŒ¯èª¤çš„è¨Šæ¯åœ–ç‰‡ (Chrome Console)</li>



<li>å‡ºç¾éŒ¯èª¤çš„ç¨‹å¼ç¢¼</li>
</ul>



<h3 class="wp-block-heading">åŒ¯å…¥ Bootstrap ä¸¦èª¿æ•´ç‰ˆå‹</h3>



<ol>
<li>å®‰è£ Bootstrap å¥—ä»¶ â€“ npm install bootstrap</li>



<li>å¼•ç”¨ Bootstrap åˆ°å°ˆæ¡ˆè£¡é¢<br>Bootstrap æ–‡ä»¶ &gt; Customize &gt; Sass &gt; Importing<br>è¤‡è£½ @import â€œ../node_modules/bootstrap/scss/bootstrapâ€;</li>



<li>é–‹å•Ÿ App.vue æª”æ¡ˆè²¼ä¸Šç¨‹å¼ç¢¼å¾Œæ”¹å¯«<br>@import â€œ~bootstrap/scss/bootstrapâ€;</li>



<li>é‡æ–°é‹è¡Œ npm run serve</li>



<li>åœ¨ Bootstrap æ–‡ä»¶ &gt; å…ƒä»¶ &gt; æŒ‰éˆ•<br>è¤‡è£½æŒ‰éˆ•ç¨‹å¼ç¢¼è²¼åˆ° App.vue æª”æ¡ˆæ¸¬è©¦æ˜¯å¦æœ‰æ­£ç¢ºè¼‰å…¥ Bootstrap å¥—ä»¶</li>



<li>å®¢è£½åŒ– Bootstrap æ¨£å¼<br>åœ¨ assets è³‡æ–™å¤¾æ–°å¢ all.scss æª”æ¡ˆ<br>åœ¨ assets è³‡æ–™å¤¾æ–°å¢ helpers è³‡æ–™å¤¾<br>åœ¨ assets/helpers æ–°å¢ _variables.scss æª”æ¡ˆ (_åœ¨scssä¸æœƒè¢«ç·¨è­¯å‡ºä¾†)</li>



<li>æ‰¾åˆ° node_modules/bootstrap/scss/_variables.scss æ‰“é–‹<br>è¤‡è£½ _variables.scss æ‰€æœ‰ç¨‹å¼ç¢¼ç›´æ¥è²¼åˆ° assets/helpers/_variables.scss æª”æ¡ˆ</li>



<li>å®¢è£½åŒ–è®Šæ•¸<br>åœ¨ Bootstrap æ–‡ä»¶ &gt; Customize &gt; Sass &gt; Importing<br>è¤‡è£½æ–‡ä»¶éœ€è¦çš„ç¨‹å¼ç¢¼è²¼åˆ° assets/all.scss ä¸¦æ”¹å¯«<br>åŒ¯å…¥æ‰€æœ‰çš„ Bootstrap</li>



<li>åœ¨ App.vue æª”æ¡ˆèª¿æ•´æˆè‡ªå®šç¾© Sass åŒ¯å…¥è·¯å¾‘</li>



<li>åœ¨ assets/helpers/_variables.scss æª”æ¡ˆèª¿æ•´è®Šæ•¸</li>
</ol>



<pre class="wp-block-code"><code>// App.vue
&lt;template&gt;
  &lt;div id="nav"&gt;
    &lt;router-link to="/"&gt;Home&lt;/router-link&gt; |
    &lt;router-link to="/about"&gt;About&lt;/router-link&gt;
  &lt;/div&gt;
  &lt;button type="button" class="btn btn-primary"&gt;Primary&lt;/button&gt;
  &lt;button type="button" class="btn btn-secondary"&gt;Secondary&lt;/button&gt;
  &lt;button type="button" class="btn btn-success"&gt;Success&lt;/button&gt;
  &lt;button type="button" class="btn btn-danger"&gt;Danger&lt;/button&gt;
  &lt;button type="button" class="btn btn-warning"&gt;Warning&lt;/button&gt;
  &lt;button type="button" class="btn btn-info"&gt;Info&lt;/button&gt;
  &lt;button type="button" class="btn btn-light"&gt;Light&lt;/button&gt;
  &lt;button type="button" class="btn btn-dark"&gt;Dark&lt;/button&gt;

  &lt;button type="button" class="btn btn-link"&gt;Link&lt;/button&gt;
  &lt;router-view/&gt;
&lt;/template&gt;

&lt;style lang="scss"&gt;
@import "./assets/all";
&lt;/style&gt;
</code></pre>



<pre class="wp-block-code"><code>// assets/helpers/_variables.scss
// scss-docs-start theme-colors-map
$theme-colors: (
  "primary":    black , // $primary,
  "secondary":  $secondary,
  "success":    $success,
  "info":       $info,
  "warning":    $warning,
  "danger":     $danger,
  "light":      $light,
  "dark":       $dark
) !default;
// scss-docs-end theme-colors-map</code></pre>



<pre class="wp-block-code"><code>// assets/all.scss
// 1. Include functions first (so you can manipulate colors, SVGs, calc, etc)
@import "~bootstrap/scss/functions";

// 2. Include any default variable overrides here

// 3. Include remainder of required Bootstrap stylesheets (including any separate color mode stylesheets)
// å®¢è£½åŒ– variables è·¯å¾‘
@import "./helpers/variables";
@import "~bootstrap/scss/variables-dark";

// 4. Include any default map overrides here

// 5. Include remainder of required parts
@import "~bootstrap/scss/maps";
@import "~bootstrap/scss/mixins";
@import "~bootstrap/scss/root";

// åŒ¯å…¥æ‰€æœ‰çš„ Bootstrap
@import "~bootstrap/scss/bootstrap";
</code></pre>



<h3 class="wp-block-heading">è£½ä½œç™»å…¥é é¢</h3>



<p>æ³¨æ„äº‹é …ï¼š.env æª”ä¸­çš„ç«™é»éœ€è¦èª¿æ•´æ‰èƒ½å¤ å°æ‡‰åˆ°æ–‡ä»¶ ç¯„ä¾‹å¦‚ä¸‹ï¼š</p>



<pre class="wp-block-code"><code>VUE_APP_API=https://vue3-course-api.hexschool.io/
</code></pre>



<p><a rel="noreferrer noopener" href="https://github.com/hexschool/vue3-course-api-wiki/wiki/%E7%99%BB%E5%85%A5%E5%8F%8A%E9%A9%97%E8%AD%89" target="_blank">ç™»å…¥åŠé©—è­‰</a>ã€<a href="https://www.npmjs.com/package/vue-axios">vue-a</a><a rel="noreferrer noopener" href="https://www.npmjs.com/package/vue-axios" target="_blank">xio</a><a href="https://www.npmjs.com/package/vue-axios">s</a>ã€<a href="https://github.com/hexschool/vue3-course-api-wiki/wiki/%E8%AA%B2%E7%A8%8B%E9%83%A8%E5%88%86%E6%A8%A1%E6%9D%BF" target="_blank" rel="noreferrer noopener">èª²ç¨‹éƒ¨åˆ†æ¨¡æ¿</a></p>



<ol>
<li>æŸ¥çœ‹ç™»å…¥åŠé©—è­‰ API æ–‡ä»¶<br>[API]ã€[æ–¹æ³•]ã€[åƒæ•¸]ã€[æˆåŠŸå›æ‡‰]ã€[å¤±æ•—å›æ‡‰]</li>



<li>å®‰è£ vue-axios å¥—ä»¶<br>npm install â€“save axios vue-axios</li>



<li>åŒ¯å…¥ vue-axios å¥—ä»¶<br>Vue2, Vue3 è¼‰å…¥æ–¹å¼æœ‰æ‰€ä¸åŒ<br>è¤‡è£½ç¨‹å¼ç¢¼è²¼åˆ° main.js æª”æ¡ˆ</li>



<li>èª¿æ•´ main.js æª”æ¡ˆçµæ§‹</li>



<li>é‡æ–°é‹è¡Œ npm run serve</li>



<li>æ–°å¢ views/Login.vue æª”æ¡ˆ<br>è£½ä½œç°¡å–®é é¢ç¢ºä¿ç¾åœ¨é é¢å·²ç¶“å»ºç«‹æˆåŠŸ<br>å»ºç«‹æª”æ¡ˆå†èª¿æ•´è·¯ç”±</li>



<li>æŸ¥çœ‹ login ç•«é¢æœ‰ç„¡æ­£ç¢ºé‹ä½œ<br>http://localhost:8080/#/login</li>



<li>æ¸…é™¤ App.vue æª”æ¡ˆå¤šé¤˜çš„ç¨‹å¼ç¢¼ç‰‡æ®µ</li>



<li>åœ¨ Login.vue åŠ å…¥ç™»å…¥çš„ç‰ˆå‹<br>ä½¿ç”¨èª²ç¨‹éƒ¨åˆ†æ¨¡æ¿èª¿æ•´ä½¿ç”¨</li>



<li>æ’°å¯« Login.vue &lt;script&gt; JS çš„éƒ¨åˆ†<br>æŸ¥çœ‹ç™»å…¥åŠé©—è­‰æ–‡ä»¶ç™»å…¥åƒæ•¸çš„ç‰©ä»¶æ ¼å¼ã€æ’°å¯«åœ¨ data è³‡æ–™<br>ä½¿ç”¨ v-model é›™å‘ç¶å®šè¡¨å–®è³‡æ–™</li>



<li>æ¸¬è©¦æ˜¯å¦èƒ½æ­£å¸¸é‹ä½œ<br>è¼¸å…¥è¡¨å–®è³‡æ–™é€å‡ºã€æŸ¥çœ‹ Vue.js devtools</li>



<li>ä¸²æ¥ API<br>åœ¨ Login.vue æ’°å¯« methods æ–¹æ³•<br>æŠŠäº‹ä»¶åŠ åˆ° &lt;form&gt; æ¨™ç±¤ï¼Œä½¿ç”¨ @submit äº‹ä»¶<br>å¯åŠ ä¸Š prevent é¿å…è§¸ç™¼ html é è¨­äº‹ä»¶</li>



<li>ä¸²æ¥ API å¿…é ˆæŠŠè·¯å¾‘çµ„èµ·ä¾†<br>ç’°å¢ƒè®Šæ•¸ç«™é»ä½ç½®+ç™»å…¥çš„å¯¦éš› API<br>${process.env.VUE_APP_API}/admin/signin</li>



<li>é€å‡º api<br>ä½¿ç”¨ this.$http.post æ–¹æ³•</li>



<li>è©¦è‘—ç™»å…¥æ¸¬è©¦æ˜¯å¦æœ‰å›å‚³è³‡æ–™</li>
</ol>



<pre class="wp-block-code"><code>// src/main.js
import { createApp } from 'vue';
import axios from 'axios';
import VueAxios from 'vue-axios';
import App from './App.vue';
import router from './router';

const app = createApp(App);
app.use(VueAxios, axios);
app.use(router);
app.mount('#app');
</code></pre>



<pre class="wp-block-code"><code>// views/Login.vue
&lt;template&gt;
  &lt;div class="container mt-5"&gt;
    &lt;form class="row justify-content-center"
    @submit.prevent="signIn"&gt;
      &lt;div class="col-md-6"&gt;
        &lt;h1 class="h3 mb-3 font-weight-normal"&gt;è«‹å…ˆç™»å…¥&lt;/h1&gt;
        &lt;div class="mb-2"&gt;
          &lt;label for="inputEmail" class="sr-only"&gt;Email address&lt;/label&gt;
          &lt;input
            type="email"
            id="inputEmail"
            class="form-control"
            placeholder="Email address"
            required
            autofocus
            v-model="user.username"
          /&gt;
        &lt;/div&gt;
        &lt;div class="mb-2"&gt;
          &lt;label for="inputPassword" class="sr-only"&gt;Password&lt;/label&gt;
          &lt;input
            type="password"
            id="inputPassword"
            class="form-control"
            placeholder="Password"
            required
            v-model="user.password"
          /&gt;
        &lt;/div&gt;
        &lt;div class="text-end mt-4"&gt;
          &lt;button class="btn btn-lg btn-primary btn-block" type="submit"&gt;ç™»å…¥&lt;/button&gt;
        &lt;/div&gt;
      &lt;/div&gt;
    &lt;/form&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script&gt;
export default {
  data() {
    return {
      user: {
        username: '',
        password: '',
      },
    };
  },
  methods: {
    signIn() {
      console.log('login');
      // ç’°å¢ƒè®Šæ•¸ç«™é»ä½ç½® + ç™»å…¥çš„å¯¦éš› API
      const api = `${process.env.VUE_APP_API}admin/signin`;
      console.log(api);
      // api è·¯å¾‘, å¤¾å¸¶çš„è³‡æ–™
      this.$http.post(api, this.user)
        .then((res) =&gt; {
          console.log(res);
        });
    },
  },
};
&lt;/script&gt;
</code></pre>



<pre class="wp-block-code"><code>// router/index.js
import { createRouter, createWebHashHistory } from 'vue-router';
import Home from '../views/Home.vue';

const routes = &#91;
  {
    path: '/',
    name: 'Home',
    component: Home,
  },
  {
    path: '/about',
    name: 'About',
    // route level code-splitting
    // this generates a separate chunk (about.&#91;hash].js) for this route
    // which is lazy-loaded when the route is visited.
    component: () =&gt; import(/* webpackChunkName: "about" */ '../views/About.vue'),
  },
  {
    path: '/login',
    component: () =&gt; import('../views/Login.vue'),
  },
];

const router = createRouter({
  history: createWebHashHistory(),
  routes,
});

export default router;
</code></pre>



<pre class="wp-block-code"><code>// App.vue
&lt;template&gt;
  &lt;div id="nav"&gt;
    &lt;router-link to="/"&gt;Home&lt;/router-link&gt; |
    &lt;router-link to="/about"&gt;About&lt;/router-link&gt;
  &lt;/div&gt;
  &lt;router-view/&gt;
&lt;/template&gt;

&lt;style lang="scss"&gt;
@import "./assets/all";
&lt;/style&gt;
</code></pre>



<pre class="wp-block-code"><code>// .env
VUE_APP_API=https://vue3-course-api.hexschool.io/
VUE_APP_PATH=geehsu-api
</code></pre>



<h3 class="wp-block-heading">ç™»å…¥èˆ‡ Cookie</h3>



<ol>
<li>æŸ¥çœ‹ç€è¦½å™¨ Cookie å„²å­˜ä½ç½®</li>



<li>æŸ¥çœ‹ MDN æ–‡ä»¶ â€“&nbsp;<a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Document/cookie#%E7%A4%BA%E4%BE%8B_3_%E5%8F%AA%E6%89%A7%E8%A1%8C%E6%9F%90%E4%BA%8B%E4%B8%80%E6%AC%A1" target="_blank" rel="noreferrer noopener">Cookie æ–‡ä»¶é€£çµ</a>
</li>



<li>æ’°å¯« document.cookie ç¨‹å¼ç¢¼</li>



<li>ç™»å…¥å¾ŒæŸ¥çœ‹ç€è¦½å™¨ Cookie æ˜¯å¦æœ‰æ­£ç¢ºå„²å­˜</li>
</ol>



<pre class="wp-block-code"><code>// views/Login.vue
&lt;template&gt;
  &lt;div class="container mt-5"&gt;
    &lt;form class="row justify-content-center"
    @submit.prevent="signIn"&gt;
      &lt;div class="col-md-6"&gt;
        &lt;h1 class="h3 mb-3 font-weight-normal"&gt;è«‹å…ˆç™»å…¥&lt;/h1&gt;
        &lt;div class="mb-2"&gt;
          &lt;label for="inputEmail" class="sr-only"&gt;Email address&lt;/label&gt;
          &lt;input
            type="email"
            id="inputEmail"
            class="form-control"
            placeholder="Email address"
            required
            autofocus
            v-model="user.username"
          /&gt;
        &lt;/div&gt;
        &lt;div class="mb-2"&gt;
          &lt;label for="inputPassword" class="sr-only"&gt;Password&lt;/label&gt;
          &lt;input
            type="password"
            id="inputPassword"
            class="form-control"
            placeholder="Password"
            required
            v-model="user.password"
          /&gt;
        &lt;/div&gt;
        &lt;div class="text-end mt-4"&gt;
          &lt;button class="btn btn-lg btn-primary btn-block" type="submit"&gt;ç™»å…¥&lt;/button&gt;
        &lt;/div&gt;
      &lt;/div&gt;
    &lt;/form&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script&gt;
export default {
  data() {
    return {
      user: {
        username: '',
        password: '',
      },
    };
  },
  methods: {
    signIn() {
      console.log('login');
      // ç’°å¢ƒè®Šæ•¸ç«™é»ä½ç½® + ç™»å…¥çš„å¯¦éš› API
      const api = `${process.env.VUE_APP_API}admin/signin`;
      console.log(api);
      // api è·¯å¾‘, å¤¾å¸¶çš„è³‡æ–™
      this.$http.post(api, this.user)
        .then((res) =&gt; {
          // Cookie å­˜å–
          // å‰é¢: å„²å­˜ Cookie å…§å®¹; å¾Œé¢: åˆ°æœŸæ—¥
          // å„²å­˜ Cookie å…§å®¹: è‡ªå®šç¾©åç¨± = token å€¼
          // åˆ°æœŸæ—¥è½‰æˆ token å¯ä»¥å„²å­˜çš„ç·¨ç¢¼
          const { token, expired } = res.data;
          // console.log(token, expired);
          document.cookie = `hexToken=${token}; expires=${new Date(expired)}`;
          console.log(res);
        });
    },
  },
};
&lt;/script&gt;
</code></pre>



<h3 class="wp-block-heading">Cookie å­˜å–çš„èªæ³•</h3>



<p>MDN æ–‡ä»¶ï¼Œå°‡ Cookie å­˜å…¥ã€å–å‡º:&nbsp;<a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Document/cookie" target="_blank" rel="noreferrer noopener">é€£çµ</a></p>



<pre class="wp-block-code"><code>// MDN æ–‡ä»¶ï¼Œå°‡ Cookie å­˜å…¥ã€å–å‡º - ç¯„ä¾‹ç¨‹å¼ç¢¼
const token = response.data.token;
const expired = response.data.expired;
console.log(token, expired);
document.cookie = `hexToken=${token};expires=${new Date(expired)};`;
</code></pre>



<p>Axios æ–‡ä»¶ï¼Œè¨­å®šé è¨­ Headers:&nbsp;<a href="https://github.com/axios/axios#global-axios-defaults" target="_blank" rel="noreferrer noopener">é€£çµ</a></p>



<pre class="wp-block-code"><code>// Axios æ–‡ä»¶ï¼Œè¨­å®šé è¨­ Headers - ç¯„ä¾‹ç¨‹å¼ç¢¼
const token = document.cookie.replace(/(?:(?:^|.*;\s*)hexToken\s*=\s*(&#91;^;]*).*$)|^.*$/, '$1');
this.$http.defaults.headers.common.Authorization = `${token}`;
</code></pre>



<h3 class="wp-block-heading">ç¢ºèªæ˜¯å¦ç¶­æŒç™»å…¥ç‹€æ…‹</h3>



<ol>
<li>æŸ¥çœ‹ç™»å…¥åŠé©—è­‰æ–‡ä»¶<br>æª¢æŸ¥ç”¨æˆ¶æ˜¯å¦ä»æŒçºŒç™»å…¥<br>é©—è­‰æ–¹æ³• â€“ å°‡ Token åŠ å…¥ Headers</li>



<li>Token<br>æŠŠ Token å¾ Cookie å–å‡º<br>æŠŠ Token åŠ åˆ° Headers</li>



<li>æŸ¥çœ‹ MDN æ–‡ä»¶ â€“&nbsp;<a rel="noreferrer noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/API/Document/cookie#%E7%A4%BA%E4%BE%8B_2_%E5%BE%97%E5%88%B0%E5%90%8D%E4%B8%BA_test2_%E7%9A%84_cookie" target="_blank">Cookie æ–‡ä»¶é€£çµ</a><br>è¤‡è£½ myCookie ç¨‹å¼ç¢¼ä¸¦åšæ”¹å¯«</li>



<li>æŸ¥çœ‹ axios æ–‡ä»¶ â€“&nbsp;<a href="https://github.com/axios/axios?tab=readme-ov-file#global-axios-defaults" target="_blank" rel="noreferrer noopener">Global axios defaults</a>
</li>



<li>å¯¦ä½œæŠŠ Cookie å–å‡ºä¾†ã€ä»¥åŠæŠŠ Token ç™¼é€å‡ºå»</li>



<li>æ–°å¢ views/Dashboard.vue æª”æ¡ˆ<br>åœ¨ router/index.js æª”æ¡ˆæŠŠ Dashboard åŠ åˆ°è·¯ç”±è¡¨<br>http://localhost:8080/#/dashboard<br>æŸ¥çœ‹æ˜¯å¦æœ‰æ­£ç¢ºé‹ä½œ</li>



<li>åœ¨ Dashboard.vue æª”æ¡ˆæ’°å¯«ç¨‹å¼ç¢¼<br>å°ˆæ³¨åœ¨ JS æ’°å¯«<br>å–å‡º token<br>æŠŠtoken å¤¾å¸¶åˆ° headers è£¡é¢<br>è¤‡è£½ Global axios defaults ç¨‹å¼ç¢¼</li>



<li>è©¦è‘—è§¸ç™¼å‰›å‰›çš„ API<br>è¤‡è£½ Login.vue signIn() è£¡é¢çš„ç¨‹å¼ç¢¼<br>æŠŠå¤šé¤˜çš„ç¨‹å¼ç¢¼æ¸…æ‰<br>æª¢æŸ¥ç”¨æˆ¶æ˜¯å¦ä»ç„¶æŒçºŒç™»å…¥ï¼ŒæŠŠ API è·¯å¾‘æ”¹æˆ api/user/check</li>



<li>æŸ¥çœ‹ console å›å‚³çš„ data æ˜¯å¦æ˜¯æˆåŠŸ</li>



<li>æ¸…é™¤ Cookie æŸ¥çœ‹æ˜¯å¦ä»æ­£ç¢ºç™»å…¥</li>



<li>åœ¨ Login.vue æª”æ¡ˆè£œä¸Šç™»å…¥åˆ¤æ–·ï¼Œç™»å…¥æˆåŠŸå¾Œæœƒè½‰å€åˆ° Dashboard é é¢</li>



<li>åœ¨ Dashboard.vue æª”æ¡ˆè£œä¸Šç™»å…¥åˆ¤æ–·ï¼Œç™»å…¥å¤±æ•—å¾Œæœƒè½‰å€åˆ° Login é é¢</li>
</ol>



<pre class="wp-block-code"><code>// views/Dashboard.vue
&lt;template&gt;
  Dashboard
&lt;/template&gt;

&lt;script&gt;
export default {
  created() {
    // å–å‡º token
    // test2 æ”¹å¯«æˆ hexToken
    // Airbnb è¦ç¯„æŠŠéŒ¯èª¤çš„ \ å»é™¤
    const token = document.cookie.replace(/(?:(?:^|.*;\s*)hexToken\s*=\s*(&#91;^;]*).*$)|^.*$/, '$1');
    // console.log(token);
    // token å¤¾å¸¶åˆ° headers è£¡é¢
    // &#91;"Authorization"] æ”¹å¯«æˆ .Authorization
    this.$http.defaults.headers.common.Authorization = token;
    // æª¢æŸ¥ç”¨æˆ¶æ˜¯å¦ä»ç„¶æŒçºŒç™»å…¥
    const api = `${process.env.VUE_APP_API}api/user/check`;
    this.$http.post(api)
      .then((res) =&gt; {
        // console.log(res);
        // ç™»å…¥åˆ¤æ–· - ç™»å…¥å¤±æ•—
        if (!res.data.success) {
          // ç™»å…¥å¤±æ•—å¾Œæœƒè½‰å€åˆ° Login é é¢
          this.$router.push('/login');
        }
      });
  },
};
&lt;/script&gt;
</code></pre>



<pre class="wp-block-code"><code>// router/index.js
import { createRouter, createWebHashHistory } from 'vue-router';
import Home from '../views/Home.vue';

const routes = &#91;
  {
    path: '/',
    name: 'Home',
    component: Home,
  },
  {
    path: '/about',
    name: 'About',
    // route level code-splitting
    // this generates a separate chunk (about.&#91;hash].js) for this route
    // which is lazy-loaded when the route is visited.
    component: () =&gt; import(/* webpackChunkName: "about" */ '../views/About.vue'),
  },
  {
    path: '/login',
    component: () =&gt; import('../views/Login.vue'),
  },
  {
    path: '/dashboard',
    component: () =&gt; import('../views/Dashboard.vue'),
  },
];

const router = createRouter({
  history: createWebHashHistory(),
  routes,
});

export default router;
</code></pre>



<pre class="wp-block-code"><code>// views/Login.vue
&lt;template&gt;
  &lt;div class="container mt-5"&gt;
    &lt;form class="row justify-content-center"
    @submit.prevent="signIn"&gt;
      &lt;div class="col-md-6"&gt;
        &lt;h1 class="h3 mb-3 font-weight-normal"&gt;è«‹å…ˆç™»å…¥&lt;/h1&gt;
        &lt;div class="mb-2"&gt;
          &lt;label for="inputEmail" class="sr-only"&gt;Email address&lt;/label&gt;
          &lt;input
            type="email"
            id="inputEmail"
            class="form-control"
            placeholder="Email address"
            required
            autofocus
            v-model="user.username"
          /&gt;
        &lt;/div&gt;
        &lt;div class="mb-2"&gt;
          &lt;label for="inputPassword" class="sr-only"&gt;Password&lt;/label&gt;
          &lt;input
            type="password"
            id="inputPassword"
            class="form-control"
            placeholder="Password"
            required
            v-model="user.password"
          /&gt;
        &lt;/div&gt;
        &lt;div class="text-end mt-4"&gt;
          &lt;button class="btn btn-lg btn-primary btn-block" type="submit"&gt;ç™»å…¥&lt;/button&gt;
        &lt;/div&gt;
      &lt;/div&gt;
    &lt;/form&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script&gt;
export default {
  data() {
    return {
      user: {
        username: '',
        password: '',
      },
    };
  },
  methods: {
    signIn() {
      // console.log('login');
      // ç’°å¢ƒè®Šæ•¸ç«™é»ä½ç½® + ç™»å…¥çš„å¯¦éš› API
      const api = `${process.env.VUE_APP_API}admin/signin`;
      // console.log(api);
      // api è·¯å¾‘, å¤¾å¸¶çš„è³‡æ–™
      this.$http.post(api, this.user)
        .then((res) =&gt; {
          // ç™»å…¥åˆ¤æ–· - æˆåŠŸç‹€æ…‹
          if (res.data.success) {
            // Cookie å­˜å–
            // å‰é¢: å„²å­˜ Cookie å…§å®¹; å¾Œé¢: åˆ°æœŸæ—¥
            // å„²å­˜ Cookie å…§å®¹: è‡ªå®šç¾©åç¨± = token å€¼
            // åˆ°æœŸæ—¥è½‰æˆ token å¯ä»¥å„²å­˜çš„ç·¨ç¢¼
            const { token, expired } = res.data;
            // console.log(token, expired);
            document.cookie = `hexToken=${token}; expires=${new Date(expired)}`;
            // console.log(res);
            // ç™»å…¥æˆåŠŸæœƒè½‰å€åˆ° Dashboard é é¢
            this.$router.push('/dashboard');
          }
        });
    },
  },
};
&lt;/script&gt;
</code></pre>



<h3 class="wp-block-heading">èª¿æ•´å·¢ç‹€è·¯ç”±ä¸¦ä¸”åŠ å…¥ Navbar</h3>



<ol>
<li>æ–°å¢ Products.vue æª”æ¡ˆ â€“ ç”¢å“é é¢</li>



<li>åœ¨ Dashboard.vue æª”æ¡ˆæ–°å¢ Navbar<br>åœ¨ Bootstrap æ–‡ä»¶æœå°‹ Navbar å°‹æ‰¾ç›¸å°ç°¡å–®çš„ç¨‹å¼ç¢¼è¤‡è£½ä½¿ç”¨</li>



<li>åœ¨ App.vue æª”æ¡ˆæŠŠé è¨­çš„é€£çµæ¸…é™¤<br>è¤‡è£½ &lt;router-view&gt; è²¼åˆ° Dashboard.vue</li>



<li>æ‰“é–‹ router/index.js è·¯ç”±è¡¨<br>åœ¨ dashboard è·¯ç”±æ–°å¢ products å­è·¯ç”±<br>http://localhost:8080/#/dashboard/products</li>



<li>åœ¨ Login.vue æª”æ¡ˆèª¿æ•´ç¨‹å¼ç¢¼<br>ç™»å…¥æˆåŠŸå¾Œçš„è½‰å€æ”¹ç‚º /dashboard/products</li>



<li>åœ¨ Dashboard.vue æª”æ¡ˆæŠŠ Navbar ç¨‹å¼ç¢¼æ‹†åˆ†åˆ°å…ƒä»¶<br>åœ¨ src/components æ–°å¢ Navbar.vue æª”æ¡ˆ<br>æŠŠ Dashboard.vue æª”æ¡ˆ Navbar ç¨‹å¼ç¢¼å‰ªä¸‹è²¼åˆ° Navbar.vue æª”æ¡ˆ</li>



<li>åœ¨ Dashboard.vue åŒ¯å…¥ Navbar.vue<br>import Navbar from â€˜../components/Navbar.vueâ€™;<br>ä½¿ç”¨ components å€åŸŸè¨»å†Š Navbar<br>å†æŠŠ &lt;Navbar&gt; æ¨™ç±¤åŠ åˆ°ç•«é¢</li>



<li>åœ¨ Navbar.vue æ–°å¢ç™»å‡ºçš„åŠŸèƒ½<br>æŸ¥çœ‹ç™»å…¥åŠé©—è­‰æ–‡ä»¶<br>å¾ Login.vue æª”æ¡ˆæŸ¥çœ‹ signIn æ–¹æ³•<br>æ’°å¯« Navbar.vue logout æ–¹æ³•</li>
</ol>



<pre class="wp-block-code"><code>// views/Products.vue
&lt;template&gt;
  ç”¢å“åˆ—è¡¨
&lt;/template&gt;
</code></pre>



<pre class="wp-block-code"><code>// views/Dashboard.vue
&lt;template&gt;
  &lt;Navbar&gt;&lt;/Navbar&gt;
  &lt;router-view/&gt;
&lt;/template&gt;

&lt;script&gt;
import Navbar from '../components/Navbar.vue';

export default {
  components: {
    Navbar,
  },
  created() {
    // å–å‡º token
    // test2 æ”¹å¯«æˆ hexToken
    // Airbnb è¦ç¯„æŠŠéŒ¯èª¤çš„ \ å»é™¤
    const token = document.cookie.replace(/(?:(?:^|.*;\s*)hexToken\s*=\s*(&#91;^;]*).*$)|^.*$/, '$1');
    // console.log(token);
    // token å¤¾å¸¶åˆ° headers è£¡é¢
    // &#91;"Authorization"] æ”¹å¯«æˆ .Authorization
    this.$http.defaults.headers.common.Authorization = token;
    // æª¢æŸ¥ç”¨æˆ¶æ˜¯å¦ä»ç„¶æŒçºŒç™»å…¥
    const api = `${process.env.VUE_APP_API}api/user/check`;
    this.$http.post(api)
      .then((res) =&gt; {
        // console.log(res);
        // ç™»å…¥åˆ¤æ–· - ç™»å…¥å¤±æ•—
        if (!res.data.success) {
          // ç™»å…¥å¤±æ•—å¾Œæœƒè½‰å€åˆ° Login é é¢
          this.$router.push('/login');
        }
      });
  },
};
&lt;/script&gt;
</code></pre>



<pre class="wp-block-code"><code>// App.vue
&lt;template&gt;
  &lt;router-view/&gt;
&lt;/template&gt;

&lt;style lang="scss"&gt;
@import "./assets/all";
&lt;/style&gt;
</code></pre>



<pre class="wp-block-code"><code>// router/index.js
import { createRouter, createWebHashHistory } from 'vue-router';
import Home from '../views/Home.vue';

const routes = &#91;
  {
    path: '/',
    name: 'Home',
    component: Home,
  },
  {
    path: '/about',
    name: 'About',
    // route level code-splitting
    // this generates a separate chunk (about.&#91;hash].js) for this route
    // which is lazy-loaded when the route is visited.
    component: () =&gt; import(/* webpackChunkName: "about" */ '../views/About.vue'),
  },
  {
    path: '/login',
    component: () =&gt; import('../views/Login.vue'),
  },
  {
    path: '/dashboard',
    component: () =&gt; import('../views/Dashboard.vue'),
    // å·¢ç‹€è·¯ç”± - ç”¢å“åˆ—è¡¨
    children: &#91;
      {
        path: 'products',
        component: () =&gt; import('../views/Products.vue'),
      },
    ],
  },
];

const router = createRouter({
  history: createWebHashHistory(),
  routes,
});

export default router;
</code></pre>



<pre class="wp-block-code"><code>// Login.vue
&lt;template&gt;
  &lt;div class="container mt-5"&gt;
    &lt;form class="row justify-content-center"
    @submit.prevent="signIn"&gt;
      &lt;div class="col-md-6"&gt;
        &lt;h1 class="h3 mb-3 font-weight-normal"&gt;è«‹å…ˆç™»å…¥&lt;/h1&gt;
        &lt;div class="mb-2"&gt;
          &lt;label for="inputEmail" class="sr-only"&gt;Email address&lt;/label&gt;
          &lt;input
            type="email"
            id="inputEmail"
            class="form-control"
            placeholder="Email address"
            required
            autofocus
            v-model="user.username"
          /&gt;
        &lt;/div&gt;
        &lt;div class="mb-2"&gt;
          &lt;label for="inputPassword" class="sr-only"&gt;Password&lt;/label&gt;
          &lt;input
            type="password"
            id="inputPassword"
            class="form-control"
            placeholder="Password"
            required
            v-model="user.password"
          /&gt;
        &lt;/div&gt;
        &lt;div class="text-end mt-4"&gt;
          &lt;button class="btn btn-lg btn-primary btn-block" type="submit"&gt;ç™»å…¥&lt;/button&gt;
        &lt;/div&gt;
      &lt;/div&gt;
    &lt;/form&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script&gt;
export default {
  data() {
    return {
      user: {
        username: '',
        password: '',
      },
    };
  },
  methods: {
    signIn() {
      // console.log('login');
      // ç’°å¢ƒè®Šæ•¸ç«™é»ä½ç½® + ç™»å…¥çš„å¯¦éš› API
      const api = `${process.env.VUE_APP_API}admin/signin`;
      // console.log(api);
      // api è·¯å¾‘, å¤¾å¸¶çš„è³‡æ–™
      this.$http.post(api, this.user)
        .then((res) =&gt; {
          // ç™»å…¥åˆ¤æ–· - æˆåŠŸç‹€æ…‹
          if (res.data.success) {
            // Cookie å­˜å–
            // å‰é¢: å„²å­˜ Cookie å…§å®¹; å¾Œé¢: åˆ°æœŸæ—¥
            // å„²å­˜ Cookie å…§å®¹: è‡ªå®šç¾©åç¨± = token å€¼
            // åˆ°æœŸæ—¥è½‰æˆ token å¯ä»¥å„²å­˜çš„ç·¨ç¢¼
            const { token, expired } = res.data;
            // console.log(token, expired);
            document.cookie = `hexToken=${token}; expires=${new Date(expired)}`;
            // console.log(res);
            // ç™»å…¥æˆåŠŸæœƒè½‰å€åˆ° Dashboard é é¢
            // æ”¹ç‚º /dashboard/products
            this.$router.push('/dashboard/products');
          }
        });
    },
  },
};
&lt;/script&gt;
</code></pre>



<pre class="wp-block-code"><code>// src/components/Navbar.vue
&lt;template&gt;
  &lt;nav class="navbar navbar-expand-lg bg-body-tertiary"&gt;
    &lt;div class="container-fluid"&gt;
      &lt;a class="navbar-brand" href="#"&gt;Navbar w/ text&lt;/a&gt;
      &lt;button class="navbar-toggler" type="button"
      data-bs-toggle="collapse" data-bs-target="#navbarText"
      aria-controls="navbarText" aria-expanded="false" aria-label="Toggle navigation"&gt;
        &lt;span class="navbar-toggler-icon"&gt;&lt;/span&gt;
      &lt;/button&gt;
      &lt;div class="collapse navbar-collapse" id="navbarText"&gt;
        &lt;ul class="navbar-nav me-auto mb-2 mb-lg-0"&gt;
          &lt;li class="nav-item"&gt;
            &lt;a class="nav-link active" aria-current="page" href="#"&gt;Home&lt;/a&gt;
          &lt;/li&gt;
          &lt;li class="nav-item"&gt;
            &lt;a class="nav-link" href="#"&gt;Features&lt;/a&gt;
          &lt;/li&gt;
          &lt;li class="nav-item"&gt;
            &lt;a class="nav-link" href="#" @click.prevent="logout"&gt;ç™»å‡º&lt;/a&gt;
          &lt;/li&gt;
        &lt;/ul&gt;
        &lt;span class="navbar-text"&gt;
          Navbar text with an inline element
        &lt;/span&gt;
      &lt;/div&gt;
    &lt;/div&gt;
  &lt;/nav&gt;
&lt;/template&gt;

&lt;script&gt;
export default {
  methods: {
    logout() {
      const api = `${process.env.VUE_APP_API}logout`;
      this.$http.post(api, this.user)
        .then((res) =&gt; {
          if (res.data.success) {
            // console.log(res);
            this.$router.push('/login');
          }
        });
    },
  },
};
&lt;/script&gt;
</code></pre>



<h4 class="wp-block-heading">å°èˆªå®ˆè¡›</h4>



<p>é˜²æ­¢ä½¿ç”¨è€…è§€çœ‹åˆ°å¾Œå°ä»‹é¢ã€‚</p>



<p>åƒè€ƒ: Day17ï¼š<a href="https://ithelp.ithome.com.tw/articles/10206041" target="_blank" rel="noreferrer noopener">å¦‚ä½•é˜²æ­¢ä½¿ç”¨è€…æœªç™»éŒ„å°±è¦è¨ªå•é é¢ï¼Ÿ</a></p>



<pre class="wp-block-code"><code>// router/index.js
import { createRouter, createWebHashHistory } from 'vue-router';
import axios from 'axios';
import Home from '../views/Home.vue';

const routes = &#91;
  {
    path: '/',
    name: 'Home',
    component: Home,
  },
  {
    path: '/about',
    name: 'About',
    // route level code-splitting
    // this generates a separate chunk (about.&#91;hash].js) for this route
    // which is lazy-loaded when the route is visited.
    component: () =&gt; import(/* webpackChunkName: "about" */ '../views/About.vue'),
  },
  {
    path: '/login',
    name: 'Login',
    component: () =&gt; import('../views/Login.vue'),
  },
  {
    path: '/dashboard',
    name: 'Dashboard',
    component: () =&gt; import('../views/Dashboard.vue'),
    meta: { requiresAuth: true },
    children: &#91;
      {
        path: 'products',
        name: 'Products',
        component: () =&gt; import('../views/Products.vue'),
        meta: { requiresAuth: true },
      },
    ],
  },
];

const router = createRouter({
  history: createWebHashHistory(),
  routes,
});

router.beforeEach((to, from, next) =&gt; {
  console.log('å°èˆªå®ˆè¡›å•Ÿå‹•');
  if (to.meta.requiresAuth) {
    console.log('need auth');
    const token = document.cookie.replace(/(?:(?:^|.*;\s*)hexToken\s*=\s*(&#91;^;]*).*$)|^.*$/, '$1');
    axios.defaults.headers.common.Authorization = token;
    const api = `${process.env.VUE_APP_API}api/user/check`;
    axios.post(api).then((res) =&gt; {
      console.log(res.data);
      console.log(res.data.success);
      if (res.data.success) {
        next();
      } else {
        next({
          path: '/login',
        });
      }
    });
  } else next();
});

export default router;
</code></pre>



<p>åƒè€ƒ:&nbsp;<a href="https://www.youtube.com/watch?v=wdIXW-j-99Y" target="_blank" rel="noreferrer noopener">Vue Router Guard</a></p>



<pre class="wp-block-code"><code>// router/index.js
import { createRouter, createWebHashHistory } from 'vue-router';
import Home from '../views/Home.vue';

const routes = &#91;
  {
    path: '/',
    name: 'Home',
    component: Home,
  },
  {
    path: '/about',
    name: 'About',
    // route level code-splitting
    // this generates a separate chunk (about.&#91;hash].js) for this route
    // which is lazy-loaded when the route is visited.
    component: () =&gt; import(/* webpackChunkName: "about" */ '../views/About.vue'),
  },
  {
    path: '/login',
    name: 'Login',
    component: () =&gt; import('../views/Login.vue'),
  },
  {
    path: '/dashboard',
    name: 'Dashboard',
    component: () =&gt; import('../views/Dashboard.vue'),
    meta: { requiresAuth: true },
    children: &#91;
      {
        path: 'products',
        name: 'Products',
        component: () =&gt; import('../views/Products.vue'),
        meta: { requiresAuth: true },
      },
    ],
  },
];

const router = createRouter({
  history: createWebHashHistory(),
  routes,
});

document.isAuthenticated = false;

router.beforeEach((to, from, next) =&gt; {
  if (to.meta.requiresAuth &amp;&amp; !document.isAuthenticated) next({ name: 'Login' });
  else next();
});

export default router;
</code></pre>



<pre class="wp-block-code"><code>// views/Login.vue
&lt;template&gt;
  &lt;div class="container mt-5"&gt;
    &lt;form class="row justify-content-center"
    @submit.prevent="signIn"&gt;
      &lt;div class="col-md-6"&gt;
        &lt;h1 class="h3 mb-3 font-weight-normal"&gt;è«‹å…ˆç™»å…¥&lt;/h1&gt;
        &lt;div class="mb-2"&gt;
          &lt;label for="inputEmail" class="sr-only"&gt;Email address&lt;/label&gt;
          &lt;input
            type="email"
            id="inputEmail"
            class="form-control"
            placeholder="Email address"
            required
            autofocus
            v-model="user.username"
          /&gt;
        &lt;/div&gt;
        &lt;div class="mb-2"&gt;
          &lt;label for="inputPassword" class="sr-only"&gt;Password&lt;/label&gt;
          &lt;input
            type="password"
            id="inputPassword"
            class="form-control"
            placeholder="Password"
            required
            v-model="user.password"
          /&gt;
        &lt;/div&gt;
        &lt;div class="text-end mt-4"&gt;
          &lt;button class="btn btn-lg btn-primary btn-block" type="submit"&gt;ç™»å…¥&lt;/button&gt;
        &lt;/div&gt;
      &lt;/div&gt;
    &lt;/form&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script&gt;
export default {
  data() {
    return {
      user: {
        username: '',
        password: '',
      },
    };
  },
  methods: {
    signIn() {
      // console.log('login');
      // ç’°å¢ƒè®Šæ•¸ç«™é»ä½ç½® + ç™»å…¥çš„å¯¦éš› API
      const api = `${process.env.VUE_APP_API}admin/signin`;
      // console.log(api);
      // api è·¯å¾‘, å¤¾å¸¶çš„è³‡æ–™
      this.$http.post(api, this.user)
        .then((res) =&gt; {
          // ç™»å…¥åˆ¤æ–· - æˆåŠŸç‹€æ…‹
          if (res.data.success) {
            // Cookie å­˜å–
            // å‰é¢: å„²å­˜ Cookie å…§å®¹; å¾Œé¢: åˆ°æœŸæ—¥
            // å„²å­˜ Cookie å…§å®¹: è‡ªå®šç¾©åç¨± = token å€¼
            // åˆ°æœŸæ—¥è½‰æˆ token å¯ä»¥å„²å­˜çš„ç·¨ç¢¼
            const { token, expired } = res.data;
            // console.log(token, expired);
            document.cookie = `hexToken=${token}; expires=${new Date(expired)}`;
            // console.log(res);
            // ç™»å…¥æˆåŠŸæœƒè½‰å€åˆ° Dashboard é é¢
            document.isAuthenticated = true;
            this.$router.push('/dashboard/products');
          }
        });
    },
  },
};
&lt;/script&gt;
</code></pre>



<p>å»ºç«‹ NotFound é é¢ï¼Œç„¶å¾Œè½‰å€åˆ°é¦–é ã€‚</p>



<pre class="wp-block-code"><code>// views/NotFound.vue
&lt;template&gt;
  Not Found
&lt;/template&gt;

&lt;script&gt;
export default {
  created() {
    setTimeout(() =&gt; this.$router.push({
      path: '/',
    }), 5000);
  },
};
&lt;/script&gt;
</code></pre>



<pre class="wp-block-code"><code>// router/index.js
import { createRouter, createWebHashHistory } from 'vue-router';
import Home from '../views/Home.vue';

const routes = &#91;
  {
    path: '/',
    name: 'Home',
    component: Home,
  },
  {
    path: '/about',
    name: 'About',
    // route level code-splitting
    // this generates a separate chunk (about.&#91;hash].js) for this route
    // which is lazy-loaded when the route is visited.
    component: () =&gt; import(/* webpackChunkName: "about" */ '../views/About.vue'),
  },
  {
    path: '/login',
    name: 'Login',
    component: () =&gt; import('../views/Login.vue'),
  },
  {
    path: '/dashboard',
    name: 'Dashboard',
    component: () =&gt; import('../views/Dashboard.vue'),
    meta: { requiresAuth: true },
    children: &#91;
      {
        path: 'products',
        name: 'Products',
        component: () =&gt; import('../views/Products.vue'),
        meta: { requiresAuth: true },
      },
    ],
  },
  // 404 é é¢
  {
    path: '/:pathMatch(.*)*',
    name: 'NotFound',
    component: () =&gt; import('../views/NotFound.vue'),
  },
];

const router = createRouter({
  history: createWebHashHistory(),
  routes,
});

document.isAuthenticated = false;

router.beforeEach((to, from, next) =&gt; {
  if (to.meta.requiresAuth &amp;&amp; !document.isAuthenticated) next({ name: 'Login' });
  else next();
});

export default router;
</code></pre>



<h3 class="wp-block-heading">åŠ å…¥ç”¢å“åˆ—è¡¨</h3>



<ol>
<li>ä¸»è¦æ’°å¯« Products.vue æª”æ¡ˆ<br>ç¨å¾®èª¿æ•´ Dashboard.vue æª”æ¡ˆ</li>



<li>èª¿æ•´ Dashboard.vue æª”æ¡ˆç¨‹å¼ç¢¼<br>&lt;router-view&gt; æ¨™ç±¤å¤–å±¤åŠ ä¸Š .container-fluid</li>



<li>åœ¨ Products.vue æª”æ¡ˆ<br>ç”¨åˆ—è¡¨çš„å½¢å¼å®Œæˆï¼Œè¤‡è£½èª²ç¨‹éƒ¨åˆ†æ¨¡æ¿ç¨‹å¼ç¢¼è²¼ä¸Š</li>



<li>åœ¨ Products.vue æ’°å¯« JS éƒ¨åˆ†<br>å®šç¾© data() å›å‚³è³‡æ–™ï¼Œproducts è³‡æ–™æ˜¯é™£åˆ—ã€åˆ†é è³‡è¨Šæ˜¯ç‰©ä»¶</li>



<li>åœ¨ Products.vue æ’°å¯«å–å¾—é ç«¯è³‡æ–™çš„æ–¹æ³•<br>å®šç¾© methods ç‰©ä»¶ï¼ŒgetProducts() æ–¹æ³•<br>getProducts() å–å¾—ç”¢å“åˆ—è¡¨æ˜¯å¤šæ•¸çš„ç”¢å“è³‡è¨Š</li>



<li>æŸ¥çœ‹ API æ–‡ä»¶ â€“ ç®¡ç†æ§åˆ¶å° [éœ€é©—è­‰]<br>æ‰¾åˆ°å–å¾—å•†å“åˆ—è¡¨ï¼Œé€é API è·¯å¾‘å–å¾—é ç«¯è³‡æ–™<br>åƒè€ƒ Login.vue æª”æ¡ˆ signIn() æ–¹æ³•èª¿æ•´æˆå–å¾—å•†å“åˆ—è¡¨çš„ API çµæ§‹<br>[API]: /api/:api_path/admin/products?page=:page<br>å°šæœªè£½ä½œåˆ†é å¯ä»¥å…ˆæŠŠåˆ†é å¾Œé¢çš„ API ç§»é™¤<br>æŠŠ API å’Œ PATH æ”¹å¯«æˆç’°å¢ƒè®Šæ•¸çš„è·¯å¾‘<br>${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/products<br>API æ–¹æ³•æ˜¯ä½¿ç”¨ get</li>



<li>ä½¿ç”¨ç”Ÿå‘½é€±æœŸ created() è§¸ç™¼ getProducts() æ–¹æ³•<br>æŸ¥çœ‹ Console æ˜¯å¦æœ‰æ­£ç¢ºå–å¾—é ç«¯è³‡æ–™<br>å¯ä»¥å„²å­˜ç”¢å“è³‡è¨Šå’Œåˆ†é è³‡è¨Šï¼Œèª¿æ•´ getProducts() æ–¹æ³•ç¨‹å¼ç¢¼</li>



<li>ä½¿ç”¨ Vue é–‹ç™¼è€…å·¥å…·æª¢è¦–</li>



<li>æŠŠç”¢å“è³‡è¨Šæ¸²æŸ“åˆ°ç•«é¢ä¸Š</li>
</ol>



<pre class="wp-block-code"><code>// views/Products.vue
&lt;template&gt;
  &lt;table class="table mt-4"&gt;
    &lt;thead&gt;
      &lt;tr&gt;
        &lt;th width="120"&gt;åˆ†é¡&lt;/th&gt;
        &lt;th&gt;ç”¢å“åç¨±&lt;/th&gt;
        &lt;th width="120"&gt;åŸåƒ¹&lt;/th&gt;
        &lt;th width="120"&gt;å”®åƒ¹&lt;/th&gt;
        &lt;th width="100"&gt;æ˜¯å¦å•Ÿç”¨&lt;/th&gt;
        &lt;th width="200"&gt;ç·¨è¼¯&lt;/th&gt;
      &lt;/tr&gt;
    &lt;/thead&gt;
    &lt;tbody&gt;
      &lt;tr v-for="item in products" :key="item.id"&gt;
        &lt;td&gt;{{ item.category }}&lt;/td&gt;
        &lt;td&gt;{{ item.title }}&lt;/td&gt;
        &lt;td class="text-right"&gt;
          {{ item.origin_price }}
        &lt;/td&gt;
        &lt;td class="text-right"&gt;
          {{ item.price }}
        &lt;/td&gt;
        &lt;td&gt;
          &lt;span class="text-success" v-if="item.is_enabled"&gt;å•Ÿç”¨&lt;/span&gt;
          &lt;span class="text-muted" v-else&gt;æœªå•Ÿç”¨&lt;/span&gt;
        &lt;/td&gt;
        &lt;td&gt;
          &lt;div class="btn-group"&gt;
            &lt;button class="btn btn-outline-primary btn-sm"&gt;ç·¨è¼¯&lt;/button&gt;
            &lt;button class="btn btn-outline-danger btn-sm"&gt;åˆªé™¤&lt;/button&gt;
          &lt;/div&gt;
        &lt;/td&gt;
      &lt;/tr&gt;
    &lt;/tbody&gt;
  &lt;/table&gt;
&lt;/template&gt;

&lt;script&gt;
export default {
  data() {
    return {
      // ç”¢å“è³‡è¨Š
      products: &#91;],
      // åˆ†é è³‡è¨Š
      pagination: {},
    };
  },
  methods: {
    // å–å¾—ç”¢å“åˆ—è¡¨æ˜¯å¤šæ•¸çš„ç”¢å“è³‡è¨Š
    getProducts() {
      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/products`;
      this.$http.get(api)
        .then((res) =&gt; {
          if (res.data.success) {
            console.log(res.data);
            this.products = res.data.products;
            this.pagination = res.data.pagination;
          }
        });
    },
  },
  created() {
    this.getProducts();
  },
};
&lt;/script&gt;
</code></pre>



<pre class="wp-block-code"><code>// views/Dashboard.vue
&lt;template&gt;
  &lt;Navbar&gt;&lt;/Navbar&gt;
  &lt;div class="container-fluid"&gt;
    &lt;router-view/&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script&gt;
import Navbar from '../components/Navbar.vue';

export default {
  components: {
    Navbar,
  },
  created() {
    // å–å‡º token
    // test2 æ”¹å¯«æˆ hexToken
    // Airbnb è¦ç¯„æŠŠéŒ¯èª¤çš„ \ å»é™¤
    const token = document.cookie.replace(/(?:(?:^|.*;\s*)hexToken\s*=\s*(&#91;^;]*).*$)|^.*$/, '$1');
    // console.log(token);
    // token å¤¾å¸¶åˆ° headers è£¡é¢
    // &#91;"Authorization"] æ”¹å¯«æˆ .Authorization
    this.$http.defaults.headers.common.Authorization = token;
    // æª¢æŸ¥ç”¨æˆ¶æ˜¯å¦ä»ç„¶æŒçºŒç™»å…¥
    const api = `${process.env.VUE_APP_API}api/user/check`;
    this.$http.post(api)
      .then((res) =&gt; {
        // console.log(res);
        // ç™»å…¥åˆ¤æ–· - ç™»å…¥å¤±æ•—
        if (!res.data.success) {
          // ç™»å…¥å¤±æ•—å¾Œæœƒè½‰å€åˆ° Login é é¢
          this.$router.push('/login');
        }
      });
  },
};
&lt;/script&gt;
</code></pre>



<h3 class="wp-block-heading">å¢åŠ  Bootstrap Modal</h3>



<ol>
<li>è£½ä½œæ–°å¢ç”¢å“çš„å½ˆè·³è¦–çª—<br>ä½¿ç”¨äº‹ä»¶çš„æ–¹å¼å‘¼å«å…ƒä»¶</li>



<li>æŸ¥çœ‹ Bootstrap æ–‡ä»¶<br>å…ƒä»¶ &gt; äº’å‹•è¦–çª— Modal &gt; å®Œæ•´ç¯„ä¾‹ Live Demoï¼Œæ˜¯é€é HTML æ–¹å¼å‘¼å« Modal<br>å› ç‚ºä½¿ç”¨ Vue.jsï¼Œæ‰€ä»¥ç›¡å¯èƒ½ä½¿ç”¨ JS æ–¹å¼å‘¼å« Modal<br>å…ƒä»¶ &gt; äº’å‹•è¦–çª— Modal &gt; ç”¨æ³• &gt; å‚³éé¸é …<br>ä½¿ç”¨ new bootstrap modal æ–¹æ³•æŠŠ modal å¯¦é«”åŒ–</li>



<li>åœ¨ components è³‡æ–™å¤¾æ–°å¢ ProductModal.vue æª”æ¡ˆ</li>



<li>åœ¨ Bootstrap è¤‡è£½å®Œæ•´ç¯„ä¾‹ Live Demo Modal éƒ¨åˆ†çš„ç¨‹å¼ç¢¼è²¼åˆ° ProductModeal.vue æª”æ¡ˆ</li>



<li>åœ¨ ProductModal.vue æª”æ¡ˆåŠ å…¥ JS<br>è‘—é‡åœ¨ JS çš„éƒ¨åˆ†<br>åœ¨å…ƒä»¶æ–°å¢æ–¹æ³•è®“å¤–éƒ¨å…ƒä»¶å‘¼å«</li>



<li>èª¿æ•´ ProductModal.vue æª”æ¡ˆ HTML çš„éƒ¨åˆ†<br>åŠ ä¸Š ref å±¬æ€§ï¼Œé€é ref æ–¹å¼ç›´æ¥å­˜å– DOM å…ƒç´ </li>



<li>æ’°å¯« ProductModal.vue æª”æ¡ˆ JS çš„éƒ¨åˆ†</li>



<li>åƒè€ƒ Bootstrap æ–‡ä»¶ å…ƒä»¶ &gt; äº’å‹•è¦–çª— Modal &gt; ç”¨æ³• &gt; é€é JavaScript<br>è¤‡è£½ç¨‹å¼ç¢¼è²¼åˆ° mounted è£¡é¢</li>



<li>åœ¨èª¿ç”¨ä¹‹å‰å¿…é ˆæŠŠ Bootstrap çš„ Modal æ–¹æ³•è¼‰å‡ºä¾†<br>åœ¨ node_modules/bootstrap/js/dist/modal.js æª”æ¡ˆï¼ŒæŠŠ modal.js æª”æ¡ˆè¼‰é€²ä¾†<br>æœƒä½¿ç”¨ import æ–¹æ³•è¼‰å…¥ Modal<br>èª¿æ•´ mounted è£¡é¢ç¨‹å¼ç¢¼ï¼Œæ”¹æˆ new Modal</li>



<li>é€é refsæ–¹å¼æŠŠ DOM å…ƒç´ æŒ‡å‘å¤–å±¤çš„ ref modal<br>ç¹¼çºŒèª¿æ•´ mounted è£¡é¢ç¨‹å¼ç¢¼<br>this.$refs.modal</li>



<li>å‰é¢çš„è®Šæ•¸å†æŒ‡å› data è£¡é¢å®šç¾©çš„è®Šæ•¸<br>æ”¹æˆ this.modal</li>



<li>åœ¨ mounted åŠ ä¸Š this.modal.show();</li>



<li>åœ¨ Products.vue æª”æ¡ˆ<br>ç›´æ¥åˆ° JS éƒ¨åˆ†ç›´æ¥ä½¿ç”¨ import æ–¹å¼æŠŠ ProductModal æ–¹æ³•è¼‰é€²ä¾†<br>å®šç¾© components é€²è¡Œ ProductModal å€åŸŸè¨»å†Š<br>æŠŠ Productmodal åŠ åˆ°ç•«é¢ä¸Šé¢</li>



<li>æŠŠå‰©é¤˜çš„ä¸€äº›æ–¹æ³•è£œä¸Š<br>showModal æ–¹æ³•ã€hideModal æ–¹æ³•</li>



<li>åœ¨ Products.vue æª”æ¡ˆ<br>æ‰¾åˆ° &lt;ProductModal&gt; æ¨™ç±¤å®šç¾©åç¨± ref=â€productModalâ€<br>ä½¿ç”¨ ref æ–¹å¼ç›´æ¥å‘¼å« Modal æ–¹æ³•</li>



<li>åœ¨ Products.vue æª”æ¡ˆ<br>åœ¨ä¸Šæ–¹åŠ å…¥ä¸€äº›ç¨‹å¼ç¢¼<br>ä½¿ç”¨ @click=â€$refs.productModal æ–¹å¼æŒ‡å‘æ‰€å®šç¾©çš„å…ƒä»¶ï¼Œç›´æ¥å‘¼å«è£¡é¢çš„ showModal æ–¹æ³•</li>
</ol>



<pre class="wp-block-code"><code>// components/ProductModal.vue
&lt;template&gt;
  &lt;!-- Modal --&gt;
  &lt;div class="modal fade" id="exampleModal" tabindex="-1"
  aria-labelledby="exampleModalLabel" aria-hidden="true"
  ref="modal"&gt;
    &lt;div class="modal-dialog"&gt;
      &lt;div class="modal-content"&gt;
        &lt;div class="modal-header"&gt;
          &lt;h1 class="modal-title fs-5" id="exampleModalLabel"&gt;Modal title&lt;/h1&gt;
          &lt;button type="button" class="btn-close" data-bs-dismiss="modal"
          aria-label="Close"&gt;&lt;/button&gt;
        &lt;/div&gt;
        &lt;div class="modal-body"&gt;
          ...
        &lt;/div&gt;
        &lt;div class="modal-footer"&gt;
          &lt;button type="button" class="btn btn-secondary" data-bs-dismiss="modal"&gt;Close&lt;/button&gt;
          &lt;button type="button" class="btn btn-primary"&gt;Save changes&lt;/button&gt;
        &lt;/div&gt;
      &lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script&gt;
// è¼‰å…¥ Modal
import Modal from 'bootstrap/js/dist/modal';

export default {
  data() {
    return {
      // å¯¦é«”å…§å®¹å›å‚³å‡ºä¾†
      // modal è®Šæ•¸å®šç¾©ç‚ºç‰©ä»¶
      modal: {},
    };
  },
  // æ–¹æ³•
  methods: {
    showModal() {
      this.modal.show();
    },
    hideModal() {
      this.modal.hide();
    },
  },
  // å¯¦é«”å¿…é ˆåœ¨å…ƒä»¶è¼‰å…¥ä¹‹å¾Œæ‰èƒ½æ­£ç¢ºé‹ä½œ
  // mounted ç”Ÿå‘½é€±æœŸ
  mounted() {
    this.modal = new Modal(this.$refs.modal);
  },
};
&lt;/script&gt;
</code></pre>



<pre class="wp-block-code"><code>// views/Products.vue
&lt;template&gt;
  &lt;div class="text-end"&gt;
    &lt;button class="btn btn-primary" type="button"
    @click="$refs.productModal.showModal()"&gt;
      å¢åŠ ä¸€å€‹ç”¢å“
    &lt;/button&gt;
  &lt;/div&gt;
  &lt;table class="table mt-4"&gt;
    &lt;thead&gt;
      &lt;tr&gt;
        &lt;th width="120"&gt;åˆ†é¡&lt;/th&gt;
        &lt;th&gt;ç”¢å“åç¨±&lt;/th&gt;
        &lt;th width="120"&gt;åŸåƒ¹&lt;/th&gt;
        &lt;th width="120"&gt;å”®åƒ¹&lt;/th&gt;
        &lt;th width="100"&gt;æ˜¯å¦å•Ÿç”¨&lt;/th&gt;
        &lt;th width="200"&gt;ç·¨è¼¯&lt;/th&gt;
      &lt;/tr&gt;
    &lt;/thead&gt;
    &lt;tbody&gt;
      &lt;tr v-for="item in products" :key="item.id"&gt;
        &lt;td&gt;{{ item.category }}&lt;/td&gt;
        &lt;td&gt;{{ item.title }}&lt;/td&gt;
        &lt;td class="text-right"&gt;
          {{ item.origin_price }}
        &lt;/td&gt;
        &lt;td class="text-right"&gt;
          {{ item.price }}
        &lt;/td&gt;
        &lt;td&gt;
          &lt;span class="text-success" v-if="item.is_enabled"&gt;å•Ÿç”¨&lt;/span&gt;
          &lt;span class="text-muted" v-else&gt;æœªå•Ÿç”¨&lt;/span&gt;
        &lt;/td&gt;
        &lt;td&gt;
          &lt;div class="btn-group"&gt;
            &lt;button class="btn btn-outline-primary btn-sm"&gt;ç·¨è¼¯&lt;/button&gt;
            &lt;button class="btn btn-outline-danger btn-sm"&gt;åˆªé™¤&lt;/button&gt;
          &lt;/div&gt;
        &lt;/td&gt;
      &lt;/tr&gt;
    &lt;/tbody&gt;
  &lt;/table&gt;
  &lt;ProductModal ref="productModal"&gt;&lt;/ProductModal&gt;
&lt;/template&gt;

&lt;script&gt;
// è¼‰å…¥ ProductModal
import ProductModal from '../components/ProductModal.vue';

export default {
  data() {
    return {
      // ç”¢å“è³‡è¨Š
      products: &#91;],
      // åˆ†é è³‡è¨Š
      pagination: {},
    };
  },
  // å®šç¾© components é€²è¡Œå€åŸŸè¨»å†Š
  components: {
    ProductModal,
  },
  methods: {
    // å–å¾—ç”¢å“åˆ—è¡¨æ˜¯å¤šæ•¸çš„ç”¢å“è³‡è¨Š
    getProducts() {
      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/products`;
      this.$http.get(api)
        .then((res) =&gt; {
          if (res.data.success) {
            console.log(res.data);
            this.products = res.data.products;
            this.pagination = res.data.pagination;
          }
        });
    },
  },
  created() {
    this.getProducts();
  },
};
&lt;/script&gt;
</code></pre>



<h3 class="wp-block-heading">é€éå½ˆå‡ºè¦–çª—æ–°å¢å“é …</h3>



<ol>
<li>æ–°å¢ç”¢å“åœ¨äº’å‹•é‚è¼¯æ˜¯ç›¸å°è¤‡é›œå¾ˆå¤š</li>



<li>æŸ¥çœ‹ç®¡ç†æ§åˆ¶å° [éœ€é©—è­‰] API æ–‡ä»¶ â€“ å•†å“å»ºç«‹</li>



<li>æ–°å¢ç”¢å“æ˜¯å¦‚ä½•é‹ä½œ<br>é æœŸé»æ“Šå³ä¸Šæ–¹æ–°å¢ç”¢å“æœƒè·³å‡ºä¸€å€‹å½ˆå‡ºè¦–çª—ï¼Œè¼¸å…¥å…§å®¹å¾ŒæŒ‰ä¸‹ç¢ºèªæŠŠè³‡æ–™æ–°å¢</li>



<li>é€™å€‹ç« ç¯€æœ€è¤‡é›œçš„æ˜¯æœ‰ä¸€å€‹åˆ—è¡¨çš„å…ƒä»¶ï¼Œå½ˆå‡ºè¦–çª—æœƒæœ‰å¦å¤–ä¸€å€‹å…ƒä»¶ï¼Œé€™å…©å€‹å…ƒä»¶ä¹‹é–“çš„æºé€šæ˜¯é€™å€‹ç« ç¯€æœ€è¤‡é›œçš„åœ°æ–¹</li>



<li>é€éç¹ªåœ–çš„å½¢å¼äº†è§£å…ƒä»¶ä¹‹é–“æ˜¯æ€éº¼æºé€š</li>



<li>åœ¨ ProductModal.vueã€Products.vue æª”æ¡ˆ<br>åœ¨ ProductModal.vue æª”æ¡ˆå»ºæ§‹è¡¨å–®æ‰€éœ€è¦çš„ HTML ä»¥åŠ v-model é›™å‘ç¶å®š</li>



<li>æé†’: ä¸Šå‚³åœ–ç‰‡çš„è¡Œç‚º</li>



<li>åœ¨ ProductModal.vue æª”æ¡ˆ data() è£¡é¢æ–°å¢ tempProduct ç‰©ä»¶é€²è¡Œå¤–å±¤çš„è³‡æ–™å‚³é€çš„æ¥æ”¶</li>



<li>åœ¨å¤–å±¤ Products.vue æª”æ¡ˆèª¿æ•´ç¨‹å¼ç¢¼<br>æ–°å¢ updateProduct() æ–¹æ³•çš„äº‹ä»¶<br>èª¿æ•´ç¨ç«‹ openModal() äº‹ä»¶</li>



<li>openModal() æ–¹æ³•åŠ åˆ°å¢åŠ ä¸€å€‹ç”¢å“æŒ‰éˆ•</li>



<li>tempProduct è³‡æ–™å‚³é€åˆ°å…§å±¤<br>åœ¨å…§å±¤ ProductModal.vue å»ºç«‹ props ä½¿ç”¨ç‰©ä»¶æ ¼å¼å»ºç«‹ï¼Œåç¨±ç‚º product<br>åœ¨å¤–å±¤ Products.vue data() æ–°å¢ tempProduct</li>



<li>å…§å±¤æ‰€æ¥æ”¶çš„ props<br>å‚³é€²ä¾†æ™‚ä½¿ç”¨ product é€²è¡Œæ¥æ”¶ï¼Œproduct æ˜¯ä¸€å€‹ç‰©ä»¶ï¼Œé æœŸå‚³é€²ä¾†çš„å‹åˆ¥æ˜¯ç‰©ä»¶ objectï¼Œé è¨­çš„æƒ…æ³ä¸‹å¦‚æœå¤–å±¤æ²’æœ‰æ­£ç¢ºçš„å‚³éçµ¦äºˆä¸€å€‹é è¨­å€¼ default() ç›´æ¥å›å‚³ä¸€å€‹ç©ºçš„ç‰©ä»¶</li>



<li>props åŸå‰‡æ˜¯å‰å…§å¾Œå¤–<br>åœ¨ Products.vue æª”æ¡ˆ &lt;ProductModal&gt; æ¨™ç±¤æ’°å¯«ç¨‹å¼ç¢¼<br>:product=â€tempProductâ€</li>



<li>é‹ä½œæµç¨‹ï¼Œå¤–å±¤çš„ tempProduct é€é props å‚³é€é€²ä¾†ï¼Œå…§å±¤æœƒä½¿ç”¨ product é€²è¡Œæ¥æ”¶</li>



<li>ç›£è½ product å…§å®¹æœ‰æ²’æœ‰æ›´å‹•ï¼Œä½¿ç”¨ watch ç›£è½ï¼Œwatch æ˜¯ä¸€å€‹ç‰©ä»¶ï¼Œç›£è½å¤–å±¤å‚³é€²ä¾†çš„ props<br>watch çš„ç›®çš„æŠŠå‚³é€²ä¾†çš„è³‡æ–™å¯«åˆ° tempProduct è£¡é¢<br>å› ç‚ºå–®å‘æ•¸æ“šæµä¸å¯ä»¥ç›´æ¥ä¿®æ”¹å¤–å±¤çš„è³‡æ–™<br>this.tempProduct = this.product;</li>



<li>æ‰“é–‹é–‹ç™¼äººå“¡å·¥å…· &gt; Vue é–‹ç™¼è€…å·¥å…·<br>å¯ä»¥æ‰¾åˆ° &lt;ProductModal&gt;<br>æŒ‰ä¸‹å¢åŠ ä¸€å€‹ç”¢å“ï¼Œè¼¸å…¥è¡¨å–®å…§å®¹å°±å¯ä»¥çœ‹åˆ° tempProduct æœ‰å¢åŠ ä¸€äº›å…§å®¹</li>



<li>ä½¿ç”¨ emit äº‹ä»¶æŠŠ tempProduct è³‡æ–™å‚³é€åˆ°é ç«¯<br>åœ¨å…§å±¤ ProductModal.vue æª”æ¡ˆ &lt;button&gt; è—‰ç”±æŒ‰éˆ•è§¸ç™¼ emit äº‹ä»¶ @click=â€$emit(â€˜update-productâ€™)â€<br>è§¸ç™¼ emit äº‹ä»¶çš„åŒæ™‚æŠŠ tempProduct å‘å¤–å‚³é</li>



<li>åœ¨å¤–å±¤ Products.vue é æœŸæœƒä½¿ç”¨ updateProduct é€²è¡Œæ¥æ”¶ï¼Œ&lt;ProductModal&gt; æ¨™ç±¤ä½¿ç”¨ @update-product=â€updateProductâ€<br>ä½¿ç”¨å‰å…§å¾Œå¤–çš„æ¦‚å¿µï¼Œå‰é¢æ˜¯å…§å±¤çš„å…ƒä»¶ã€å¾Œé¢æ˜¯å¤–å±¤æ‰€æ¥æ”¶çš„å‡½å¼</li>



<li>é‹ä½œæµç¨‹æœƒä½¿ç”¨ $emit è§¸ç™¼å¤–å±¤çš„äº‹ä»¶ï¼Œè§¸ç™¼äº‹ä»¶çš„åç¨± updateProductï¼Œæ¥ä¸‹ä¾†è§¸ç™¼ updateProduct() å‡½å¼ï¼Œè§¸ç™¼çš„åŒæ™‚æœƒæŠŠ tempProduct è³‡æ–™å…§å®¹é€éåƒæ•¸çš„æ–¹å¼å‚³åˆ° item è£¡é¢</li>



<li>æ¸¬è©¦ tempProduct åƒæ•¸æœ‰æ²’æœ‰æ­£ç¢ºå‚³éä¾†<br>æ¸¬è©¦æ–°å¢å“é …åŠŸèƒ½æ˜¯å¦èƒ½æ­£å¸¸é‹ä½œ</li>



<li>å¿…é ˆæŠŠé–‹å•Ÿçš„ modal é—œé–‰ã€å†é‡æ–°å–å¾—åˆ—è¡¨çš„è³‡æ–™</li>
</ol>



<pre class="wp-block-code"><code>// components/ProductModal.vue
&lt;template&gt;
  &lt;!-- Modal --&gt;
  &lt;div class="modal fade" id="exampleModal" tabindex="-1"
  aria-labelledby="exampleModalLabel" aria-hidden="true"
  ref="modal"&gt;
    &lt;!-- è«‹åŒå­¸è‡ªè¡Œæ–°å¢ v-model --&gt;
    &lt;div class="modal-dialog modal-xl" role="document"&gt;
      &lt;div class="modal-content border-0"&gt;
        &lt;div class="modal-header bg-dark text-white"&gt;
          &lt;h5 class="modal-title" id="exampleModalLabel"&gt;
            &lt;span&gt;æ–°å¢ç”¢å“&lt;/span&gt;
          &lt;/h5&gt;
          &lt;button type="button" class="btn-close"
                  data-bs-dismiss="modal" aria-label="Close"&gt;&lt;/button&gt;
        &lt;/div&gt;
        &lt;div class="modal-body"&gt;
          &lt;div class="row"&gt;
            &lt;div class="col-sm-4"&gt;
              &lt;div class="mb-3"&gt;
                &lt;label for="image" class="form-label"&gt;è¼¸å…¥åœ–ç‰‡ç¶²å€&lt;/label&gt;
                &lt;input type="text" class="form-control" id="image"
                        placeholder="è«‹è¼¸å…¥åœ–ç‰‡é€£çµ"
                        v-model="tempProduct.imageUrl"&gt;
              &lt;/div&gt;
              &lt;div class="mb-3"&gt;
                &lt;label for="customFile" class="form-label"&gt;æˆ– ä¸Šå‚³åœ–ç‰‡
                  &lt;i class="fas fa-spinner fa-spin"&gt;&lt;/i&gt;
                &lt;/label&gt;
                &lt;input type="file" id="customFile" class="form-control"
                ref="fileInput"
                @change="uploadFile"&gt;
              &lt;/div&gt;
              &lt;img class="img-fluid" :src="tempProduct.imageUrl" alt=""&gt;
              &lt;!-- å»¶ä¼¸æŠ€å·§ï¼Œå¤šåœ– --&gt;
              &lt;div class="mt-5" v-if="tempProduct.images"&gt;
                &lt;div class="mb-3 input-group" v-for="(image, key) in tempProduct.images" :key="key"&gt;
                  &lt;input type="url" class="form-control form-control"
                          placeholder="è«‹è¼¸å…¥é€£çµ"
                          v-model="tempProduct.images&#91;key]"&gt;
                  &lt;button type="button" class="btn btn-outline-danger"
                  @click="tempProduct.images.splice(key, 1)"&gt;
                    ç§»é™¤
                  &lt;/button&gt;
                &lt;/div&gt;
                &lt;div v-if="tempProduct.images&#91;tempProduct.images.length - 1]
                || !tempProduct.images.length"&gt;
                  &lt;button class="btn btn-outline-primary btn-sm d-block w-100"
                  @click="tempProduct.images.push('')"&gt;
                    æ–°å¢åœ–ç‰‡
                  &lt;/button&gt;
                &lt;/div&gt;
              &lt;/div&gt;
            &lt;/div&gt;
            &lt;div class="col-sm-8"&gt;
              &lt;div class="mb-3"&gt;
                &lt;label for="title" class="form-label"&gt;æ¨™é¡Œ&lt;/label&gt;
                &lt;input type="text" class="form-control" id="title"
                        placeholder="è«‹è¼¸å…¥æ¨™é¡Œ"
                        v-model="tempProduct.title"&gt;
              &lt;/div&gt;

              &lt;div class="row gx-2"&gt;
                &lt;div class="mb-3 col-md-6"&gt;
                  &lt;label for="category" class="form-label"&gt;åˆ†é¡&lt;/label&gt;
                  &lt;input type="text" class="form-control" id="category"
                          placeholder="è«‹è¼¸å…¥åˆ†é¡"
                          v-model="tempProduct.category"&gt;
                &lt;/div&gt;
                &lt;div class="mb-3 col-md-6"&gt;
                  &lt;label for="price" class="form-label"&gt;å–®ä½&lt;/label&gt;
                  &lt;input type="text" class="form-control" id="unit"
                          placeholder="è«‹è¼¸å…¥å–®ä½"
                          v-model="tempProduct.unit"&gt;
                &lt;/div&gt;
              &lt;/div&gt;

              &lt;div class="row gx-2"&gt;
                &lt;div class="mb-3 col-md-6"&gt;
                  &lt;label for="origin_price" class="form-label"&gt;åŸåƒ¹&lt;/label&gt;
                  &lt;input type="number" class="form-control" id="origin_price"
                          placeholder="è«‹è¼¸å…¥åŸåƒ¹"
                          v-model.number="tempProduct.origin_price"&gt;
                &lt;/div&gt;
                &lt;div class="mb-3 col-md-6"&gt;
                  &lt;label for="price" class="form-label"&gt;å”®åƒ¹&lt;/label&gt;
                  &lt;input type="number" class="form-control" id="price"
                          placeholder="è«‹è¼¸å…¥å”®åƒ¹"
                          v-model.number="tempProduct.price"&gt;
                &lt;/div&gt;
              &lt;/div&gt;
              &lt;hr&gt;

              &lt;div class="mb-3"&gt;
                &lt;label for="description" class="form-label"&gt;ç”¢å“æè¿°&lt;/label&gt;
                &lt;textarea type="text" class="form-control" id="description"
                          placeholder="è«‹è¼¸å…¥ç”¢å“æè¿°"
                          v-model="tempProduct.description"&gt;&lt;/textarea&gt;
              &lt;/div&gt;
              &lt;div class="mb-3"&gt;
                &lt;label for="content" class="form-label"&gt;èªªæ˜å…§å®¹&lt;/label&gt;
                &lt;textarea type="text" class="form-control" id="content"
                          placeholder="è«‹è¼¸å…¥ç”¢å“èªªæ˜å…§å®¹"
                          v-model="tempProduct.content"&gt;&lt;/textarea&gt;
              &lt;/div&gt;
              &lt;div class="mb-3"&gt;
                &lt;div class="form-check"&gt;
                  &lt;input class="form-check-input" type="checkbox"
                          :true-value="1"
                          :false-value="0"
                          id="is_enabled"
                          v-model="tempProduct.is_enabled"&gt;
                  &lt;label class="form-check-label" for="is_enabled"&gt;
                    æ˜¯å¦å•Ÿç”¨
                  &lt;/label&gt;
                &lt;/div&gt;
              &lt;/div&gt;
            &lt;/div&gt;
          &lt;/div&gt;
        &lt;/div&gt;
        &lt;div class="modal-footer"&gt;
          &lt;button type="button" class="btn btn-outline-secondary"
                  data-bs-dismiss="modal"&gt;å–æ¶ˆ
          &lt;/button&gt;
          &lt;button type="button" class="btn btn-primary"
          @click="$emit('update-product', tempProduct)"&gt;ç¢ºèª&lt;/button&gt;
        &lt;/div&gt;
      &lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script&gt;
// è¼‰å…¥ Modal
import Modal from 'bootstrap/js/dist/modal';

export default {
  // Props å‘å…§å±¤å…ƒä»¶å‚³éè³‡æ–™ç‹€æ…‹
  props: {
    product: {
      type: Object,
      default() { return {}; },
    },
  },
  // ç›£è½
  watch: {
    product() {
      this.tempProduct = this.product;
    },
  },
  data() {
    return {
      // å¯¦é«”å…§å®¹å›å‚³å‡ºä¾†
      // modal è®Šæ•¸å®šç¾©ç‚ºç‰©ä»¶
      modal: {},
      tempProduct: {},
    };
  },
  // æ–¹æ³•
  methods: {
    showModal() {
      this.modal.show();
    },
    hideModal() {
      this.modal.hide();
    },
  },
  // å¯¦é«”å¿…é ˆåœ¨å…ƒä»¶è¼‰å…¥ä¹‹å¾Œæ‰èƒ½æ­£ç¢ºé‹ä½œ
  // mounted ç”Ÿå‘½é€±æœŸ
  mounted() {
    this.modal = new Modal(this.$refs.modal);
  },
};
&lt;/script&gt;
</code></pre>



<pre class="wp-block-code"><code>// views/Products.vue
&lt;template&gt;
  &lt;div class="text-end"&gt;
    &lt;button class="btn btn-primary" type="button"
    @click="openModal"&gt;
      å¢åŠ ä¸€å€‹ç”¢å“
    &lt;/button&gt;
  &lt;/div&gt;
  &lt;table class="table mt-4"&gt;
    &lt;thead&gt;
      &lt;tr&gt;
        &lt;th width="120"&gt;åˆ†é¡&lt;/th&gt;
        &lt;th&gt;ç”¢å“åç¨±&lt;/th&gt;
        &lt;th width="120"&gt;åŸåƒ¹&lt;/th&gt;
        &lt;th width="120"&gt;å”®åƒ¹&lt;/th&gt;
        &lt;th width="100"&gt;æ˜¯å¦å•Ÿç”¨&lt;/th&gt;
        &lt;th width="200"&gt;ç·¨è¼¯&lt;/th&gt;
      &lt;/tr&gt;
    &lt;/thead&gt;
    &lt;tbody&gt;
      &lt;tr v-for="item in products" :key="item.id"&gt;
        &lt;td&gt;{{ item.category }}&lt;/td&gt;
        &lt;td&gt;{{ item.title }}&lt;/td&gt;
        &lt;td class="text-right"&gt;
          {{ item.origin_price }}
        &lt;/td&gt;
        &lt;td class="text-right"&gt;
          {{ item.price }}
        &lt;/td&gt;
        &lt;td&gt;
          &lt;span class="text-success" v-if="item.is_enabled"&gt;å•Ÿç”¨&lt;/span&gt;
          &lt;span class="text-muted" v-else&gt;æœªå•Ÿç”¨&lt;/span&gt;
        &lt;/td&gt;
        &lt;td&gt;
          &lt;div class="btn-group"&gt;
            &lt;button class="btn btn-outline-primary btn-sm"&gt;ç·¨è¼¯&lt;/button&gt;
            &lt;button class="btn btn-outline-danger btn-sm"&gt;åˆªé™¤&lt;/button&gt;
          &lt;/div&gt;
        &lt;/td&gt;
      &lt;/tr&gt;
    &lt;/tbody&gt;
  &lt;/table&gt;
  &lt;ProductModal ref="productModal"
  :product="tempProduct"
  @update-product="updateProduct"&gt;&lt;/ProductModal&gt;
&lt;/template&gt;

&lt;script&gt;
// è¼‰å…¥ ProductModal
import ProductModal from '../components/ProductModal.vue';

export default {
  data() {
    return {
      // ç”¢å“è³‡è¨Š
      products: &#91;],
      // åˆ†é è³‡è¨Š
      pagination: {},
      tempProduct: {},
    };
  },
  // å®šç¾© components é€²è¡Œå€åŸŸè¨»å†Š
  components: {
    ProductModal,
  },
  methods: {
    // å–å¾—ç”¢å“åˆ—è¡¨æ˜¯å¤šæ•¸çš„ç”¢å“è³‡è¨Š
    getProducts() {
      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/products`;
      this.$http.get(api)
        .then((res) =&gt; {
          if (res.data.success) {
            console.log(res.data);
            this.products = res.data.products;
            this.pagination = res.data.pagination;
          }
        });
    },
    openModal() {
      this.tempProduct = {};
      const productComponent = this.$refs.productModal;
      productComponent.showModal();
    },
    updateProduct(item) {
      // æ¸¬è©¦ tempProduct åƒæ•¸æœ‰æ²’æœ‰æ­£ç¢ºå‚³éä¾†
      // console.log(item);
      this.tempProduct = item;
      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/product`;
      const productComponent = this.$refs.productModal;
      this.$http.post(api, { data: this.tempProduct })
        .then((response) =&gt; {
          console.log(response);
          // modal é—œé–‰
          productComponent.hideModal();
          // é‡æ–°å–å¾—åˆ—è¡¨è³‡æ–™
          this.getProducts();
        });
    },
  },
  created() {
    this.getProducts();
  },
};
&lt;/script&gt;
</code></pre>



<h3 class="wp-block-heading">ç”¢å“è³‡æ–™æ›´æ–°</h3>



<ol>
<li>åœ¨ Products.vue æª”æ¡ˆçš„ tempProductä¸æ˜¯åªç‚ºäº†æ–°å¢ï¼Œé‚„ç‚ºäº†ç·¨è¼¯åšä½¿ç”¨</li>



<li>åœ¨ç¯„ä¾‹é»æ“Šå…¶ä¸­ä¸€å€‹å“é …çš„ç·¨è¼¯ï¼ŒæœƒæŠŠé€™ä¸€å€‹ç”¢å“çš„å“é …æ–°å¢åˆ° tempProductï¼Œé€å‡ºçš„ä¸æ˜¯ç©ºç‰©ä»¶ï¼Œè€Œæ˜¯æ‰€é»æ“Šçš„é€™å€‹ç”¢å“çš„å“é …ï¼Œå› æ­¤é€™å€‹ tempProduct ä¸»è¦çš„ç”¨é€”æ˜¯ç‚ºäº†ç·¨è¼¯åšä½¿ç”¨</li>



<li>æŸ¥çœ‹ç®¡ç†æ§åˆ¶å° [éœ€é©—è­‰] API æ–‡ä»¶ &gt; ä¿®æ”¹ç”¢å“<br>æŸ¥çœ‹ [API]ã€[æ–¹æ³•] èˆ‡å•†å“å»ºç«‹çš„å·®ç•°<br>èª¿æ•´ç¨‹å¼ç¢¼æ’°å¯«ä¿®æ”¹ç”¢å“çš„åŠŸèƒ½</li>



<li>ä¸»è¦èª¿æ•´ç”¢å“åˆ—è¡¨çš„éƒ¨åˆ†<br>åœ¨ Products.vue æª”æ¡ˆ<br>æœƒé€éå±¬æ€§ä¾†åˆ¤æ–·ç›®å‰æ˜¯å¦æ˜¯æ–°å¢çš„ç‹€æ…‹ï¼Œåœ¨ data() æ–°å¢ä¸€å€‹ isNew çš„ç‹€æ…‹ï¼Œç›®å‰æ˜¯ false</li>



<li>åœ¨ openModal æ–°å¢å…©å€‹åƒæ•¸ï¼Œä¸€å€‹æ˜¯ä¸æ˜¯æ–°çš„ã€å¦ä¸€å€‹æ˜¯ç·¨è¼¯çš„è©±ï¼ŒæŠŠç·¨è¼¯çš„å“é …åŠ é€²ä¾†<br>ä½¿ç”¨ console æŸ¥çœ‹<br>åœ¨ HTML çš„ openModal åŠ å…¥åƒæ•¸ true<br>@click=â€openModal(true)<br>åœ¨å“é …çš„ç·¨è¼¯æŒ‰éˆ•åŠ ä¸Š @click=â€openModal(false, item)ï¼Œfalseã€ä»¥åŠç•¶å‰çš„å“é …<br>ç•¶å‰çš„å“é …æ˜¯æŠŠ v-for è£¡é¢çš„ item å¸¶åˆ°ç·¨è¼¯è£¡é¢</li>



<li>åœ¨ openModal(isNew, item) åŠ ä¸Šæµç¨‹åˆ¤æ–·ã€èª¿æ•´ç¨‹å¼ç¢¼<br>æ¸¬è©¦ç·¨è¼¯åŠŸèƒ½æ˜¯å¦èƒ½æ­£ç¢ºé‹ä½œ</li>



<li>èª¿æ•´æ›´æ–°çš„éƒ¨åˆ†<br>æŸ¥çœ‹ç®¡ç†æ§åˆ¶å° [éœ€é©—è­‰] API æ–‡ä»¶ â€“ ä¿®æ”¹ç”¢å“<br>[API]ã€[æ–¹æ³•]<br>ä½¿ç”¨ this.isNew æµç¨‹åˆ¤æ–·ç›®å‰æ˜¯æ–°å¢é‚„æ˜¯ä¿®æ”¹<br>èª¿æ•´ updateProduct(item) æ–¹æ³•ç¨‹å¼ç¢¼<br>æ¸¬è©¦ç·¨è¼¯æ›´æ–°åŠŸèƒ½æ˜¯å¦èƒ½æ­£ç¢ºé‹ä½œ</li>
</ol>



<pre class="wp-block-code"><code>// views/Products.vue
&lt;template&gt;
  &lt;div class="text-end"&gt;
    &lt;button class="btn btn-primary" type="button"
    @click="openModal(true)"&gt;
      å¢åŠ ä¸€å€‹ç”¢å“
    &lt;/button&gt;
  &lt;/div&gt;
  &lt;table class="table mt-4"&gt;
    &lt;thead&gt;
      &lt;tr&gt;
        &lt;th width="120"&gt;åˆ†é¡&lt;/th&gt;
        &lt;th&gt;ç”¢å“åç¨±&lt;/th&gt;
        &lt;th width="120"&gt;åŸåƒ¹&lt;/th&gt;
        &lt;th width="120"&gt;å”®åƒ¹&lt;/th&gt;
        &lt;th width="100"&gt;æ˜¯å¦å•Ÿç”¨&lt;/th&gt;
        &lt;th width="200"&gt;ç·¨è¼¯&lt;/th&gt;
      &lt;/tr&gt;
    &lt;/thead&gt;
    &lt;tbody&gt;
      &lt;tr v-for="item in products" :key="item.id"&gt;
        &lt;td&gt;{{ item.category }}&lt;/td&gt;
        &lt;td&gt;{{ item.title }}&lt;/td&gt;
        &lt;td class="text-right"&gt;
          {{ item.origin_price }}
        &lt;/td&gt;
        &lt;td class="text-right"&gt;
          {{ item.price }}
        &lt;/td&gt;
        &lt;td&gt;
          &lt;span class="text-success" v-if="item.is_enabled"&gt;å•Ÿç”¨&lt;/span&gt;
          &lt;span class="text-muted" v-else&gt;æœªå•Ÿç”¨&lt;/span&gt;
        &lt;/td&gt;
        &lt;td&gt;
          &lt;div class="btn-group"&gt;
            &lt;button class="btn btn-outline-primary btn-sm"
            @click="openModal(false, item)"&gt;ç·¨è¼¯&lt;/button&gt;
            &lt;button class="btn btn-outline-danger btn-sm"&gt;åˆªé™¤&lt;/button&gt;
          &lt;/div&gt;
        &lt;/td&gt;
      &lt;/tr&gt;
    &lt;/tbody&gt;
  &lt;/table&gt;
  &lt;ProductModal ref="productModal"
  :product="tempProduct"
  @update-product="updateProduct"&gt;&lt;/ProductModal&gt;
&lt;/template&gt;

&lt;script&gt;
// è¼‰å…¥ ProductModal
import ProductModal from '../components/ProductModal.vue';

export default {
  data() {
    return {
      // ç”¢å“è³‡è¨Š
      products: &#91;],
      // åˆ†é è³‡è¨Š
      pagination: {},
      tempProduct: {},
      // ç›®å‰ç‹€æ…‹
      isNew: false,
    };
  },
  // å®šç¾© components é€²è¡Œå€åŸŸè¨»å†Š
  components: {
    ProductModal,
  },
  methods: {
    // å–å¾—ç”¢å“åˆ—è¡¨æ˜¯å¤šæ•¸çš„ç”¢å“è³‡è¨Š
    getProducts() {
      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/products`;
      this.$http.get(api)
        .then((res) =&gt; {
          if (res.data.success) {
            console.log(res.data);
            this.products = res.data.products;
            this.pagination = res.data.pagination;
          }
        });
    },
    openModal(isNew, item) {
      // console.log(isNew, item);
      // æµç¨‹åˆ¤æ–·
      if (isNew) {
        this.tempProduct = {};
      } else {
        // ä½¿ç”¨å±•é–‹çš„å½¢å¼å–å‡ºè³‡æ–™
        this.tempProduct = { ...item };
      }
      this.isNew = isNew;
      const productComponent = this.$refs.productModal;
      productComponent.showModal();
    },
    updateProduct(item) {
      // æ¸¬è©¦ tempProduct åƒæ•¸æœ‰æ²’æœ‰æ­£ç¢ºå‚³éä¾†
      // console.log(item);
      this.tempProduct = item;
      // æ–°å¢
      let api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/product`;
      let httpMethod = 'post';
      // ç·¨è¼¯
      if (!this.isNes) {
        api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/product/${item.id}`;
        httpMethod = 'put';
      }
      const productComponent = this.$refs.productModal;
      this.$http&#91;httpMethod](api, { data: this.tempProduct })
        .then((response) =&gt; {
          console.log(response);
          // modal é—œé–‰
          productComponent.hideModal();
          // é‡æ–°å–å¾—åˆ—è¡¨è³‡æ–™
          this.getProducts();
        });
    },
  },
  created() {
    this.getProducts();
  },
};
&lt;/script&gt;
</code></pre>



<h3 class="wp-block-heading">é€é API ä¸Šå‚³åœ–ç‰‡</h3>



<ol>
<li>ä»‹ç´¹ä¸Šå‚³åœ–ç‰‡çš„åŠŸèƒ½</li>



<li>æŸ¥çœ‹ç®¡ç†æ§åˆ¶å° [éœ€é©—è­‰] API æ–‡ä»¶ &gt; ä¸Šå‚³åœ–ç‰‡<br>ä¸Šå‚³è¡¨å–®æ˜¯ä½¿ç”¨å‚³çµ±çš„ &lt;form&gt; æ¨™ç±¤ä¸Šå‚³çš„æ™‚å€™æœƒç”¨åˆ°<br>action æ˜¯ API è·¯å¾‘ã€enctype æ˜¯ä½¿ç”¨ form-data æ ¼å¼ã€method ä½¿ç”¨çš„æ–¹æ³•æ˜¯ post<br>input æ¬„ä½æœ‰ name å±¬æ€§æ˜¯ file-to-uploadï¼Œæ˜¯ API ä¸Šå‚³æª”æ¡ˆéœ€è¦å°æ‡‰çš„æ¬„ä½<br>è¡¨å–®å‚³é€ action</li>



<li>åœ¨ ProductModal.vue æª”æ¡ˆ<br>è§€çœ‹ä¸Šå‚³åœ–ç‰‡éƒ¨åˆ†çš„ç¨‹å¼ç¢¼ï¼ŒæåŠ&lt;input&gt; @chagne=â€uploadFileâ€ã€uploadFile() æ–¹æ³•</li>



<li>è‘—é‡åœ¨å¦‚ä½•æŠŠæª”æ¡ˆå–å‡ºï¼Œä¸¦è½‰æˆ form-data æ ¼å¼<br>é¦–è¦æ¢ä»¶æ˜¯å–å¾— input çš„æª”æ¡ˆå…§å®¹ï¼Œåœ¨é€™ &lt;input&gt; å…ˆå®šç¾© ref=â€fileInputâ€ï¼Œä¾¿æ–¼å–å¾—é€™å€‹ DOM å…ƒç´ ï¼Œä¸¦ä¸”æŠŠæª”æ¡ˆå–å‡ºä¾†ä½¿ç”¨</li>



<li>åœ¨ ProductModal.vue æª”æ¡ˆ JS éƒ¨åˆ†è‘—é‡åœ¨ uploadFile å‡½å¼<br>æŠŠ input è£¡é¢çš„å…§å®¹å–å‡º<br>ä½¿ç”¨ console.dir(uploadFile) æŸ¥çœ‹ï¼Œä¸Šå‚³ä»»æ„åœ–ç‰‡æ¸¬è©¦ï¼ŒæŸ¥æ‰¾ files å±¬æ€§ï¼Œæ˜¯ä¸€å€‹é™£åˆ—ï¼Œè¦å–å¾—çš„æ˜¯ç¬¬0å€‹æª”æ¡ˆï¼Œå†æ¬¡ä¸Šå‚³ä»»æ„åœ–ç‰‡æ¸¬è©¦</li>



<li>å–å‡ºçš„æª”æ¡ˆè½‰æˆ form-data æ ¼å¼<br>å®£å‘Š formData è®Šæ•¸ä½¿ç”¨ new FormData() JS æ–¹æ³•<br>formData.appendï¼Œappend æ˜¯è¦å¢åŠ ä¸€å€‹æ¬„ä½åˆ°è¡¨å–®è£¡é¢ï¼Œæ¬„ä½çš„åç¨±æ˜¯ API æ–‡ä»¶ name=â€file-to-uploadâ€ï¼Œæ¬„ä½å…§å®¹æ˜¯å–å‡ºä¾†çš„æª”æ¡ˆ</li>



<li>é€é API å½¢å¼ç™¼é€åˆ°é ç«¯<br>æ¸¬è©¦ console.log(response.data);</li>
</ol>



<pre class="wp-block-code"><code>// components/ProductModal.vue
&lt;template&gt;
  &lt;!-- Modal --&gt;
  &lt;div class="modal fade" id="exampleModal" tabindex="-1"
  aria-labelledby="exampleModalLabel" aria-hidden="true"
  ref="modal"&gt;
    &lt;!-- è«‹åŒå­¸è‡ªè¡Œæ–°å¢ v-model --&gt;
    &lt;div class="modal-dialog modal-xl" role="document"&gt;
      &lt;div class="modal-content border-0"&gt;
        &lt;div class="modal-header bg-dark text-white"&gt;
          &lt;h5 class="modal-title" id="exampleModalLabel"&gt;
            &lt;span&gt;æ–°å¢ç”¢å“&lt;/span&gt;
          &lt;/h5&gt;
          &lt;button type="button" class="btn-close"
                  data-bs-dismiss="modal" aria-label="Close"&gt;&lt;/button&gt;
        &lt;/div&gt;
        &lt;div class="modal-body"&gt;
          &lt;div class="row"&gt;
            &lt;div class="col-sm-4"&gt;
              &lt;div class="mb-3"&gt;
                &lt;label for="image" class="form-label"&gt;è¼¸å…¥åœ–ç‰‡ç¶²å€&lt;/label&gt;
                &lt;input type="text" class="form-control" id="image"
                        placeholder="è«‹è¼¸å…¥åœ–ç‰‡é€£çµ"
                        v-model="tempProduct.imageUrl"&gt;
              &lt;/div&gt;
              &lt;div class="mb-3"&gt;
                &lt;label for="customFile" class="form-label"&gt;æˆ– ä¸Šå‚³åœ–ç‰‡
                  &lt;i class="fas fa-spinner fa-spin"&gt;&lt;/i&gt;
                &lt;/label&gt;
                &lt;input type="file" id="customFile" class="form-control"
                ref="fileInput"
                @change="uploadFile"&gt;
              &lt;/div&gt;
              &lt;img class="img-fluid" :src="tempProduct.imageUrl" alt=""&gt;
              &lt;!-- å»¶ä¼¸æŠ€å·§ï¼Œå¤šåœ– --&gt;
              &lt;div class="mt-5" v-if="tempProduct.images"&gt;
                &lt;div class="mb-3 input-group" v-for="(image, key) in tempProduct.images" :key="key"&gt;
                  &lt;input type="url" class="form-control form-control"
                          placeholder="è«‹è¼¸å…¥é€£çµ"
                          v-model="tempProduct.images&#91;key]"&gt;
                  &lt;button type="button" class="btn btn-outline-danger"
                  @click="tempProduct.images.splice(key, 1)"&gt;
                    ç§»é™¤
                  &lt;/button&gt;
                &lt;/div&gt;
                &lt;div v-if="tempProduct.images&#91;tempProduct.images.length - 1]
                || !tempProduct.images.length"&gt;
                  &lt;button class="btn btn-outline-primary btn-sm d-block w-100"
                  @click="tempProduct.images.push('')"&gt;
                    æ–°å¢åœ–ç‰‡
                  &lt;/button&gt;
                &lt;/div&gt;
              &lt;/div&gt;
            &lt;/div&gt;
            &lt;div class="col-sm-8"&gt;
              &lt;div class="mb-3"&gt;
                &lt;label for="title" class="form-label"&gt;æ¨™é¡Œ&lt;/label&gt;
                &lt;input type="text" class="form-control" id="title"
                        placeholder="è«‹è¼¸å…¥æ¨™é¡Œ"
                        v-model="tempProduct.title"&gt;
              &lt;/div&gt;

              &lt;div class="row gx-2"&gt;
                &lt;div class="mb-3 col-md-6"&gt;
                  &lt;label for="category" class="form-label"&gt;åˆ†é¡&lt;/label&gt;
                  &lt;input type="text" class="form-control" id="category"
                          placeholder="è«‹è¼¸å…¥åˆ†é¡"
                          v-model="tempProduct.category"&gt;
                &lt;/div&gt;
                &lt;div class="mb-3 col-md-6"&gt;
                  &lt;label for="price" class="form-label"&gt;å–®ä½&lt;/label&gt;
                  &lt;input type="text" class="form-control" id="unit"
                          placeholder="è«‹è¼¸å…¥å–®ä½"
                          v-model="tempProduct.unit"&gt;
                &lt;/div&gt;
              &lt;/div&gt;

              &lt;div class="row gx-2"&gt;
                &lt;div class="mb-3 col-md-6"&gt;
                  &lt;label for="origin_price" class="form-label"&gt;åŸåƒ¹&lt;/label&gt;
                  &lt;input type="number" class="form-control" id="origin_price"
                          placeholder="è«‹è¼¸å…¥åŸåƒ¹"
                          v-model.number="tempProduct.origin_price"&gt;
                &lt;/div&gt;
                &lt;div class="mb-3 col-md-6"&gt;
                  &lt;label for="price" class="form-label"&gt;å”®åƒ¹&lt;/label&gt;
                  &lt;input type="number" class="form-control" id="price"
                          placeholder="è«‹è¼¸å…¥å”®åƒ¹"
                          v-model.number="tempProduct.price"&gt;
                &lt;/div&gt;
              &lt;/div&gt;
              &lt;hr&gt;

              &lt;div class="mb-3"&gt;
                &lt;label for="description" class="form-label"&gt;ç”¢å“æè¿°&lt;/label&gt;
                &lt;textarea type="text" class="form-control" id="description"
                          placeholder="è«‹è¼¸å…¥ç”¢å“æè¿°"
                          v-model="tempProduct.description"&gt;&lt;/textarea&gt;
              &lt;/div&gt;
              &lt;div class="mb-3"&gt;
                &lt;label for="content" class="form-label"&gt;èªªæ˜å…§å®¹&lt;/label&gt;
                &lt;textarea type="text" class="form-control" id="content"
                          placeholder="è«‹è¼¸å…¥ç”¢å“èªªæ˜å…§å®¹"
                          v-model="tempProduct.content"&gt;&lt;/textarea&gt;
              &lt;/div&gt;
              &lt;div class="mb-3"&gt;
                &lt;div class="form-check"&gt;
                  &lt;input class="form-check-input" type="checkbox"
                          :true-value="1"
                          :false-value="0"
                          id="is_enabled"
                          v-model="tempProduct.is_enabled"&gt;
                  &lt;label class="form-check-label" for="is_enabled"&gt;
                    æ˜¯å¦å•Ÿç”¨
                  &lt;/label&gt;
                &lt;/div&gt;
              &lt;/div&gt;
            &lt;/div&gt;
          &lt;/div&gt;
        &lt;/div&gt;
        &lt;div class="modal-footer"&gt;
          &lt;button type="button" class="btn btn-outline-secondary"
                  data-bs-dismiss="modal"&gt;å–æ¶ˆ
          &lt;/button&gt;
          &lt;button type="button" class="btn btn-primary"
          @click="$emit('update-product', tempProduct)"&gt;ç¢ºèª&lt;/button&gt;
        &lt;/div&gt;
      &lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script&gt;
// è¼‰å…¥ Modal
import Modal from 'bootstrap/js/dist/modal';

export default {
  // Props å‘å…§å±¤å…ƒä»¶å‚³éè³‡æ–™ç‹€æ…‹
  props: {
    product: {
      type: Object,
      default() { return {}; },
    },
  },
  // ç›£è½
  watch: {
    product() {
      this.tempProduct = this.product;
      // å¤šåœ–ç¯„ä¾‹
      if (!this.tempProduct.images) {
        this.tempProduct.images = &#91;];
      }
    },
  },
  data() {
    return {
      // å¯¦é«”å…§å®¹å›å‚³å‡ºä¾†
      // modal è®Šæ•¸å®šç¾©ç‚ºç‰©ä»¶
      modal: {},
      tempProduct: {},
    };
  },
  // æ–¹æ³•
  methods: {
    showModal() {
      this.modal.show();
    },
    hideModal() {
      this.modal.hide();
    },
    uploadFile() {
      // å–å‡ºä¸Šå‚³çš„æª”æ¡ˆ
      const uploadFile = this.$refs.fileInput.files&#91;0];
      // console.dir(uploadFile);
      // è½‰æˆ form-data æ ¼å¼
      const formData = new FormData();
      formData.append('file-to-upload', uploadFile);
      // é€é API å½¢å¼ç™¼é€åˆ°é ç«¯
      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/upload`;
      this.$http.post(url, formData).then((response) =&gt; {
        // console.log(response.data);
        if (response.data.success) {
          this.tempProduct.imageUrl = response.data.imageUrl;
        }
      });
    },
  },
  // å¯¦é«”å¿…é ˆåœ¨å…ƒä»¶è¼‰å…¥ä¹‹å¾Œæ‰èƒ½æ­£ç¢ºé‹ä½œ
  // mounted ç”Ÿå‘½é€±æœŸ
  mounted() {
    this.modal = new Modal(this.$refs.modal);
  },
};
&lt;/script&gt;
</code></pre>



<h3 class="wp-block-heading">ä½¿ç”¨ mixin æ•´åˆç›¸åŒç¨‹å¼ç¢¼</h3>



<ol>
<li>å…ƒä»¶è£¡é¢æœ‰ç›¸åŒçš„ç¨‹å¼ç¢¼è¦æ€éº¼æ¨£é€²è¡Œåˆä½µ</li>



<li>è©¦è‘—å®Œæˆ delModal åŠŸèƒ½</li>



<li>DelModal.vue å’Œ ProductModal.vue ç›¸åŒç‰‡æ®µçš„ç¨‹å¼ç¢¼<br>ä½¿ç”¨ vue çš„ç‰¹æ€§ mixin æŠŠç›¸åŒçš„ç¨‹å¼ç¢¼æŠ½é›¢å‡ºä¾†</li>



<li>åœ¨ src æ–°å¢è³‡æ–™å¤¾ mixins<br>åœ¨ mixins æ–°å¢æª”æ¡ˆ modalMixin.js</li>



<li>æŠ½é›¢ DelModal.vue æª”æ¡ˆç›¸åŒç¨‹å¼ç¢¼çš„éƒ¨åˆ†åˆ° modalMixin.js æª”æ¡ˆ</li>



<li>åœ¨ DelModal.vue æª”æ¡ˆåŒ¯å…¥ modalMixin.js æª”æ¡ˆ<br>åœ¨å…ƒä»¶åŠ å…¥ mixins å±¬æ€§ï¼Œæ˜¯ä¸€å€‹é™£åˆ—<br>mixins: [modalMixin]</li>



<li>ä½¿ç”¨ç›¸åŒçš„æ–¹å¼æŠŠ ProductModal.vue æª”æ¡ˆç›¸åŒçš„ç¨‹å¼ç¢¼ä¹ŸæŠ½é›¢å‡ºä¾†</li>
</ol>



<pre class="wp-block-code"><code>// components/DelModal.vue - 2. è©¦è‘—å®Œæˆ delModal åŠŸèƒ½
&lt;template&gt;
  &lt;div class="modal fade" id="delModal" tabindex="-1" role="dialog"
  aria-labelledby="exampleModalLabel" aria-hidden="true" ref="modal"&gt;
    &lt;div class="modal-dialog" role="document"&gt;
      &lt;div class="modal-content border-0"&gt;
        &lt;div class="modal-header bg-danger text-white"&gt;
          &lt;h5 class="modal-title"&gt;
            &lt;span&gt;åˆªé™¤ {{ item.title }}&lt;/span&gt;
          &lt;/h5&gt;
          &lt;button type="button" class="btn-close"
          data-bs-dismiss="modal" aria-label="Close"&gt;&lt;/button&gt;
        &lt;/div&gt;
        &lt;div class="modal-body"&gt;
          æ˜¯å¦åˆªé™¤ &lt;strong class="text-danger"&gt;{{ item.title }}&lt;/strong&gt; (åˆªé™¤å¾Œå°‡ç„¡æ³•æ¢å¾©)ã€‚
        &lt;/div&gt;
        &lt;div class="modal-footer"&gt;
          &lt;button type="button" class="btn btn-outline-secondary"
          data-bs-dismiss="modal"&gt;å–æ¶ˆ
          &lt;/button&gt;
          &lt;button type="button" class="btn btn-danger"
          @click="$emit('del-item')"&gt;ç¢ºèªåˆªé™¤
          &lt;/button&gt;
        &lt;/div&gt;
      &lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script&gt;
import Modal from 'bootstrap/js/dist/modal';

export default {
  props: {
    item: {},
  },
  data() {
    return {
      modal: '',
    };
  },
  methods: {
    showModal() {
      this.modal.show();
    },
    hideModal() {
      this.modal.hide();
    },
  },
  mounted() {
    this.modal = new Modal(this.$refs.modal);
  },
};
&lt;/script&gt;
</code></pre>



<pre class="wp-block-code"><code>// mixins/modalMixin.js
import Modal from 'bootstrap/js/dist/modal';

export default {
  methods: {
    showModal() {
      this.modal.show();
    },
    hideModal() {
      this.modal.hide();
    },
  },
  mounted() {
    this.modal = new Modal(this.$refs.modal);
  },
};
</code></pre>



<pre class="wp-block-code"><code>// components/DelModal.vue
&lt;template&gt;
  &lt;div class="modal fade" id="delModal" tabindex="-1" role="dialog"
  aria-labelledby="exampleModalLabel" aria-hidden="true" ref="modal"&gt;
    &lt;div class="modal-dialog" role="document"&gt;
      &lt;div class="modal-content border-0"&gt;
        &lt;div class="modal-header bg-danger text-white"&gt;
          &lt;h5 class="modal-title"&gt;
            &lt;span&gt;åˆªé™¤ {{ item.title }}&lt;/span&gt;
          &lt;/h5&gt;
          &lt;button type="button" class="btn-close"
          data-bs-dismiss="modal" aria-label="Close"&gt;&lt;/button&gt;
        &lt;/div&gt;
        &lt;div class="modal-body"&gt;
          æ˜¯å¦åˆªé™¤ &lt;strong class="text-danger"&gt;{{ item.title }}&lt;/strong&gt; (åˆªé™¤å¾Œå°‡ç„¡æ³•æ¢å¾©)ã€‚
        &lt;/div&gt;
        &lt;div class="modal-footer"&gt;
          &lt;button type="button" class="btn btn-outline-secondary"
          data-bs-dismiss="modal"&gt;å–æ¶ˆ
          &lt;/button&gt;
          &lt;button type="button" class="btn btn-danger"
          @click="$emit('del-item')"&gt;ç¢ºèªåˆªé™¤
          &lt;/button&gt;
        &lt;/div&gt;
      &lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script&gt;
import modalMixin from '@/mixins/modalMixin';

export default {
  props: {
    item: {},
  },
  data() {
    return {
      modal: '',
    };
  },
  // ä½¿ç”¨ mixins æ•´åˆç›¸åŒç¨‹å¼ç¢¼
  mixins: &#91;modalMixin],
};
&lt;/script&gt;
</code></pre>



<pre class="wp-block-code"><code>// components/ProductModal.vue
&lt;template&gt;
  &lt;!-- Modal --&gt;
  &lt;div class="modal fade" id="exampleModal" tabindex="-1"
  aria-labelledby="exampleModalLabel" aria-hidden="true"
  ref="modal"&gt;
    &lt;!-- è«‹åŒå­¸è‡ªè¡Œæ–°å¢ v-model --&gt;
    &lt;div class="modal-dialog modal-xl" role="document"&gt;
      &lt;div class="modal-content border-0"&gt;
        &lt;div class="modal-header bg-dark text-white"&gt;
          &lt;h5 class="modal-title" id="exampleModalLabel"&gt;
            &lt;span&gt;æ–°å¢ç”¢å“&lt;/span&gt;
          &lt;/h5&gt;
          &lt;button type="button" class="btn-close"
                  data-bs-dismiss="modal" aria-label="Close"&gt;&lt;/button&gt;
        &lt;/div&gt;
        &lt;div class="modal-body"&gt;
          &lt;div class="row"&gt;
            &lt;div class="col-sm-4"&gt;
              &lt;div class="mb-3"&gt;
                &lt;label for="image" class="form-label"&gt;è¼¸å…¥åœ–ç‰‡ç¶²å€&lt;/label&gt;
                &lt;input type="text" class="form-control" id="image"
                        placeholder="è«‹è¼¸å…¥åœ–ç‰‡é€£çµ"
                        v-model="tempProduct.imageUrl"&gt;
              &lt;/div&gt;
              &lt;div class="mb-3"&gt;
                &lt;label for="customFile" class="form-label"&gt;æˆ– ä¸Šå‚³åœ–ç‰‡
                  &lt;i class="fas fa-spinner fa-spin"&gt;&lt;/i&gt;
                &lt;/label&gt;
                &lt;input type="file" id="customFile" class="form-control"
                ref="fileInput"
                @change="uploadFile"&gt;
              &lt;/div&gt;
              &lt;img class="img-fluid" :src="tempProduct.imageUrl" alt=""&gt;
              &lt;!-- å»¶ä¼¸æŠ€å·§ï¼Œå¤šåœ– --&gt;
              &lt;div class="mt-5" v-if="tempProduct.images"&gt;
                &lt;div class="mb-3 input-group" v-for="(image, key) in tempProduct.images" :key="key"&gt;
                  &lt;input type="url" class="form-control form-control"
                          placeholder="è«‹è¼¸å…¥é€£çµ"
                          v-model="tempProduct.images&#91;key]"&gt;
                  &lt;button type="button" class="btn btn-outline-danger"
                  @click="tempProduct.images.splice(key, 1)"&gt;
                    ç§»é™¤
                  &lt;/button&gt;
                &lt;/div&gt;
                &lt;div v-if="tempProduct.images&#91;tempProduct.images.length - 1]
                || !tempProduct.images.length"&gt;
                  &lt;button class="btn btn-outline-primary btn-sm d-block w-100"
                  @click="tempProduct.images.push('')"&gt;
                    æ–°å¢åœ–ç‰‡
                  &lt;/button&gt;
                &lt;/div&gt;
              &lt;/div&gt;
            &lt;/div&gt;
            &lt;div class="col-sm-8"&gt;
              &lt;div class="mb-3"&gt;
                &lt;label for="title" class="form-label"&gt;æ¨™é¡Œ&lt;/label&gt;
                &lt;input type="text" class="form-control" id="title"
                        placeholder="è«‹è¼¸å…¥æ¨™é¡Œ"
                        v-model="tempProduct.title"&gt;
              &lt;/div&gt;

              &lt;div class="row gx-2"&gt;
                &lt;div class="mb-3 col-md-6"&gt;
                  &lt;label for="category" class="form-label"&gt;åˆ†é¡&lt;/label&gt;
                  &lt;input type="text" class="form-control" id="category"
                          placeholder="è«‹è¼¸å…¥åˆ†é¡"
                          v-model="tempProduct.category"&gt;
                &lt;/div&gt;
                &lt;div class="mb-3 col-md-6"&gt;
                  &lt;label for="price" class="form-label"&gt;å–®ä½&lt;/label&gt;
                  &lt;input type="text" class="form-control" id="unit"
                          placeholder="è«‹è¼¸å…¥å–®ä½"
                          v-model="tempProduct.unit"&gt;
                &lt;/div&gt;
              &lt;/div&gt;

              &lt;div class="row gx-2"&gt;
                &lt;div class="mb-3 col-md-6"&gt;
                  &lt;label for="origin_price" class="form-label"&gt;åŸåƒ¹&lt;/label&gt;
                  &lt;input type="number" class="form-control" id="origin_price"
                          placeholder="è«‹è¼¸å…¥åŸåƒ¹"
                          v-model.number="tempProduct.origin_price"&gt;
                &lt;/div&gt;
                &lt;div class="mb-3 col-md-6"&gt;
                  &lt;label for="price" class="form-label"&gt;å”®åƒ¹&lt;/label&gt;
                  &lt;input type="number" class="form-control" id="price"
                          placeholder="è«‹è¼¸å…¥å”®åƒ¹"
                          v-model.number="tempProduct.price"&gt;
                &lt;/div&gt;
              &lt;/div&gt;
              &lt;hr&gt;

              &lt;div class="mb-3"&gt;
                &lt;label for="description" class="form-label"&gt;ç”¢å“æè¿°&lt;/label&gt;
                &lt;textarea type="text" class="form-control" id="description"
                          placeholder="è«‹è¼¸å…¥ç”¢å“æè¿°"
                          v-model="tempProduct.description"&gt;&lt;/textarea&gt;
              &lt;/div&gt;
              &lt;div class="mb-3"&gt;
                &lt;label for="content" class="form-label"&gt;èªªæ˜å…§å®¹&lt;/label&gt;
                &lt;textarea type="text" class="form-control" id="content"
                          placeholder="è«‹è¼¸å…¥ç”¢å“èªªæ˜å…§å®¹"
                          v-model="tempProduct.content"&gt;&lt;/textarea&gt;
              &lt;/div&gt;
              &lt;div class="mb-3"&gt;
                &lt;div class="form-check"&gt;
                  &lt;input class="form-check-input" type="checkbox"
                          :true-value="1"
                          :false-value="0"
                          id="is_enabled"
                          v-model="tempProduct.is_enabled"&gt;
                  &lt;label class="form-check-label" for="is_enabled"&gt;
                    æ˜¯å¦å•Ÿç”¨
                  &lt;/label&gt;
                &lt;/div&gt;
              &lt;/div&gt;
            &lt;/div&gt;
          &lt;/div&gt;
        &lt;/div&gt;
        &lt;div class="modal-footer"&gt;
          &lt;button type="button" class="btn btn-outline-secondary"
                  data-bs-dismiss="modal"&gt;å–æ¶ˆ
          &lt;/button&gt;
          &lt;button type="button" class="btn btn-primary"
          @click="$emit('update-product', tempProduct)"&gt;ç¢ºèª&lt;/button&gt;
        &lt;/div&gt;
      &lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script&gt;
import modalMixin from '@/mixins/modalMixin';

export default {
  // Props å‘å…§å±¤å…ƒä»¶å‚³éè³‡æ–™ç‹€æ…‹
  props: {
    product: {
      type: Object,
      default() { return {}; },
    },
  },
  // ç›£è½
  watch: {
    product() {
      this.tempProduct = this.product;
      // å¤šåœ–ç¯„ä¾‹
      if (!this.tempProduct.images) {
        this.tempProduct.images = &#91;];
      }
    },
  },
  data() {
    return {
      // å¯¦é«”å…§å®¹å›å‚³å‡ºä¾†
      // modal è®Šæ•¸å®šç¾©ç‚ºç‰©ä»¶
      modal: {},
      tempProduct: {},
    };
  },

  // ä½¿ç”¨ mixinx æ•´åˆç›¸åŒç¨‹å¼ç¢¼
  mixins: &#91;modalMixin],
  // æ–¹æ³•
  methods: {
    uploadFile() {
      // å–å‡ºä¸Šå‚³çš„æª”æ¡ˆ
      const uploadFile = this.$refs.fileInput.files&#91;0];
      // console.dir(uploadFile);
      // è½‰æˆ form-data æ ¼å¼
      const formData = new FormData();
      formData.append('file-to-upload', uploadFile);
      // é€é API å½¢å¼ç™¼é€åˆ°é ç«¯
      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/upload`;
      this.$http.post(url, formData).then((response) =&gt; {
        // console.log(response.data);
        if (response.data.success) {
          this.tempProduct.imageUrl = response.data.imageUrl;
        }
      });
    },
  },
};
&lt;/script&gt;
</code></pre>



<h3 class="wp-block-heading">åŠ å…¥è®€å–çš„è¦–è¦ºæ•ˆæœ</h3>



<ol>
<li>ä½¿ç”¨ vue3-loading-overlay å¥—ä»¶</li>



<li>å®‰è£ vue3-loading-overlay å¥—ä»¶<br>npm install vue3-loading-overlay</li>



<li>æŸ¥çœ‹æ–‡ä»¶æ˜¯å¦‚ä½•ä½¿ç”¨è®€å–æ•ˆæœ</li>



<li>è¼‰å…¥å…ƒä»¶ â€“ Import component<br>è¤‡è£½ vue3-loading-over Usage çš„ç¨‹å¼ç¢¼<br>æ‰“é–‹ main.js æª”æ¡ˆï¼Œç„¶å¾Œè²¼ä¸Šç¨‹å¼ç¢¼<br>ä¿®æ”¹ç¨‹å¼ç¢¼è·¯å¾‘<br>è¨»å†Šå…ƒä»¶ï¼Œä½¿ç”¨å…¨åŸŸè¨»å†Šæ–¹å¼å•Ÿç”¨å…ƒä»¶</li>



<li>åœ¨ Products.vue æª”æ¡ˆæŠŠ Loading å…ƒä»¶åŠ åˆ°æœ€ä¸Šæ–¹<br>åŠ ä¸Š active ç‹€æ…‹ï¼Œé€™æ˜¯ä¸€å€‹ propsï¼Œå¯¦éš›ä¸ŠæœƒæŠŠè‡ªå®šç¾©çš„ç‹€æ…‹çµ¦å‚³é€²å»ï¼Œè‡ªå®šç¾©ç‹€æ…‹åç¨±<br>æŠŠç‹€æ…‹åŠ åˆ° data() è£¡é¢</li>



<li>é æœŸåœ¨å–å¾—ç”¢å“åˆ—è¡¨çš„æ™‚å€™å°‡è®€å–çš„æ•ˆæœé¡¯ç¤º<br>åœ¨ getProducts() å°‡è®€å–çš„æ•ˆæœåŠ ä¸Š</li>



<li>å¯ä»¥ç‚ºæ‰€æœ‰çš„ AJAX è¡Œç‚ºéƒ½åŠ ä¸Šè®€å–æ•ˆæœï¼ŒåŒ…å«ç™»å…¥ã€è¨»å†Šã€æ–°å¢ç”¢å“ã€ç·¨è¼¯ã€åˆªé™¤</li>
</ol>



<pre class="wp-block-code"><code>// src/main.js
import { createApp } from 'vue';
import axios from 'axios';
import VueAxios from 'vue-axios';
import Loading from 'vue3-loading-overlay';
import 'vue3-loading-overlay/dist/vue3-loading-overlay.css';
import App from './App.vue';
import router from './router';

const app = createApp(App);
app.use(VueAxios, axios);
app.use(router);
app.component('Loading', Loading);
app.mount('#app');
</code></pre>



<pre class="wp-block-code"><code>// views/Products.vue
&lt;template&gt;
  &lt;Loading :active="isLoading"&gt;&lt;/Loading&gt;
  &lt;div class="text-end mt-3"&gt;
    &lt;button class="btn btn-primary" type="button"
    @click="openModal(true)"&gt;
      å¢åŠ ä¸€å€‹ç”¢å“
    &lt;/button&gt;
  &lt;/div&gt;
  &lt;table class="table mt-4"&gt;
    &lt;thead&gt;
      &lt;tr&gt;
        &lt;th width="120"&gt;åˆ†é¡&lt;/th&gt;
        &lt;th&gt;ç”¢å“åç¨±&lt;/th&gt;
        &lt;th width="120"&gt;åŸåƒ¹&lt;/th&gt;
        &lt;th width="120"&gt;å”®åƒ¹&lt;/th&gt;
        &lt;th width="100"&gt;æ˜¯å¦å•Ÿç”¨&lt;/th&gt;
        &lt;th width="200"&gt;ç·¨è¼¯&lt;/th&gt;
      &lt;/tr&gt;
    &lt;/thead&gt;
    &lt;tbody&gt;
      &lt;tr v-for="item in products" :key="item.id"&gt;
        &lt;td&gt;{{ item.category }}&lt;/td&gt;
        &lt;td&gt;{{ item.title }}&lt;/td&gt;
        &lt;td class="text-right"&gt;
          {{ item.origin_price }}
        &lt;/td&gt;
        &lt;td class="text-right"&gt;
          {{ item.price }}
        &lt;/td&gt;
        &lt;td&gt;
          &lt;span class="text-success" v-if="item.is_enabled"&gt;å•Ÿç”¨&lt;/span&gt;
          &lt;span class="text-muted" v-else&gt;æœªå•Ÿç”¨&lt;/span&gt;
        &lt;/td&gt;
        &lt;td&gt;
          &lt;div class="btn-group"&gt;
            &lt;button class="btn btn-outline-primary btn-sm"
            @click="openModal(false, item)"&gt;ç·¨è¼¯&lt;/button&gt;
            &lt;button class="btn btn-outline-danger btn-sm"
            @click="openDelProductModal(item)"&gt;åˆªé™¤&lt;/button&gt;
          &lt;/div&gt;
        &lt;/td&gt;
      &lt;/tr&gt;
    &lt;/tbody&gt;
  &lt;/table&gt;
  &lt;ProductModal ref="productModal"
  :product="tempProduct"
  @update-product="updateProduct"&gt;&lt;/ProductModal&gt;
  &lt;DelModal ref="delModal"
  :item="tempProduct"
  @del-item="delProduct"&gt;&lt;/DelModal&gt;
&lt;/template&gt;

&lt;script&gt;
// è¼‰å…¥ ProductModal
import ProductModal from '@/components/ProductModal.vue';
import DelModal from '@/components/DelModal.vue';

export default {
  data() {
    return {
      // ç”¢å“è³‡è¨Š
      products: &#91;],
      // åˆ†é è³‡è¨Š
      pagination: {},
      tempProduct: {},
      // ç›®å‰ç‹€æ…‹
      isNew: false,
      // è®€å–ç‹€æ…‹
      isLoading: false,
    };
  },
  // å®šç¾© components é€²è¡Œå€åŸŸè¨»å†Š
  components: {
    ProductModal,
    DelModal,
  },
  methods: {
    // å–å¾—ç”¢å“åˆ—è¡¨æ˜¯å¤šæ•¸çš„ç”¢å“è³‡è¨Š
    getProducts() {
      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/products`;
      // è®€å–æ•ˆæœ
      this.isLoading = true;
      this.$http.get(api)
        .then((res) =&gt; {
          this.isLoading = false;
          if (res.data.success) {
            console.log(res.data);
            this.products = res.data.products;
            this.pagination = res.data.pagination;
          }
        });
    },
    openModal(isNew, item) {
      // console.log(isNew, item);
      // æµç¨‹åˆ¤æ–·
      if (isNew) {
        this.tempProduct = {};
      } else {
        // ä½¿ç”¨å±•é–‹çš„å½¢å¼å–å‡ºè³‡æ–™
        this.tempProduct = { ...item };
      }
      this.isNew = isNew;
      const productComponent = this.$refs.productModal;
      productComponent.showModal();
    },
    updateProduct(item) {
      // æ¸¬è©¦ tempProduct åƒæ•¸æœ‰æ²’æœ‰æ­£ç¢ºå‚³éä¾†
      // console.log(item);
      this.tempProduct = item;
      // æ–°å¢
      let api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/product`;
      let httpMethod = 'post';
      // ç·¨è¼¯
      if (!this.isNew) {
        api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/product/${item.id}`;
        httpMethod = 'put';
      }
      const productComponent = this.$refs.productModal;
      this.$http&#91;httpMethod](api, { data: this.tempProduct })
        .then((response) =&gt; {
          console.log(response);
          // modal é—œé–‰
          productComponent.hideModal();
          // é‡æ–°å–å¾—åˆ—è¡¨è³‡æ–™
          this.getProducts();
        });
    },
    // é–‹å•Ÿåˆªé™¤ Modal
    openDelProductModal(item) {
      this.tempProduct = { ...item };
      const delComponent = this.$refs.delModal;
      delComponent.showModal();
    },
    delProduct() {
      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/product/${this.tempProduct.id}`;
      this.$http.delete(url).then((response) =&gt; {
        console.log(response.data);
        const delComponent = this.$refs.delModal;
        delComponent.hideModal();
        this.getProducts();
      });
    },
  },
  created() {
    this.getProducts();
  },
};
&lt;/script&gt;
</code></pre>



<h3 class="wp-block-heading">åŠ å…¥éŒ¯èª¤çš„è¨Šæ¯å›é¥‹</h3>



<ol>
<li>éŒ¯èª¤é€šçŸ¥ç®—æ˜¯ç›¸å°è¤‡é›œçš„ç« ç¯€<br>ä¸»è¦åŸå› æœƒç‰½å‹•åˆ°éå¸¸å¤šçš„æª”æ¡ˆçš„äº’ç›¸æºé€š</li>



<li>ä½¿ç”¨ Bootstrap åå¸ (Toasts) å…ƒä»¶<br>å…ƒä»¶ &gt; åå¸ &gt; æ–¹æ³•</li>



<li>é€éè¬›è§£çš„å½¢å¼äº†è§£åå¸å…ƒä»¶æ˜¯æ€éº¼é‹ä½œ<br>åå¸å…ƒä»¶è·Ÿ Vue å…ƒä»¶å¦‚ä½•äº’å‹•<br>ç›®çš„æ˜¯è®“æ‰€æœ‰çš„å…ƒä»¶éƒ½å¯ä»¥ä½¿ç”¨é€™å€‹é€šçŸ¥çš„åŠŸèƒ½<br>é€šçŸ¥åŠŸèƒ½ä¸æœƒåªæ›è¼‰åœ¨ç‰¹å®šçš„å…ƒä»¶ä¸‹ï¼Œæœƒç¨ç«‹æ”¾åœ¨ä»»ä½•å¯ä»¥å‘¼å«åˆ°çš„åœ°æ–¹ï¼Œæ˜¯ç¨ç«‹å…ƒä»¶<br>å¯ä»¥å †ç–Šç”¢ç”Ÿå¤šå€‹é€šçŸ¥<br>åˆ†é›¢å¯ä»¥ç”¢ç”Ÿå †ç–Šï¼Œæ¯å€‹åå¸æœ‰è‡ªå·±ç¨ç«‹çš„ç”Ÿå‘½é€±æœŸï¼Œå•Ÿç”¨çš„æ™‚å€™å¯ä»¥ä½¿ç”¨åƒæ•¸<br>ç”¢å“åˆ—è¡¨èˆ‡åå¸å…ƒä»¶å¯ä»¥ä½¿ç”¨åˆ° mitt å¥—ä»¶ï¼Œé€²è¡Œè·¨å…ƒä»¶çš„æºé€š</li>



<li>åŸå§‹ç¢¼æ˜¯å¦‚ä½•é‹ä½œ<br>å®‰è£ mitt å¥—ä»¶ï¼ŒåŠŸèƒ½ç‚ºè·¨å…ƒä»¶æºé€šä½¿ç”¨<br>æ–°å¢ emitter.js æª”æ¡ˆã€æ’°å¯«ç¨‹å¼ç¢¼<br>åœ¨å…ƒä»¶åˆ©ç”¨çš„æ™‚å€™å¯ä»¥åªåŠ åœ¨æœ€å¤–å±¤ï¼Œåœ¨ Dashboard æª”æ¡ˆåŒ¯å…¥ emitterï¼Œä½¿ç”¨ provide è®“å…§å±¤çš„å…ƒä»¶éƒ½å¯ä»¥ä½¿ç”¨å¤–å±¤åŠŸèƒ½<br>åœ¨ Products.vue æª”æ¡ˆä½¿ç”¨ inject<br>åœ¨ ToastMessages.vue æª”æ¡ˆä½¿ç”¨ inject</li>



<li>æ–°å¢ ToastMessages.vue æª”æ¡ˆä»¥åŠç¨‹å¼ç¢¼å…§å®¹<br>ä½œç‚ºå®šä½ä½¿ç”¨ã€åˆ—è¡¨å‘ˆç¾<br>åœ¨ mounted() ç”Ÿå‘½é€±æœŸåŠ ä¸Š emitter äº‹ä»¶</li>



<li>æ–°å¢ Toast.vue æª”æ¡ˆä»¥åŠç¨‹å¼ç¢¼å…§å®¹<br>åå¸å…ƒä»¶<br>å¾ Bootstrap æ–‡ä»¶è¤‡è£½ç¨‹å¼ç¢¼<br>æœ€é‡è¦çš„åœ°æ–¹æ¯æ¬¡åå¸å…ƒä»¶ç”Ÿæˆçš„æ™‚å€™ï¼Œè§¸ç™¼å±¬æ–¼è‡ªå·±ç”Ÿå‘½å‘¨æœŸçš„æ™‚å€™ï¼Œåå¸å…ƒä»¶æœƒé–‹å•Ÿ 6 ç§’é˜å¾Œæ¶ˆå¤±</li>



<li>Products å¦‚ä½•æŠŠè¨Šæ¯å‚³çµ¦åå¸å…ƒä»¶<br>å¦‚ä½•é€é mitt é€åˆ°åå¸åˆ—è¡¨è£¡é¢<br>åœ¨ Products.vue æª”æ¡ˆæ’°å¯«ç¨‹å¼ç¢¼ï¼Œæ ¹æ“šåˆ¤æ–·ç‹€æ…‹æ¨é€ä¸åŒçš„è¨Šæ¯å…§å®¹</li>



<li>å¯ä»¥åƒè€ƒèª²ç¨‹ç¯„ä¾‹é€æ­¥æ‹†è§£æµç¨‹è©²æ€éº¼æ¨£é‹ä½œ</li>
</ol>



<pre class="wp-block-code"><code>// src/methods/emitter.js
import mitt from 'mitt';

const emitter = mitt();

export default emitter;
</code></pre>



<pre class="wp-block-code"><code>// views/Dashboard.vue
&lt;template&gt;
  &lt;Navbar&gt;&lt;/Navbar&gt;
  &lt;div class="container-fluid mt-3 position-relative"&gt;
    &lt;ToastMessages&gt;&lt;/ToastMessages&gt;
    &lt;router-view/&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script&gt;
import emitter from '@/methods/emitter';
import ToastMessages from '@/components/ToastMessages.vue';
import Navbar from '../components/Navbar.vue';

export default {
  components: {
    Navbar,
    ToastMessages,
  },
  // provide
  provide() {
    return {
      emitter,
    };
  },
  created() {
    // å–å‡º token
    // test2 æ”¹å¯«æˆ hexToken
    // Airbnb è¦ç¯„æŠŠéŒ¯èª¤çš„ \ å»é™¤
    const token = document.cookie.replace(/(?:(?:^|.*;\s*)hexToken\s*=\s*(&#91;^;]*).*$)|^.*$/, '$1');
    // console.log(token);
    // token å¤¾å¸¶åˆ° headers è£¡é¢
    // &#91;"Authorization"] æ”¹å¯«æˆ .Authorization
    this.$http.defaults.headers.common.Authorization = token;
    // æª¢æŸ¥ç”¨æˆ¶æ˜¯å¦ä»ç„¶æŒçºŒç™»å…¥
    const api = `${process.env.VUE_APP_API}api/user/check`;
    this.$http.post(api)
      .then((res) =&gt; {
        // console.log(res);
        // ç™»å…¥åˆ¤æ–· - ç™»å…¥å¤±æ•—
        if (!res.data.success) {
          // ç™»å…¥å¤±æ•—å¾Œæœƒè½‰å€åˆ° Login é é¢
          this.$router.push('/login');
        }
      });
  },
};
&lt;/script&gt;
</code></pre>



<pre class="wp-block-code"><code>// views/Products.vue
&lt;template&gt;
  &lt;Loading :active="isLoading"&gt;&lt;/Loading&gt;
  &lt;div class="text-end mt-3"&gt;
    &lt;button class="btn btn-primary" type="button"
    @click="openModal(true)"&gt;
      å¢åŠ ä¸€å€‹ç”¢å“
    &lt;/button&gt;
  &lt;/div&gt;
  &lt;table class="table mt-4"&gt;
    &lt;thead&gt;
      &lt;tr&gt;
        &lt;th width="120"&gt;åˆ†é¡&lt;/th&gt;
        &lt;th&gt;ç”¢å“åç¨±&lt;/th&gt;
        &lt;th width="120"&gt;åŸåƒ¹&lt;/th&gt;
        &lt;th width="120"&gt;å”®åƒ¹&lt;/th&gt;
        &lt;th width="100"&gt;æ˜¯å¦å•Ÿç”¨&lt;/th&gt;
        &lt;th width="200"&gt;ç·¨è¼¯&lt;/th&gt;
      &lt;/tr&gt;
    &lt;/thead&gt;
    &lt;tbody&gt;
      &lt;tr v-for="item in products" :key="item.id"&gt;
        &lt;td&gt;{{ item.category }}&lt;/td&gt;
        &lt;td&gt;{{ item.title }}&lt;/td&gt;
        &lt;td class="text-right"&gt;
          {{ item.origin_price }}
        &lt;/td&gt;
        &lt;td class="text-right"&gt;
          {{ item.price }}
        &lt;/td&gt;
        &lt;td&gt;
          &lt;span class="text-success" v-if="item.is_enabled"&gt;å•Ÿç”¨&lt;/span&gt;
          &lt;span class="text-muted" v-else&gt;æœªå•Ÿç”¨&lt;/span&gt;
        &lt;/td&gt;
        &lt;td&gt;
          &lt;div class="btn-group"&gt;
            &lt;button class="btn btn-outline-primary btn-sm"
            @click="openModal(false, item)"&gt;ç·¨è¼¯&lt;/button&gt;
            &lt;button class="btn btn-outline-danger btn-sm"
            @click="openDelProductModal(item)"&gt;åˆªé™¤&lt;/button&gt;
          &lt;/div&gt;
        &lt;/td&gt;
      &lt;/tr&gt;
    &lt;/tbody&gt;
  &lt;/table&gt;
  &lt;ProductModal ref="productModal"
  :product="tempProduct"
  @update-product="updateProduct"&gt;&lt;/ProductModal&gt;
  &lt;DelModal ref="delModal"
  :item="tempProduct"
  @del-item="delProduct"&gt;&lt;/DelModal&gt;
&lt;/template&gt;

&lt;script&gt;
// è¼‰å…¥ ProductModal
import ProductModal from '@/components/ProductModal.vue';
import DelModal from '@/components/DelModal.vue';

export default {
  data() {
    return {
      // ç”¢å“è³‡è¨Š
      products: &#91;],
      // åˆ†é è³‡è¨Š
      pagination: {},
      tempProduct: {},
      // ç›®å‰ç‹€æ…‹
      isNew: false,
      // è®€å–ç‹€æ…‹
      isLoading: false,
    };
  },
  // inject
  inject: &#91;'emitter'],
  // å®šç¾© components é€²è¡Œå€åŸŸè¨»å†Š
  components: {
    ProductModal,
    DelModal,
  },
  methods: {
    // å–å¾—ç”¢å“åˆ—è¡¨æ˜¯å¤šæ•¸çš„ç”¢å“è³‡è¨Š
    getProducts() {
      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/products`;
      // è®€å–æ•ˆæœ
      this.isLoading = true;
      this.$http.get(api)
        .then((res) =&gt; {
          this.isLoading = false;
          if (res.data.success) {
            console.log(res.data);
            this.products = res.data.products;
            this.pagination = res.data.pagination;
          }
        });
    },
    openModal(isNew, item) {
      // console.log(isNew, item);
      // æµç¨‹åˆ¤æ–·
      if (isNew) {
        this.tempProduct = {};
      } else {
        // ä½¿ç”¨å±•é–‹çš„å½¢å¼å–å‡ºè³‡æ–™
        this.tempProduct = { ...item };
      }
      this.isNew = isNew;
      const productComponent = this.$refs.productModal;
      productComponent.showModal();
    },
    updateProduct(item) {
      // æ¸¬è©¦ tempProduct åƒæ•¸æœ‰æ²’æœ‰æ­£ç¢ºå‚³éä¾†
      // console.log(item);
      this.tempProduct = item;
      // æ–°å¢
      let api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/product`;
      let httpMethod = 'post';
      // ç·¨è¼¯
      if (!this.isNew) {
        api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/product/${item.id}`;
        httpMethod = 'put';
      }
      const productComponent = this.$refs.productModal;
      this.$http&#91;httpMethod](api, { data: this.tempProduct })
        .then((response) =&gt; {
          console.log(response);
          // modal é—œé–‰
          productComponent.hideModal();
          // åˆ¤æ–·ç‹€æ…‹æ¨é€ä¸åŒçš„è¨Šæ¯å…§å®¹
          if (response.data.success) {
            this.getProducts();
            this.emitter.emit('push-message', {
              style: 'success',
              title: 'æ›´æ–°æˆåŠŸ',
            });
          } else {
            this.emitter.emit('push-message', {
              style: 'danger',
              title: 'æ›´æ–°å¤±æ•—',
              content: response.data.message.join('ã€'),
            });
          }
        });
    },
    // é–‹å•Ÿåˆªé™¤ Modal
    openDelProductModal(item) {
      this.tempProduct = { ...item };
      const delComponent = this.$refs.delModal;
      delComponent.showModal();
    },
    delProduct() {
      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/product/${this.tempProduct.id}`;
      this.$http.delete(url).then((response) =&gt; {
        console.log(response.data);
        const delComponent = this.$refs.delModal;
        delComponent.hideModal();
        this.getProducts();
      });
    },
  },
  created() {
    this.getProducts();
  },
};
&lt;/script&gt;
</code></pre>



<pre class="wp-block-code"><code>// src/components/ToastMessages.vue - å½ˆå‡ºè¨Šæ¯åˆ—è¡¨å…ƒä»¶
&lt;template&gt;
  &lt;div class="toast-container position-absolute pe-3 top-0 end-0"&gt;
    &lt;Toast v-for="(msg, key) in messages" :key="key"
      :msg="msg"
    /&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script&gt;
import Toast from '@/components/Toast.vue';

export default {
  components: { Toast },
  data() {
    return {
      messages: &#91;],
    };
  },
  inject: &#91;'emitter'],
  mounted() {
    // è«‹è‡ªè¡Œè£œä¸Š emitter äº‹ä»¶
    this.emitter.on('push-message', (message) =&gt; {
      const { style = 'success', title, content } = message;
      this.messages.push({ style, title, content });
    });
  },
};
&lt;/script&gt;
</code></pre>



<pre class="wp-block-code"><code>// src/components/Toast.vue - åå¸å…ƒä»¶
&lt;template&gt;
  &lt;div class="toast" role="alert" aria-live="assertive" aria-atomic="true" ref="toast"&gt;
    &lt;div class="toast-header"&gt;
      &lt;span :class="`bg-${msg.style}`" class="p-2 rounded me-2 d-inline-block"&gt;&lt;/span&gt;
      &lt;strong class="me-auto"&gt;{{ msg.title }}&lt;/strong&gt;
      &lt;button type="button" class="btn-close" data-bs-dismiss="toast" aria-label="Close"&gt;&lt;/button&gt;
    &lt;/div&gt;
    &lt;div class="toast-body" v-if="msg.content"&gt;
      {{ msg.content }}
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/template&gt;
&lt;script&gt;
import Toast from 'bootstrap/js/dist/toast';

export default {
  name: 'Toast',
  props: &#91;
    'msg',
  ],
  mounted() {
    const toastEl = this.$refs.toast;
    const toast = new Toast(toastEl, {
      delay: 6000,
    });
    toast.show();
  },
};
&lt;/script&gt;
</code></pre>



<h3 class="wp-block-heading">åŠ å…¥åˆ†é åˆ‡æ›</h3>



<ol>
<li>åˆ†é æœƒä½¿ç”¨å…ƒä»¶çš„æ–¹å¼è£½ä½œ<br>åœ¨ä¹‹å¾Œçš„è¨‚å–®ã€å„ªæƒ åˆ¸ä¹Ÿå¯ä½¿ç”¨åˆ†é çš„åŠŸèƒ½</li>



<li>é—œæ–¼åˆ†é æ˜¯æ€éº¼é‹ä½œ<br>é€é API å½¢å¼é€²è¡Œé é¢çš„åˆ‡æ›<br>æŸ¥çœ‹ç®¡ç†æ§åˆ¶å° [éœ€é©—è­‰] æ–‡ä»¶ &gt; å–å¾—å•†å“åˆ—è¡¨</li>



<li>ç¤ºç¯„ç›´æ¥é€éåˆ†é çš„åƒæ•¸åˆ‡æ›é é¢<br>åœ¨ Products.vue æª”æ¡ˆ getProduct() ç›´æ¥åŠ å…¥åƒæ•¸åˆ‡æ›</li>



<li>åœ¨ getProduct() åŠ ä¸Šåƒæ•¸é è¨­å€¼çš„å½¢å¼ page = 1<br>api è·¯å¾‘å°±å¯ä»¥æŠŠè®Šæ•¸è¼‰é€²ä¾†<br>æŸ¥çœ‹ Console é¡¯ç¤ºçš„è¨Šæ¯ paginationã€products<br>å°‡å¾Œç«¯å‚³ä¾†è£½ä½œåˆ†é æ‰€éœ€è¦çš„é‡è¦è³‡è¨Šè£½ä½œæˆå…ƒä»¶</li>



<li>æ–°å¢ Pagination.vue æª”æ¡ˆå’Œæ’°å¯«åˆ†é å…ƒä»¶ç¨‹å¼ç¢¼<br>é—œæ–¼æŒ‡ä»¤ã€JS è‡ªå·±ç·´ç¿’æ’°å¯«</li>



<li>åœ¨ Products.vue æª”æ¡ˆåŠ å…¥ &lt;Pagination&gt; æ¨™ç±¤<br>åœ¨å¤–å±¤å®šç¾© Products å…ƒä»¶ï¼Œåœ¨å…§å±¤å®šç¾© Pagination å…ƒä»¶ï¼ŒæŠŠåˆ†é æ‰€éœ€è¦çš„è³‡è¨Šå‚³é€²å»ï¼Œä½¿ç”¨ props çš„å½¢å¼æŠŠåˆ†é çš„è³‡è¨Šå‚³é€²å» props:paginationï¼Œå°±æ˜¯å¾ AJAX å¨¶å›ä¾†çš„ç›¸é—œè³‡è¨Šã€‚åœ¨é»æ“Šåˆ†é çš„æ™‚å€™æœƒè§¸ç™¼ emitï¼ŒåŸ·è¡Œé é¢åˆ‡æ›ä½¿ç”¨ï¼Œæœƒå›å‚³ emits è§¸ç™¼ getProduct äº‹ä»¶ã€åŒæ™‚æŠŠé ç¢¼å¸¶é€²ä¾†ï¼Œé€éé€™ç¨®æ–¹å¼é€²è¡Œé é¢çš„åˆ‡æ›</li>



<li>åœ¨ Pagination.vue æª”æ¡ˆé æœŸå¤–é¢æœƒå‚³å…¥ä¸€å€‹ pagesï¼Œé€™å€‹å°±æ˜¯ paginationï¼Œåˆ»æ„ç”¨ä¸åŒçš„åç¨±ä¾†ä»£è¡¨ï¼Œåœ¨é€™è£¡æœƒå‚³å…¥ä¸€å€‹ paginationï¼Œæ˜¯å¾ AJAX æ‰€å–å›ä¾†çš„è³‡æ–™</li>



<li>åœ¨ Products.vue æª”æ¡ˆ<br>åœ¨ç”¢å“é é¢çš„ getProducts ä¹‹å¾Œæ˜¯æœ‰æŠŠ pagination çš„è³‡è¨Šå­˜èµ·ä¾†ï¼Œå­˜èµ·ä¾†çš„å…§å®¹å¯ä»¥åœ¨ &lt;Pagination&gt; æ¨™ç±¤å¸¶é€²ä¾†ï¼Œé‡é»: å‰å…§å¾Œå¤–çš„æ¦‚å¿µï¼Œå‰é¢æ”¾å…¥å…§å±¤æ‰€éœ€è¦æ¥æ”¶çš„è³‡è¨Šï¼Œå¤–å±¤å¸¶å…¥ pagination</li>



<li>åœ¨ Pagination æª”æ¡ˆæŠŠé ç¢¼åŠ åˆ°é€™å€‹å€å¡Š<br>åœ¨ AJAX æ‰€å–å›ä¾†çš„è³‡æ–™ pagination è£¡é¢æœ‰ total_pages è®Šæ•¸ï¼Œå°±å¯ä»¥æŠŠè®Šæ•¸å¸¶é€²ä¾†ï¼Œä½¿ç”¨ v-for çš„å½¢å¼ã€page in pages å¾å¤–å±¤å¸¶é€²ä¾†çš„ props åç¨± pages ç„¶å¾Œæ‰¾åˆ° total_pagesï¼Œä½¿ç”¨ v-for è¦å†åŠ ä¸Š keyï¼Œå¸¶å…¥çš„æ˜¯ page åç¨±ï¼Œåœ¨ &lt;a&gt; é€£çµæŠŠ page å¸¶é€²ä¾†</li>



<li>é æœŸé»ä¸‹æŒ‰éˆ•æ™‚æœƒåˆ‡æ›é é¢<br>ä½¿ç”¨ @click.prevent åŠ ä¸Šä¸€å€‹è‡ªå®šç¾©äº‹ä»¶çš„åç¨± updatePage ä¸¦ä¸”æŠŠé ç¢¼å¸¶é€²å»<br>èª¿æ•´ä¸€ä¸‹å‡½å¼çš„å…§å®¹ï¼Œæœƒç›´æ¥å°å¤–ç™¼é€åˆ‡æ›é é¢çš„äº‹ä»¶<br>this.$emit(â€™emit-pagesâ€™, page)</li>



<li>åœ¨ Products.vue æª”æ¡ˆåšä¸»è¦çš„åˆ‡æ›ï¼Œé æœŸæœƒé€é emit äº‹ä»¶æŠŠäº‹ä»¶å¾€å¤–é€ï¼Œåœ¨ &lt;Pagination&gt; æ¨™ç±¤åŠ ä¸Šç”±å‰å…§å¾Œå¤–ï¼Œå…§å±¤äº‹ä»¶åç¨±ï¼Œé æœŸåˆ‡æ› Productsã€è§¸ç™¼ getProducts çš„äº‹ä»¶ï¼Œå¤–å±¤ getProducts äº‹ä»¶</li>



<li>åœ¨ Pagination.vue æª”æ¡ˆåŠ ä¸Š active æ¨£å¼åˆ¤æ–·</li>



<li>ä¸Šä¸€é ã€ä¸‹ä¸€é è‡ªè¡Œè£½ä½œ</li>
</ol>



<pre class="wp-block-code"><code>// src/components/Pagination.vue
&lt;template&gt;
  &lt;nav aria-label="Page navigation example"&gt;
    &lt;ul class="pagination justify-content-center"&gt;
      &lt;li class="page-item" :class="{ 'disabled': !pages.has_pre }"&gt;
        &lt;a class="page-link" href="#" aria-label="Previous"
        @click.prevent="updatePage(pages.current_page - 1)"&gt;
          &lt;span aria-hidden="true"&gt;&amp;laquo;&lt;/span&gt;
        &lt;/a&gt;
      &lt;/li&gt;
      &lt;li class="page-item"
      v-for="page in pages.total_pages"
      :key="page"
      :class="{ 'active': page === pages.current_page }"&gt;
        &lt;a class="page-link" href="#"
        @click.prevent="updatePage(page)"&gt;
          {{ page }}
        &lt;/a&gt;
      &lt;/li&gt;
      &lt;li class="page-item" :class="{ 'disabled': !pages.has_next }"&gt;
        &lt;a class="page-link" href="#" aria-label="Next"
        @click.prevent="updatePage(pages.current_page + 1)"&gt;
          &lt;span aria-hidden="true"&gt;&amp;raquo;&lt;/span&gt;
        &lt;/a&gt;
      &lt;/li&gt;
    &lt;/ul&gt;
  &lt;/nav&gt;
&lt;/template&gt;

&lt;script&gt;
// :pages="{ é ç¢¼è³‡è¨Š }"
// @emitPages="æ›´æ–°é é¢äº‹ä»¶"
export default {
  props: &#91;'pages'],
  methods: {
    updatePage(page) {
      this.$emit('emit-pages', page);
    },
  },
};
&lt;/script&gt;
</code></pre>



<pre class="wp-block-code"><code>// views/Products.vue
&lt;template&gt;
  &lt;Loading :active="isLoading"&gt;&lt;/Loading&gt;
  &lt;div class="text-end mt-3"&gt;
    &lt;button class="btn btn-primary" type="button"
    @click="openModal(true)"&gt;
      å¢åŠ ä¸€å€‹ç”¢å“
    &lt;/button&gt;
  &lt;/div&gt;
  &lt;table class="table mt-4"&gt;
    &lt;thead&gt;
      &lt;tr&gt;
        &lt;th width="120"&gt;åˆ†é¡&lt;/th&gt;
        &lt;th&gt;ç”¢å“åç¨±&lt;/th&gt;
        &lt;th width="120"&gt;åŸåƒ¹&lt;/th&gt;
        &lt;th width="120"&gt;å”®åƒ¹&lt;/th&gt;
        &lt;th width="100"&gt;æ˜¯å¦å•Ÿç”¨&lt;/th&gt;
        &lt;th width="200"&gt;ç·¨è¼¯&lt;/th&gt;
      &lt;/tr&gt;
    &lt;/thead&gt;
    &lt;tbody&gt;
      &lt;tr v-for="item in products" :key="item.id"&gt;
        &lt;td&gt;{{ item.category }}&lt;/td&gt;
        &lt;td&gt;{{ item.title }}&lt;/td&gt;
        &lt;td class="text-right"&gt;
          {{ item.origin_price }}
        &lt;/td&gt;
        &lt;td class="text-right"&gt;
          {{ item.price }}
        &lt;/td&gt;
        &lt;td&gt;
          &lt;span class="text-success" v-if="item.is_enabled"&gt;å•Ÿç”¨&lt;/span&gt;
          &lt;span class="text-muted" v-else&gt;æœªå•Ÿç”¨&lt;/span&gt;
        &lt;/td&gt;
        &lt;td&gt;
          &lt;div class="btn-group"&gt;
            &lt;button class="btn btn-outline-primary btn-sm"
            @click="openModal(false, item)"&gt;ç·¨è¼¯&lt;/button&gt;
            &lt;button class="btn btn-outline-danger btn-sm"
            @click="openDelProductModal(item)"&gt;åˆªé™¤&lt;/button&gt;
          &lt;/div&gt;
        &lt;/td&gt;
      &lt;/tr&gt;
    &lt;/tbody&gt;
  &lt;/table&gt;
  &lt;Pagination :pages="pagination"
  @emit-pages="getProducts"&gt;&lt;/Pagination&gt;
  &lt;ProductModal ref="productModal"
  :product="tempProduct"
  @update-product="updateProduct"&gt;&lt;/ProductModal&gt;
  &lt;DelModal ref="delModal"
  :item="tempProduct"
  @del-item="delProduct"&gt;&lt;/DelModal&gt;
&lt;/template&gt;

&lt;script&gt;
// è¼‰å…¥ ProductModal
import ProductModal from '@/components/ProductModal.vue';
import DelModal from '@/components/DelModal.vue';
import Pagination from '@/components/Pagination.vue';

export default {
  data() {
    return {
      // ç”¢å“è³‡è¨Š
      products: &#91;],
      // åˆ†é è³‡è¨Š
      pagination: {},
      tempProduct: {},
      // ç›®å‰ç‹€æ…‹
      isNew: false,
      // è®€å–ç‹€æ…‹
      isLoading: false,
    };
  },
  // inject
  inject: &#91;'emitter'],
  // å®šç¾© components é€²è¡Œå€åŸŸè¨»å†Š
  components: {
    ProductModal,
    DelModal,
    Pagination,
  },
  methods: {
    // å–å¾—ç”¢å“åˆ—è¡¨æ˜¯å¤šæ•¸çš„ç”¢å“è³‡è¨Š
    getProducts(page = 1) {
      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/products?page=${page}`;
      // è®€å–æ•ˆæœ
      this.isLoading = true;
      this.$http.get(api)
        .then((res) =&gt; {
          this.isLoading = false;
          if (res.data.success) {
            console.log(res.data);
            this.products = res.data.products;
            this.pagination = res.data.pagination;
          }
        });
    },
    openModal(isNew, item) {
      // console.log(isNew, item);
      // æµç¨‹åˆ¤æ–·
      if (isNew) {
        this.tempProduct = {};
      } else {
        // ä½¿ç”¨å±•é–‹çš„å½¢å¼å–å‡ºè³‡æ–™
        this.tempProduct = { ...item };
      }
      this.isNew = isNew;
      const productComponent = this.$refs.productModal;
      productComponent.showModal();
    },
    updateProduct(item) {
      // æ¸¬è©¦ tempProduct åƒæ•¸æœ‰æ²’æœ‰æ­£ç¢ºå‚³éä¾†
      // console.log(item);
      this.tempProduct = item;
      // æ–°å¢
      let api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/product`;
      let httpMethod = 'post';
      // ç·¨è¼¯
      if (!this.isNew) {
        api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/product/${item.id}`;
        httpMethod = 'put';
      }
      const productComponent = this.$refs.productModal;
      this.$http&#91;httpMethod](api, { data: this.tempProduct })
        .then((response) =&gt; {
          console.log(response);
          // modal é—œé–‰
          productComponent.hideModal();
          // åˆ¤æ–·ç‹€æ…‹æ¨é€ä¸åŒçš„è¨Šæ¯å…§å®¹
          if (response.data.success) {
            this.getProducts();
            this.emitter.emit('push-message', {
              style: 'success',
              title: 'æ›´æ–°æˆåŠŸ',
            });
          } else {
            this.emitter.emit('push-message', {
              style: 'danger',
              title: 'æ›´æ–°å¤±æ•—',
              content: response.data.message.join('ã€'),
            });
          }
        });
    },
    // é–‹å•Ÿåˆªé™¤ Modal
    openDelProductModal(item) {
      this.tempProduct = { ...item };
      const delComponent = this.$refs.delModal;
      delComponent.showModal();
    },
    delProduct() {
      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/product/${this.tempProduct.id}`;
      this.$http.delete(url).then((response) =&gt; {
        console.log(response.data);
        const delComponent = this.$refs.delModal;
        delComponent.hideModal();
        this.getProducts();
      });
    },
  },
  created() {
    this.getProducts();
  },
};
&lt;/script&gt;
</code></pre>



<h3 class="wp-block-heading">å¥—ç”¨å…¨åŸŸçš„åƒåˆ†è™Ÿ</h3>



<ol>
<li>æ•¸å€¼è¶…éä¸€åƒä»¥ä¸Šå»ºè­°åŠ ä¸Šåƒåˆ†è™Ÿï¼Œåœ¨é–±è®€ä¸Šé¢æœƒæ¯”è¼ƒå¥½ï¼Œåœ¨ç”¢å“é é¢ã€è¨‚å–®ã€å„ªæƒ åˆ¸â€¦ç­‰éƒ½æœ‰å¯èƒ½æœƒåŠ å…¥åƒåˆ†è™Ÿï¼Œæœƒå»ºè­°æŠŠåƒåˆ†è™ŸåŠŸèƒ½ç¨ç«‹èµ·ä¾†ï¼Œåœ¨æ¯ä¸€å€‹é é¢ã€å…ƒä»¶éƒ½å¯ä»¥ä½¿ç”¨</li>



<li>æ–°å¢ filters.js æª”æ¡ˆ<br>åŠ å…¥åƒåˆ†è™Ÿæ–¹æ³•ã€è½‰æ›æ™‚é–“æ ¼å¼æ–¹æ³•</li>



<li>åœ¨ Products.vue æª”æ¡ˆæœ‰ origin_priceã€price<br>æŠŠå‡½å¼åŠ å…¥è½‰æ›æˆåƒåˆ†è™Ÿçš„å½¢å¼<br>åŒ¯å…¥ filters.js æª”æ¡ˆï¼Œåœ¨ Products.vue æª”æ¡ˆåªéœ€è¦åŒ¯å…¥ currency æ–¹æ³•<br>å°‡ currency åŠ åˆ° methods æ–¹æ³•è£¡é¢å°±å¯ä»¥ç›´æ¥ä½¿ç”¨<br>currency åŠ åœ¨é‡‘é¡çš„å‰æ–¹ï¼Œå› ç‚º currency æœ¬èº«æ˜¯å‡½å¼å¿…é ˆä½¿ç”¨æ‹¬è™Ÿ</li>



<li>é¡å¤–çš„æŠ€å·§ï¼Œåœ¨ Vue3 å®˜æ–¹æ–‡ä»¶æœ‰æ‡‰ç”¨é…ç½® &gt; globalPropertiesï¼Œæ˜¯å…¨åŸŸçš„å±¬æ€§<br>å¯ä»¥ä½¿ç”¨ app.config.globalProperties å®šç¾©ä¸€å€‹å…¨åŸŸçš„å±¬æ€§çš„æ–¹æ³•ï¼Œè‡ªå®šç¾©ä»»ä½•æƒ³åŠ å…¥çš„å±¬æ€§<br>åœ¨æ¯å€‹å­å…ƒä»¶ä¸‹éƒ½å¯ä»¥ç›´æ¥å»ä½¿ç”¨ this æ–¹å¼å‘¼å«é€™å€‹è®Šæ•¸ï¼Œå¦‚æœæ˜¯åŠ å…¥ä¸€èˆ¬çš„ç´”å€¼æ•ˆç›Šå…¶å¯¦ä¸å¤§ï¼ŒåŠ å…¥æ–¹æ³•çš„è©±ï¼Œå°±åƒåƒåˆ†è™Ÿæ–¹æ³•ä½¿ç”¨åº¦å°±æœƒé«˜å¾ˆå¤š</li>



<li>å¯¦ä½œé¡å¤–çš„æŠ€å·§<br>åœ¨ main.js æª”æ¡ˆå°±å¯ä»¥æŠŠ filters.js æ–¹æ³•åŒ¯å…¥<br>åƒè€ƒå®˜æ–¹æ–‡ä»¶ app.config è¨­å®š<br>app.config.globalProperties ç„¶å¾ŒåŠ ä¸Šä¸€å€‹è‡ªå®šç¾©çš„å±¬æ€§åç¨±ï¼Œä½¿ç”¨ $filters é€™å€‹åç¨±ä½œç‚ºä¸€å€‹é›†åˆï¼Œå»ºè­°åœ¨å±¬æ€§åç¨±æœ€å‰æ–¹åŠ ä¸Š$ï¼Œé€™æ¨£æ¯”è¼ƒä¸æœƒè·Ÿå€åŸŸå…ƒä»¶è£¡é¢çš„è®Šæ•¸ç”¢ç”Ÿè¡çªï¼Œç­‰æ–¼ä¸€å€‹ç‰©ä»¶ï¼Œå°±å¯ä»¥æŠŠ currency æ–¹æ³•å¸¶é€²ä¾†</li>



<li>filters.js å…¶å¯¦æœ‰å¾ˆå¤šæ–¹æ³•ï¼Œå¯ä»¥é™¸çºŒåŠ å…¥è¨±å¤šæ–¹æ³•ï¼Œéƒ½å¯ä»¥é€éé€™ç¨®æ–¹å¼åŠ åˆ° filters ç‰©ä»¶è£¡é¢</li>



<li>åœ¨ Products.vue æª”æ¡ˆï¼ŒåŸæœ¬æ˜¯ç›´æ¥å‘¼å« currency æ–¹æ³•ï¼Œç¾åœ¨æœƒåœ¨å‰é¢åŠ ä¸Š $filtersï¼Œå¯è‡ªå®šç¾©å±¬æ€§åç¨±</li>



<li>ä½¿ç”¨ $filters é€™ç¨®æ–¹å¼åŠ åˆ°å…¨åŸŸçš„å±¬æ€§ï¼Œå°±å¿…é ˆæŠŠåŸæœ¬åœ¨å€åŸŸçš„æ–¹å¼æŠŠç§»é™¤</li>
</ol>



<pre class="wp-block-code"><code>// methods/filters.js
export function currency(num) {
  const n = parseInt(num, 10);
  return `${n.toFixed(0).replace(/./g, (c, i, a) =&gt; (i &amp;&amp; c !== '.' &amp;&amp; ((a.length - i) % 3 === 0) ? `, ${c}`.replace(/\s/g, '') : c))}`;
}

export function date(time) {
  const localDate = new Date(time * 1000);
  return localDate.toLocaleDateString();
}
</code></pre>



<pre class="wp-block-code"><code>// views/Products.vue
&lt;template&gt;
  &lt;Loading :active="isLoading"&gt;&lt;/Loading&gt;
  &lt;div class="text-end mt-3"&gt;
    &lt;button class="btn btn-primary" type="button"
    @click="openModal(true)"&gt;
      å¢åŠ ä¸€å€‹ç”¢å“
    &lt;/button&gt;
  &lt;/div&gt;
  &lt;table class="table mt-4"&gt;
    &lt;thead&gt;
      &lt;tr&gt;
        &lt;th width="120"&gt;åˆ†é¡&lt;/th&gt;
        &lt;th&gt;ç”¢å“åç¨±&lt;/th&gt;
        &lt;th width="120"&gt;åŸåƒ¹&lt;/th&gt;
        &lt;th width="120"&gt;å”®åƒ¹&lt;/th&gt;
        &lt;th width="100"&gt;æ˜¯å¦å•Ÿç”¨&lt;/th&gt;
        &lt;th width="200"&gt;ç·¨è¼¯&lt;/th&gt;
      &lt;/tr&gt;
    &lt;/thead&gt;
    &lt;tbody&gt;
      &lt;tr v-for="item in products" :key="item.id"&gt;
        &lt;td&gt;{{ item.category }}&lt;/td&gt;
        &lt;td&gt;{{ item.title }}&lt;/td&gt;
        &lt;td class="text-right"&gt;
          {{ $filters.currency(item.origin_price) }}
        &lt;/td&gt;
        &lt;td class="text-right"&gt;
          {{ $filters.currency(item.price) }}
        &lt;/td&gt;
        &lt;td&gt;
          &lt;span class="text-success" v-if="item.is_enabled"&gt;å•Ÿç”¨&lt;/span&gt;
          &lt;span class="text-muted" v-else&gt;æœªå•Ÿç”¨&lt;/span&gt;
        &lt;/td&gt;
        &lt;td&gt;
          &lt;div class="btn-group"&gt;
            &lt;button class="btn btn-outline-primary btn-sm"
            @click="openModal(false, item)"&gt;ç·¨è¼¯&lt;/button&gt;
            &lt;button class="btn btn-outline-danger btn-sm"
            @click="openDelProductModal(item)"&gt;åˆªé™¤&lt;/button&gt;
          &lt;/div&gt;
        &lt;/td&gt;
      &lt;/tr&gt;
    &lt;/tbody&gt;
  &lt;/table&gt;
  &lt;Pagination :pages="pagination"
  @emit-pages="getProducts"&gt;&lt;/Pagination&gt;
  &lt;ProductModal ref="productModal"
  :product="tempProduct"
  @update-product="updateProduct"&gt;&lt;/ProductModal&gt;
  &lt;DelModal ref="delModal"
  :item="tempProduct"
  @del-item="delProduct"&gt;&lt;/DelModal&gt;
&lt;/template&gt;

&lt;script&gt;
// è¼‰å…¥ ProductModal
import ProductModal from '@/components/ProductModal.vue';
import DelModal from '@/components/DelModal.vue';
import Pagination from '@/components/Pagination.vue';
// import { currency } from '@/methods/filters';

export default {
  data() {
    return {
      // ç”¢å“è³‡è¨Š
      products: &#91;],
      // åˆ†é è³‡è¨Š
      pagination: {},
      tempProduct: {},
      // ç›®å‰ç‹€æ…‹
      isNew: false,
      // è®€å–ç‹€æ…‹
      isLoading: false,
    };
  },
  // inject
  inject: &#91;'emitter'],
  // å®šç¾© components é€²è¡Œå€åŸŸè¨»å†Š
  components: {
    ProductModal,
    DelModal,
    Pagination,
  },
  methods: {
    // å–å¾—ç”¢å“åˆ—è¡¨æ˜¯å¤šæ•¸çš„ç”¢å“è³‡è¨Š
    getProducts(page = 1) {
      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/products?page=${page}`;
      // è®€å–æ•ˆæœ
      this.isLoading = true;
      this.$http.get(api)
        .then((res) =&gt; {
          this.isLoading = false;
          if (res.data.success) {
            console.log(res.data);
            this.products = res.data.products;
            this.pagination = res.data.pagination;
          }
        });
    },
    openModal(isNew, item) {
      // console.log(isNew, item);
      // æµç¨‹åˆ¤æ–·
      if (isNew) {
        this.tempProduct = {};
      } else {
        // ä½¿ç”¨å±•é–‹çš„å½¢å¼å–å‡ºè³‡æ–™
        this.tempProduct = { ...item };
      }
      this.isNew = isNew;
      const productComponent = this.$refs.productModal;
      productComponent.showModal();
    },
    updateProduct(item) {
      // æ¸¬è©¦ tempProduct åƒæ•¸æœ‰æ²’æœ‰æ­£ç¢ºå‚³éä¾†
      // console.log(item);
      this.tempProduct = item;
      // æ–°å¢
      let api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/product`;
      let httpMethod = 'post';
      // ç·¨è¼¯
      if (!this.isNew) {
        api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/product/${item.id}`;
        httpMethod = 'put';
      }
      const productComponent = this.$refs.productModal;
      this.$http&#91;httpMethod](api, { data: this.tempProduct })
        .then((response) =&gt; {
          console.log(response);
          // modal é—œé–‰
          productComponent.hideModal();
          // åˆ¤æ–·ç‹€æ…‹æ¨é€ä¸åŒçš„è¨Šæ¯å…§å®¹
          if (response.data.success) {
            this.getProducts();
            this.emitter.emit('push-message', {
              style: 'success',
              title: 'æ›´æ–°æˆåŠŸ',
            });
          } else {
            this.emitter.emit('push-message', {
              style: 'danger',
              title: 'æ›´æ–°å¤±æ•—',
              content: response.data.message.join('ã€'),
            });
          }
        });
    },
    // é–‹å•Ÿåˆªé™¤ Modal
    openDelProductModal(item) {
      this.tempProduct = { ...item };
      const delComponent = this.$refs.delModal;
      delComponent.showModal();
    },
    delProduct() {
      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/product/${this.tempProduct.id}`;
      this.$http.delete(url).then((response) =&gt; {
        console.log(response.data);
        const delComponent = this.$refs.delModal;
        delComponent.hideModal();
        this.getProducts();
      });
    },
    // currency,
  },
  created() {
    this.getProducts();
  },
};
&lt;/script&gt;
</code></pre>



<pre class="wp-block-code"><code>// src/main.js
import { createApp } from 'vue';
import axios from 'axios';
import VueAxios from 'vue-axios';
import Loading from 'vue3-loading-overlay';
import 'vue3-loading-overlay/dist/vue3-loading-overlay.css';
import App from './App.vue';
import router from './router';
import { currency } from './methods/filters';

const app = createApp(App);
app.config.globalProperties.$filters = {
  currency,
};
app.use(VueAxios, axios);
app.use(router);
app.component('Loading', Loading);
app.mount('#app');
</code></pre>



<h3 class="wp-block-heading">ä¸­å ´åŠ é€Ÿ</h3>



<ol>
<li>å®Œæˆè¨‚å–®ã€å„ªæƒ åˆ¸çš„é é¢</li>



<li>è¨‚å–® â€“ è¨‚å–®åˆ—è¡¨ã€ç·¨è¼¯è¨‚å–®ã€åˆªé™¤è¨‚å–®ã€åˆ†é åŠŸèƒ½</li>



<li>åœ¨ Products.vue æª”æ¡ˆ<br>åœ¨æ¯æ¬¡ç™¼é€ http è¡Œç‚ºçš„æ™‚å€™ï¼Œéƒ½æœƒé‡å°äº‹ä»¶æˆåŠŸèˆ‡å¦è§¸ç™¼ emitterï¼Œemitter å°±æœƒæŠŠæˆåŠŸèˆ‡å¦é€éåå¸çš„æ–¹å¼å‘ˆç¾ï¼Œå°è£æ–¹æ³•å°±æ”¾åœ¨ pushMessageState.js</li>



<li>åœ¨ main.js æª”æ¡ˆåŠ å…¥å…¨åŸŸçš„å±¬æ€§<br>app.config.globalProperties.$httpMessageState = $httpMessageState;<br>åŠ å…¥å¾Œå°±å¯ä»¥åœ¨æ¯å€‹ç¨‹å¼ç¢¼éƒ½å¯ä»¥ç›´æ¥å‘¼å«é€™å€‹æ–¹æ³•<br>æ³¨æ„: é€™å€‹æ–¹æ³•æ˜¯æ•´åˆ AJAX çš„ä¸€äº›éŒ¯èª¤äº‹ä»¶ï¼Œçµ±ä¸€æ•´ç†ç™¼é€çµ¦ Toast ä½¿ç”¨ï¼Œæ­£å¸¸ä¾†èªªä¸å¤ªå»ºè­°æŠŠå¤ªå¤šçš„æ–¹æ³•æ›åœ¨å…¨åŸŸä¸‹é¢ï¼Œæœƒä¸çŸ¥é“é€™å€‹æ–¹æ³•ä¾†è‡ªæ–¼å“ªè£¡<br>å¯ä»¥ä½¿ç”¨ provide ä¾†è™•ç†</li>



<li>å¦‚ä½•é€é API å®Œæˆä¸€å€‹ä½œå“<br>ä¸‹ä¸€å€‹ç« ç¯€ä»‹ç´¹å®¢æˆ¶è³¼ç‰©çš„éƒ¨åˆ†<br>å¦‚ä½•å®ŒæˆæŸ¥çœ‹ç‰¹å®šç”¢å“ã€ä»¥åŠåŠ åˆ°è³¼ç‰©è»Šçš„å…§å®¹è£¡é¢<br>é¸æ“‡ç”¢å“çš„åœ–ç‰‡ã€æ’°å¯«ç”¢å“çš„æ–‡æ¡ˆï¼Œä¸¦ä¸”æŠŠå…§å®¹åŠ åˆ°è‡ªè¡Œè¨­è¨ˆçš„ä»‹é¢<br>å¦‚ä½•è£½ä½œè³¼ç‰©è»Šã€åŒ…å«è³¼ç‰©è»Šåˆ—è¡¨ä»¥åŠè¡¨å–®å¡«å¯«çš„éƒ¨åˆ†</li>
</ol>



<pre class="wp-block-code"><code>// src/components/CouponModal.vue
&lt;template&gt;
  &lt;div class="modal fade" id="couponModal" tabindex="-1" role="dialog"
  aria-labelledby="exampleModalLabel" aria-hidden="true" ref="modal"&gt;
    &lt;div class="modal-dialog" role="document"&gt;
      &lt;div class="modal-content"&gt;
        &lt;div class="modal-header"&gt;
          &lt;h5 class="modal-title" id="exampleModalLabel"&gt;Modal title&lt;/h5&gt;
          &lt;button type="button" class="btn-close"
          data-bs-dismiss="modal" aria-label="Close"&gt;&lt;/button&gt;
        &lt;/div&gt;
        &lt;div class="modal-body"&gt;
          &lt;div class="mb-3"&gt;
            &lt;label for="title"&gt;æ¨™é¡Œ&lt;/label&gt;
            &lt;input type="text" class="form-control" id="title" v-model="tempCoupon.title"
            placeholder="è«‹è¼¸å…¥æ¨™é¡Œ"&gt;
          &lt;/div&gt;
          &lt;div class="mb-3"&gt;
            &lt;label for="coupon_code"&gt;å„ªæƒ ç¢¼&lt;/label&gt;
            &lt;input type="text" class="form-control" id="coupon_code" v-model="tempCoupon.code"
            placeholder="è«‹è¼¸å…¥å„ªæƒ ç¢¼"&gt;
          &lt;/div&gt;
          &lt;div class="mb-3"&gt;
            &lt;label for="due_date"&gt;åˆ°æœŸæ—¥&lt;/label&gt;
            &lt;input type="date" class="form-control" id="due_date"
            v-model="due_date"&gt;
          &lt;/div&gt;
          &lt;div class="mb-3"&gt;
            &lt;label for="price"&gt;æŠ˜æ‰£ç™¾åˆ†æ¯”&lt;/label&gt;
            &lt;input type="number" class="form-control" id="price"
            v-model.number="tempCoupon.percent" placeholder="è«‹è¼¸å…¥æŠ˜æ‰£ç™¾åˆ†æ¯”"&gt;
          &lt;/div&gt;
          &lt;div class="mb-3"&gt;
            &lt;div class="form-check"&gt;
              &lt;input class="form-check-input" type="checkbox"
              :true-value="1"
              :false-value="0"
              v-model="tempCoupon.is_enabled" id="is_enabled"&gt;
              &lt;label class="form-check-label" for="is_enabled"&gt;
                æ˜¯å¦å•Ÿç”¨
              &lt;/label&gt;
            &lt;/div&gt;
          &lt;/div&gt;
        &lt;/div&gt;
        &lt;div class="modal-footer"&gt;
          &lt;button type="button" class="btn btn-secondary" data-bs-dismiss="modal"&gt;Close&lt;/button&gt;
          &lt;button type="button" class="btn btn-primary"
                  @click="$emit('update-coupon', tempCoupon)"&gt;æ›´æ–°å„ªæƒ åˆ¸
          &lt;/button&gt;
        &lt;/div&gt;
      &lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/template&gt;
&lt;script&gt;
import modalMixin from '@/mixins/modalMixin';

export default {
  name: 'couponModal',
  props: {
    coupon: {},
  },
  data() {
    return {
      tempCoupon: {},
      due_date: '',
    };
  },
  emits: &#91;'update-coupon'],
  watch: {
    coupon() {
      this.tempCoupon = this.coupon;
      // å°‡æ™‚é–“æ ¼å¼æ”¹ç‚º YYYY-MM-DD
      console.log(this.tempCoupon.due_date);
      const dateAndTime = new Date(this.tempCoupon.due_date * 1000)
        .toISOString().split('T');
      &#91;this.due_date] = dateAndTime;
    },
    due_date() {
      this.tempCoupon.due_date = Math.floor(new Date(this.due_date) / 1000);
    },
  },
  mixins: &#91;modalMixin],
};
&lt;/script&gt;
</code></pre>



<pre class="wp-block-code"><code>// src/components/Navbar.vue
&lt;template&gt;
  &lt;nav class="navbar navbar-expand-lg bg-body-tertiary"&gt;
    &lt;div class="container-fluid"&gt;
      &lt;a class="navbar-brand" href="#"&gt;è³¼ç‰©è¶£&lt;/a&gt;
      &lt;button class="navbar-toggler" type="button"
      data-bs-toggle="collapse" data-bs-target="#navbarNavAltMarkup"
      aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"&gt;
        &lt;span class="navbar-toggler-icon"&gt;&lt;/span&gt;
      &lt;/button&gt;
      &lt;div class="collapse navbar-collapse" id="navbarNavAltMarkup"&gt;
        &lt;ul class="navbar-nav me-auto mb-2 mb-lg-0"&gt;
          &lt;li class="nav-item"&gt;
            &lt;router-link to="/dashboard/products" class="nav-link"&gt;ç”¢å“&lt;/router-link&gt;
          &lt;/li&gt;
          &lt;li class="nav-item"&gt;
            &lt;router-link to="/dashboard/orders" class="nav-link"&gt;è¨‚å–®&lt;/router-link&gt;
          &lt;/li&gt;
          &lt;li class="nav-item"&gt;
            &lt;router-link to="/dashboard/coupons" class="nav-link"&gt;å„ªæƒ åˆ¸&lt;/router-link&gt;
          &lt;/li&gt;
          &lt;li class="nav-item"&gt;
            &lt;a class="nav-link" href="#" @click.prevent="logout"&gt;ç™»å‡º&lt;/a&gt;
          &lt;/li&gt;
        &lt;/ul&gt;
        &lt;span class="navbar-text"&gt;
          å¾Œå°ç®¡ç†
        &lt;/span&gt;
      &lt;/div&gt;
    &lt;/div&gt;
  &lt;/nav&gt;
&lt;/template&gt;

&lt;script&gt;
export default {
  methods: {
    logout() {
      const api = `${process.env.VUE_APP_API}logout`;
      this.$http.post(api, this.user)
        .then((res) =&gt; {
          if (res.data.success) {
            // console.log(res);
            this.$router.push('/login');
          }
        });
    },
  },
};
&lt;/script&gt;
</code></pre>



<pre class="wp-block-code"><code>// src/components/OrderModal.vue
&lt;template&gt;
  &lt;div class="modal fade" id="productModal" tabindex="-1" role="dialog"
  aria-labelledby="exampleModalLabel" aria-hidden="true" ref="modal"&gt;
    &lt;div class="modal-dialog modal-xl" role="document"&gt;
      &lt;div class="modal-content border-0"&gt;
        &lt;div class="modal-header bg-dark text-white"&gt;
          &lt;h5 class="modal-title" id="exampleModalLabel"&gt;
            &lt;span&gt;è¨‚å–®ç´°ç¯€&lt;/span&gt;
          &lt;/h5&gt;
          &lt;button type="button" class="btn-close bg-light"
                  data-bs-dismiss="modal" aria-label="Close"&gt;&lt;/button&gt;
        &lt;/div&gt;
        &lt;div class="modal-body"&gt;
          &lt;div class="row"&gt;
            &lt;div class="col-md-4"&gt;
              &lt;h3&gt;ç”¨æˆ¶è³‡æ–™&lt;/h3&gt;
              &lt;table class="table"&gt;
                &lt;tbody v-if="tempOrder.user"&gt;
                  &lt;tr&gt;
                    &lt;th style="width: 100px;"&gt;å§“å&lt;/th&gt;
                    &lt;td&gt;{{ tempOrder.user.name }}&lt;/td&gt;
                  &lt;/tr&gt;
                  &lt;tr&gt;
                    &lt;th&gt;Email&lt;/th&gt;
                    &lt;td&gt;{{ tempOrder.user.email }}&lt;/td&gt;
                  &lt;/tr&gt;
                  &lt;tr&gt;
                    &lt;th&gt;é›»è©±&lt;/th&gt;
                    &lt;td&gt;{{ tempOrder.user.tel }}&lt;/td&gt;
                  &lt;/tr&gt;
                  &lt;tr&gt;
                    &lt;th&gt;åœ°å€&lt;/th&gt;
                    &lt;td&gt;{{ tempOrder.user.address }}&lt;/td&gt;
                  &lt;/tr&gt;
                &lt;/tbody&gt;
              &lt;/table&gt;
            &lt;/div&gt;
            &lt;div class="col-md-8"&gt;
              &lt;h3&gt;è¨‚å–®ç´°ç¯€&lt;/h3&gt;
              &lt;table class="table"&gt;
                &lt;tbody&gt;
                  &lt;tr&gt;
                    &lt;th style="width: 100px"&gt;è¨‚å–®ç·¨è™Ÿ&lt;/th&gt;
                    &lt;td&gt;{{ tempOrder.id }}&lt;/td&gt;
                  &lt;/tr&gt;
                  &lt;tr&gt;
                    &lt;th&gt;ä¸‹å–®æ™‚é–“&lt;/th&gt;
                    &lt;td&gt;{{ $filters.date(tempOrder.create_at)}}&lt;/td&gt;
                  &lt;/tr&gt;
                  &lt;tr&gt;
                    &lt;th&gt;ä»˜æ¬¾æ™‚é–“&lt;/th&gt;
                    &lt;td&gt;
                      &lt;span v-if="tempOrder.paid_date"&gt;
                        {{ $filters.date(tempOrder.paid_date) }}
                      &lt;/span&gt;
                      &lt;span v-else&gt;æ™‚é–“ä¸æ­£ç¢º&lt;/span&gt;
                    &lt;/td&gt;
                  &lt;/tr&gt;
                  &lt;tr&gt;
                    &lt;th&gt;ä»˜æ¬¾ç‹€æ…‹&lt;/th&gt;
                    &lt;td&gt;
                      &lt;strong v-if="tempOrder.is_paid" class="text-success"&gt;å·²ä»˜æ¬¾&lt;/strong&gt;
                      &lt;span v-else class="text-muted"&gt;å°šæœªä»˜æ¬¾&lt;/span&gt;
                    &lt;/td&gt;
                  &lt;/tr&gt;
                  &lt;tr&gt;
                    &lt;th&gt;ç¸½é‡‘é¡&lt;/th&gt;
                    &lt;td&gt;
                      {{ $filters.currency(tempOrder.total) }}
                    &lt;/td&gt;
                  &lt;/tr&gt;
                &lt;/tbody&gt;
              &lt;/table&gt;
              &lt;h3&gt;é¸è³¼å•†å“&lt;/h3&gt;
              &lt;table class="table"&gt;
                &lt;thead&gt;
                  &lt;tr&gt;
                  &lt;/tr&gt;
                &lt;/thead&gt;
                &lt;tbody&gt;
                  &lt;tr v-for="item in tempOrder.products" :key="item.id"&gt;
                    &lt;th&gt;
                      {{ item.product.title }}
                    &lt;/th&gt;
                    &lt;td&gt;
                      {{ item.qty }} / {{ item.product.unit }}
                    &lt;/td&gt;
                    &lt;td class="text-end"&gt;
                      {{ $filters.currency(item.final_total) }}
                    &lt;/td&gt;
                  &lt;/tr&gt;
                &lt;/tbody&gt;
              &lt;/table&gt;
            &lt;/div&gt;
          &lt;/div&gt;
        &lt;/div&gt;
        &lt;div class="modal-footer"&gt;
          &lt;button type="button" class="btn btn-outline-secondary"
                  data-bs-dismiss="modal"&gt;å–æ¶ˆ
          &lt;/button&gt;
          &lt;button type="button" class="btn btn-primary"
                  @click="$emit('update-order', tempOrder)"&gt;ç¢ºèª&lt;/button&gt;
        &lt;/div&gt;
      &lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/template&gt;
&lt;script&gt;
import modalMixin from '@/mixins/modalMixin';

export default {
  name: 'orderModal',
  props: {
    order: {
      type: Object,
      default() { return {}; },
    },
  },
  data() {
    return {
      status: {},
      modal: '',
      tempOrder: {},
      isPaid: false,
    };
  },
  emits: &#91;'update-product'],
  mixins: &#91;modalMixin],
  inject: &#91;'emitter'],
  watch: {
    order() {
      this.tempOrder = this.order;
      this.isPaid = this.tempOrder.is_paid;
    },
  },
};
&lt;/script&gt;
</code></pre>



<pre class="wp-block-code"><code>// src/main.js
import { createApp } from 'vue';
import axios from 'axios';
import VueAxios from 'vue-axios';
import Loading from 'vue3-loading-overlay';
import 'vue3-loading-overlay/dist/vue3-loading-overlay.css';
import App from './App.vue';
import router from './router';
import { currency, date } from './methods/filters';
import $httpMessageState from './methods/pushMessageState';

const app = createApp(App);
app.config.globalProperties.$filters = {
  currency,
  date,
};
// æ­¤å‡½å¼çš„ç”¨é€”æ˜¯æ•´åˆ AJAX çš„éŒ¯èª¤äº‹ä»¶ï¼Œçµ±ä¸€æ•´ç†ç™¼é€çµ¦äºˆ Toast è™•ç†
app.config.globalProperties.$httpMessageState = $httpMessageState;

app.use(VueAxios, axios);
app.use(router);
app.component('Loading', Loading);
app.mount('#app');
</code></pre>



<pre class="wp-block-code"><code>// src/methods/pushMessageState.js
import emitter from '@/methods/emitter';

export default function (response, title = 'æ›´æ–°') {
  if (response.data.success) {
    emitter.emit('push-message', {
      style: 'success',
      title: `${title}æˆåŠŸ`,
    });
  } else {
    // æœ‰äº›è¨Šæ¯æ˜¯å­—ä¸²ï¼Œæœ‰äº›å‰‡æ˜¯é™£åˆ—ï¼Œåœ¨æ­¤çµ±ä¸€æ ¼å¼
    const message = typeof response.data.message === 'string'
      ? &#91;response.data.message] : response.data.message;
    emitter.emit('push-message', {
      style: 'danger',
      title: `${title}å¤±æ•—`,
      content: message.join('ã€'),
    });
  }
}
</code></pre>



<pre class="wp-block-code"><code>// src/router/index.js
import { createRouter, createWebHashHistory } from 'vue-router';
import Home from '../views/Home.vue';

const routes = &#91;
  {
    path: '/',
    name: 'Home',
    component: Home,
  },
  {
    path: '/about',
    name: 'About',
    // route level code-splitting
    // this generates a separate chunk (about.&#91;hash].js) for this route
    // which is lazy-loaded when the route is visited.
    component: () =&gt; import(/* webpackChunkName: "about" */ '../views/About.vue'),
  },
  {
    path: '/login',
    component: () =&gt; import('../views/Login.vue'),
  },
  {
    path: '/dashboard',
    component: () =&gt; import('../views/Dashboard.vue'),
    // å·¢ç‹€è·¯ç”± - ç”¢å“åˆ—è¡¨
    children: &#91;
      {
        path: 'products',
        component: () =&gt; import('../views/Products.vue'),
      },
      {
        path: 'orders',
        component: () =&gt; import('../views/Orders.vue'),
      },
      {
        path: 'coupons',
        component: () =&gt; import('../views/Coupons.vue'),
      },
    ],
  },
];

const router = createRouter({
  history: createWebHashHistory(),
  routes,
  linkActiveClass: 'active',
});

export default router;
</code></pre>



<pre class="wp-block-code"><code>// src/views/Coupons.vue
&lt;template&gt;
  &lt;div&gt;
    &lt;Loading :active="isLoading"&gt;&lt;/Loading&gt;
    &lt;div class="text-end mt-4"&gt;
      &lt;button class="btn btn-primary" @click="openCouponModal(true)"&gt;
        å»ºç«‹æ–°çš„å„ªæƒ åˆ¸
      &lt;/button&gt;
    &lt;/div&gt;
    &lt;table class="table mt-4"&gt;
      &lt;thead&gt;
      &lt;tr&gt;
        &lt;th&gt;åç¨±&lt;/th&gt;
        &lt;th&gt;æŠ˜æ‰£ç™¾åˆ†æ¯”&lt;/th&gt;
        &lt;th&gt;åˆ°æœŸæ—¥&lt;/th&gt;
        &lt;th&gt;æ˜¯å¦å•Ÿç”¨&lt;/th&gt;
        &lt;th&gt;ç·¨è¼¯&lt;/th&gt;
      &lt;/tr&gt;
      &lt;/thead&gt;
      &lt;tbody&gt;
      &lt;tr v-for="(item, key) in coupons" :key="key"&gt;
        &lt;td&gt;{{ item.title }}&lt;/td&gt;
        &lt;td&gt;{{ item.percent }}%&lt;/td&gt;
        &lt;td&gt;{{ $filters.date(item.due_date) }}&lt;/td&gt;
        &lt;td&gt;
          &lt;span v-if="item.is_enabled === 1" class="text-success"&gt;å•Ÿç”¨&lt;/span&gt;
          &lt;span v-else class="text-muted"&gt;æœªèµ·ç”¨&lt;/span&gt;
        &lt;/td&gt;
        &lt;td&gt;
          &lt;div class="btn-group"&gt;
            &lt;button class="btn btn-outline-primary btn-sm"
                    @click="openCouponModal(false, item)"
            &gt;ç·¨è¼¯&lt;/button&gt;
            &lt;button class="btn btn-outline-danger btn-sm"
                    @click="openDelCouponModal(item)"
            &gt;åˆªé™¤&lt;/button&gt;
          &lt;/div&gt;
        &lt;/td&gt;
      &lt;/tr&gt;
      &lt;/tbody&gt;
    &lt;/table&gt;
    &lt;CouponModal :coupon="tempCoupon" ref="couponModal"
    @update-coupon="updateCoupon"&gt;&lt;/CouponModal&gt;
    &lt;DelModal :item="tempCoupon" ref="delModal" @del-item="delCoupon"/&gt;
    &lt;Pagination :pages="pagination" @emit-pages="getCoupons"&gt;&lt;/Pagination&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script&gt;
import CouponModal from '@/components/CouponModal.vue';
import DelModal from '@/components/DelModal.vue';
import Pagination from '@/components/Pagination.vue';

export default {
  components: {
    CouponModal,
    DelModal,
    Pagination,
  },
  props: {
    config: Object,
  },
  data() {
    return {
      coupons: {},
      tempCoupon: {
        title: '',
        is_enabled: 0,
        percent: 100,
        code: '',
      },
      isLoading: false,
      isNew: false,
      pagination: {},
      currentPage: 1,
    };
  },
  methods: {
    openCouponModal(isNew, item) {
      this.isNew = isNew;
      if (this.isNew) {
        this.tempCoupon = {
          due_date: new Date().getTime() / 1000,
        };
      } else {
        this.tempCoupon = { ...item };
      }
      this.$refs.couponModal.showModal();
    },
    openDelCouponModal(item) {
      this.tempCoupon = { ...item };
      const delComponent = this.$refs.delModal;
      delComponent.showModal();
    },
    getCoupons(currentPage = 1) {
      this.currentPage = currentPage;
      this.isLoading = true;
      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/coupons?page=${currentPage}`;
      this.$http.get(url, this.tempProduct).then((response) =&gt; {
        this.coupons = response.data.coupons;
        this.pagination = response.data.pagination;
        this.isLoading = false;
        console.log(response);
      });
    },
    updateCoupon(tempCoupon) {
      if (this.isNew) {
        const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/coupon`;
        this.$http.post(url, { data: tempCoupon }).then((response) =&gt; {
          console.log(response, tempCoupon);
          this.$httpMessageState(response, 'æ–°å¢å„ªæƒ åˆ¸');
          this.getCoupons();
          this.$refs.couponModal.hideModal();
        });
      } else {
        const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/coupon/${this.tempCoupon.id}`;
        this.$http.put(url, { data: this.tempCoupon }).then((response) =&gt; {
          console.log(response);
          this.$httpMessageState(response, 'æ–°å¢å„ªæƒ åˆ¸');
          this.getCoupons();
          this.$refs.couponModal.hideModal();
        });
      }
    },
    delCoupon() {
      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/coupon/${this.tempCoupon.id}`;
      this.isLoading = true;
      this.$http.delete(url).then((response) =&gt; {
        console.log(response, this.tempCoupon);
        this.$httpMessageState(response, 'åˆªé™¤å„ªæƒ åˆ¸');
        const delComponent = this.$refs.delModal;
        delComponent.hideModal();
        this.getCoupons();
      });
    },
  },
  created() {
    this.getCoupons();
  },
};
&lt;/script&gt;
</code></pre>



<pre class="wp-block-code"><code>// src/views/Orders.vue
&lt;template&gt;
  &lt;Loading :active="isLoading"&gt;&lt;/Loading&gt;
  &lt;table class="table mt-4"&gt;
    &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt;è³¼è²·æ™‚é–“&lt;/th&gt;
      &lt;th&gt;Email&lt;/th&gt;
      &lt;th&gt;è³¼è²·æ¬¾é …&lt;/th&gt;
      &lt;th&gt;æ‡‰ä»˜é‡‘é¡&lt;/th&gt;
      &lt;th&gt;æ˜¯å¦ä»˜æ¬¾&lt;/th&gt;
      &lt;th&gt;ç·¨è¼¯&lt;/th&gt;
    &lt;/tr&gt;
    &lt;/thead&gt;
    &lt;tbody&gt;
      &lt;template v-for="(item, key) in orders" :key="key"&gt;
        &lt;tr v-if="orders.length"
            :class="{'text-secondary': !item.is_paid}"&gt;
          &lt;td&gt;{{ $filters.date(item.create_at) }}&lt;/td&gt;
          &lt;td&gt;&lt;span v-text="item.user.email" v-if="item.user"&gt;&lt;/span&gt;&lt;/td&gt;
          &lt;td&gt;
            &lt;ul class="list-unstyled"&gt;
              &lt;li v-for="(product, i) in item.products" :key="i"&gt;
                {{ product.product.title }} æ•¸é‡ï¼š{{ product.qty }}
                {{ product.product.unit }}
              &lt;/li&gt;
            &lt;/ul&gt;
          &lt;/td&gt;
          &lt;td class="text-right"&gt;{{ $filters.currency(item.total) }}&lt;/td&gt;
          &lt;td&gt;
            &lt;div class="form-check form-switch"&gt;
              &lt;input class="form-check-input" type="checkbox" :id="`paidSwitch${item.id}`"
              v-model="item.is_paid"
              @change="updatePaid(item)"&gt;
              &lt;label class="form-check-label" :for="`paidSwitch${item.id}`"&gt;
                &lt;span v-if="item.is_paid"&gt;å·²ä»˜æ¬¾&lt;/span&gt;
                &lt;span v-else&gt;æœªä»˜æ¬¾&lt;/span&gt;
              &lt;/label&gt;
            &lt;/div&gt;
          &lt;/td&gt;
          &lt;td&gt;
            &lt;div class="btn-group"&gt;
              &lt;button class="btn btn-outline-primary btn-sm"
                      @click="openModal(false, item)"&gt;æª¢è¦–&lt;/button&gt;
              &lt;button class="btn btn-outline-danger btn-sm"
                      @click="openDelOrderModal(item)"
              &gt;åˆªé™¤&lt;/button&gt;
            &lt;/div&gt;
          &lt;/td&gt;
        &lt;/tr&gt;
      &lt;/template&gt;
    &lt;/tbody&gt;
  &lt;/table&gt;
  &lt;OrderModal :order="tempOrder"
              ref="orderModal" @update-paid="updatePaid"&gt;&lt;/OrderModal&gt;
  &lt;DelModal :item="tempOrder" ref="delModal" @del-item="delOrder"&gt;&lt;/DelModal&gt;
  &lt;Pagination :pages="pagination" @emit-pages="getOrders"&gt;&lt;/Pagination&gt;
&lt;/template&gt;

&lt;script&gt;
import DelModal from '@/components/DelModal.vue';
import OrderModal from '@/components/OrderModal.vue';
import Pagination from '@/components/Pagination.vue';

export default {
  data() {
    return {
      orders: {},
      isNew: false,
      pagination: {},
      isLoading: false,
      tempOrder: {},
      currentPage: 1,
    };
  },
  components: {
    Pagination,
    DelModal,
    OrderModal,
  },
  methods: {
    getOrders(currentPage = 1) {
      this.currentPage = currentPage;
      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/orders?page=${currentPage}`;
      this.isLoading = true;
      this.$http.get(url, this.tempProduct).then((response) =&gt; {
        this.orders = response.data.orders;
        this.pagination = response.data.pagination;
        this.isLoading = false;
        console.log(response);
      });
    },
    openModal(isNew, item) {
      this.tempOrder = { ...item };
      this.isNew = false;
      const orderComponent = this.$refs.orderModal;
      orderComponent.showModal();
    },
    openDelOrderModal(item) {
      this.tempOrder = { ...item };
      const delComponent = this.$refs.delModal;
      delComponent.showModal();
    },
    updatePaid(item) {
      this.isLoading = true;
      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/order/${item.id}`;
      const paid = {
        is_paid: item.is_paid,
      };
      this.$http.put(api, { data: paid }).then((response) =&gt; {
        this.isLoading = false;
        this.getOrders(this.currentPage);
        this.$httpMessageState(response, 'æ›´æ–°ä»˜æ¬¾ç‹€æ…‹');
      });
    },
    delOrder() {
      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/order/${this.tempOrder.id}`;
      this.isLoading = true;
      this.$http.delete(url).then((response) =&gt; {
        console.log(response);
        const delComponent = this.$refs.delModal;
        delComponent.hideModal();
        this.getOrders(this.currentPage);
      });
    },
  },
  created() {
    this.getOrders();
    console.log(process.env.VUE_APP_API);
  },
};
&lt;/script&gt;
</code></pre>



<h4 class="wp-block-heading">ç·´ç¿’</h4>



<ul>
<li>ä½¿ç”¨æ¸¬è©¦ Web API æ‡‰ç”¨ç¨‹å¼ Postmanã€ Hoppscotch å»ºç«‹å„ªæƒ åˆ¸å’Œè¨‚å–®</li>



<li>Vue3_API
<ul>
<li>POST ç™»å…¥åŠŸèƒ½</li>



<li>POST æ–°å¢å„ªæƒ åˆ¸</li>



<li>GET å–å¾—å•†å“åˆ—è¡¨</li>



<li>POST åŠ å…¥è³¼ç‰©è»Š</li>



<li>PUT æ›´æ–°è³¼ç‰©è»Š</li>



<li>POST çµå¸³é é¢</li>



<li>GET å–å¾—è¨‚å–®åˆ—è¡¨</li>
</ul>
</li>
</ul>



<h3 class="wp-block-heading">ç”¨æˆ¶ç«¯ç”¢å“åˆ—è¡¨</h3>



<ol>
<li>è£½ä½œå®¢æˆ¶è³¼ç‰©çš„éƒ¨åˆ†<br>æŸ¥çœ‹ API æ–‡ä»¶ â€“ å®¢æˆ¶è³¼ç‰© [å…é©—è­‰]<br>è³¼ç‰©æµç¨‹: å–å¾—å•†å“åˆ—è¡¨ã€å–®ä¸€å•†å“ç´°ç¯€ã€åŠ å…¥è³¼ç‰©è»Šã€åˆªé™¤æŸä¸€ç­†è³¼ç‰©è»Šè³‡æ–™ã€å¥—ç”¨å„ªæƒ åˆ¸ã€çµå¸³é é¢ã€çµå¸³ä»˜æ¬¾â€¦ç­‰</li>



<li>æé†’: é»é¸ä»»ä½•ä¸€å€‹ç”¢å“çš„æ™‚å€™ï¼Œè«‹ç”¨å–®ä¸€é é¢å‘ˆç¾</li>



<li>åœ¨ index.js è·¯ç”±è¡¨åŠ ä¸Šç”¨æˆ¶ç«¯è·¯ç”±<br>æ–°å¢ user è·¯å¾‘ï¼Œä¸éœ€è¦é©—è­‰æµç¨‹æœƒæ”¾åœ¨ user è·¯å¾‘ä¸‹</li>



<li>å»ºç«‹ Userboard.vue æª”æ¡ˆä¸¦åŠ å…¥ç¨‹å¼ç¢¼<br>ç›¸è¼ƒæ–¼ Dashboard è¼ƒç°¡å–®</li>



<li>å»ºç«‹ UserCart.vue æª”æ¡ˆä¸¦åŠ å…¥ç¨‹å¼ç¢¼<br>åœ¨ user è·¯å¾‘æ–°å¢å­è·¯ç”± cart è·¯å¾‘ï¼Œå°æ‡‰çš„æ˜¯è³¼ç‰©è»Š<br>å»ºç«‹ UserProduct.vue æª”æ¡ˆä¸¦åŠ å…¥ç¨‹å¼ç¢¼<br>åœ¨ user è·¯å¾‘æ–°å¢å­è·¯ç”± product/:productId è·¯å¾‘ï¼Œå°æ‡‰çš„æ˜¯å–®ä¸€ç”¢å“é é¢</li>



<li>è¬›è§£ UserCart.vue æª”æ¡ˆ<br>methods æ–¹æ³•çš„å‡½å¼ï¼ŒgetProducts() å–å¾—å•†å“åˆ—è¡¨ã€getProduct(id) é€²å…¥å–®ä¸€å•†å“çš„é é¢</li>



<li>è©¦è‘—æŠŠç”¨æˆ¶ç«¯å•†å“åˆ—è¡¨å‘ˆç¾</li>
</ol>



<pre class="wp-block-code"><code>// router/index.js
import { createRouter, createWebHashHistory } from 'vue-router';
import Home from '../views/Home.vue';

const routes = &#91;
  {
    path: '/',
    name: 'Home',
    component: Home,
  },
  {
    path: '/about',
    name: 'About',
    // route level code-splitting
    // this generates a separate chunk (about.&#91;hash].js) for this route
    // which is lazy-loaded when the route is visited.
    component: () =&gt; import(/* webpackChunkName: "about" */ '../views/About.vue'),
  },
  {
    path: '/login',
    component: () =&gt; import('../views/Login.vue'),
  },
  {
    path: '/dashboard',
    component: () =&gt; import('../views/Dashboard.vue'),
    // å·¢ç‹€è·¯ç”± - ç”¢å“åˆ—è¡¨
    children: &#91;
      {
        path: 'products',
        component: () =&gt; import('../views/Products.vue'),
      },
      {
        path: 'orders',
        component: () =&gt; import('../views/Orders.vue'),
      },
      {
        path: 'coupons',
        component: () =&gt; import('../views/Coupons.vue'),
      },
    ],
  },
  {
    path: '/user',
    component: () =&gt; import('../views/Userboard.vue'),
    children: &#91;
      {
        path: 'cart',
        component: () =&gt; import('../views/UserCart.vue'),
      },
      {
        path: 'product/:productId',
        component: () =&gt; import('@/views/UserProduct.vue'),
      },
    ],
  },
];

const router = createRouter({
  history: createWebHashHistory(),
  routes,
  linkActiveClass: 'active',
});

export default router;
</code></pre>



<pre class="wp-block-code"><code>// views/Userboard.vue
&lt;template&gt;
  &lt;nav class="navbar navbar-expand-lg navbar-dark bg-dark"&gt;
    &lt;div class="container-fluid"&gt;
      &lt;router-link class="navbar-brand" to="/user/cart"&gt;è³¼ç‰©è¶£&lt;/router-link&gt;
    &lt;/div&gt;
  &lt;/nav&gt;
  &lt;div class="container-fluid mt-3 position-relative"&gt;
    &lt;ToastMessages&gt;&lt;/ToastMessages&gt;
    &lt;router-view/&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script&gt;
import emitter from '@/methods/emitter';
import ToastMessages from '@/components/ToastMessages.vue';

export default {
  components: {
    ToastMessages,
  },
  provide() {
    return {
      emitter,
    };
  },
  created() {
  },
};
&lt;/script&gt;
</code></pre>



<pre class="wp-block-code"><code>// views/UserCart.vue
&lt;template&gt;
  &lt;Loading :active="isLoading"&gt;&lt;/Loading&gt;
  &lt;div class="container"&gt;
    &lt;div class="row mt-4"&gt;
      &lt;div class="col-md-7"&gt;
        &lt;table class="table align-middle"&gt;
          &lt;thead&gt;
            &lt;tr&gt;
              &lt;th&gt;åœ–ç‰‡&lt;/th&gt;
              &lt;th&gt;å•†å“åç¨±&lt;/th&gt;
              &lt;th&gt;åƒ¹æ ¼&lt;/th&gt;
              &lt;th&gt;&lt;/th&gt;
            &lt;/tr&gt;
          &lt;/thead&gt;
          &lt;tbody&gt;
            &lt;tr v-for="item in products" :key="item.id"&gt;
              &lt;td style="width: 200px"&gt;
                &lt;div style="height: 100px; background-size: cover; background-position: center"
                :style="{backgroundImage: `url(${item.imageUrl})`}"&gt;&lt;/div&gt;
              &lt;/td&gt;
              &lt;td&gt;&lt;a href="#" class="text-dark"&gt;{{ item.title }}&lt;/a&gt;&lt;/td&gt;
              &lt;td&gt;
                &lt;div class="h5" v-if="!item.price"&gt;{{ item.origin_price }} å…ƒ&lt;/div&gt;
                &lt;del class="h6" v-if="item.price"&gt;åŸåƒ¹ {{ item.origin_price }} å…ƒ&lt;/del&gt;
                &lt;div class="h5" v-if="item.price"&gt;ç¾åœ¨åªè¦ {{ item.price }} å…ƒ&lt;/div&gt;
              &lt;/td&gt;
              &lt;td&gt;
                &lt;div class="btn-group btn-group-sm"&gt;
                  &lt;button type="button" class="btn btn-outline-secondary"
                  @click="getProduct(item.id)"&gt;
                    æŸ¥çœ‹æ›´å¤š
                  &lt;/button&gt;
                  &lt;button type="button" class="btn btn-outline-danger"&gt;
                    åŠ åˆ°è³¼ç‰©è»Š
                  &lt;/button&gt;
                &lt;/div&gt;
              &lt;/td&gt;
            &lt;/tr&gt;
          &lt;/tbody&gt;
        &lt;/table&gt;
      &lt;/div&gt;
      &lt;!-- è³¼ç‰©è»Šåˆ—è¡¨ --&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script&gt;
export default {
  data() {
    return {
      products: &#91;],
      product: {},
      status: {
        loadingItem: '',
      },
    };
  },
  methods: {
    // å–å¾—å•†å“åˆ—è¡¨
    getProducts() {
      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/products/all`;
      this.isLoading = true;
      this.$http.get(url).then((response) =&gt; {
        this.products = response.data.products;
        console.log('products:', response);
        this.isLoading = false;
      });
    },
    // é€²å…¥å–®ä¸€å•†å“é é¢
    getProduct(id) {
      this.$router.push(`/user/product/${id}`);
    },
  },
  created() {
    this.getProducts();
  },
};
&lt;/script&gt;
</code></pre>



<pre class="wp-block-code"><code>// views/UserProduct.vue
&lt;template&gt;
  &lt;Loading :active="isLoading"&gt;&lt;/Loading&gt;
  &lt;div class="container"&gt;
    &lt;nav aria-label="breadcrumb"&gt;
      &lt;ol class="breadcrumb"&gt;
        &lt;li class="breadcrumb-item"&gt;&lt;router-link to="/user/cart"&gt;è³¼ç‰©è»Š&lt;/router-link&gt;&lt;/li&gt;
        &lt;li class="breadcrumb-item active" aria-current="page"&gt;{{ product.title }}&lt;/li&gt;
      &lt;/ol&gt;
    &lt;/nav&gt;
    &lt;div class="row justify-content-center"&gt;
      &lt;article class="col-8"&gt;
        &lt;h2&gt;{{ product.title }}&lt;/h2&gt;
        &lt;div&gt;{{ product.content }}&lt;/div&gt;
        &lt;div&gt;{{ product.description }}&lt;/div&gt;
        &lt;img :src="product.imageUrl" alt="" class="img-fluid mb-3"&gt;
      &lt;/article&gt;
      &lt;div class="col-4"&gt;
        &lt;div class="h5" v-if="!product.price"&gt;{{ product.origin_price }} å…ƒ&lt;/div&gt;
        &lt;del class="h6" v-if="product.price"&gt;åŸåƒ¹ {{ product.origin_price }} å…ƒ&lt;/del&gt;
        &lt;div class="h5" v-if="product.price"&gt;ç¾åœ¨åªè¦ {{ product.price }} å…ƒ&lt;/div&gt;
        &lt;hr&gt;
        &lt;button type="button" class="btn btn-outline-danger"
                @click="addToCart(product.id)"&gt;
          åŠ åˆ°è³¼ç‰©è»Š
        &lt;/button&gt;
      &lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script&gt;
export default {
  data() {
    return {
      product: {},
      id: '',
    };
  },
  methods: {
    getProduct() {
      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/product/${this.id}`;
      this.isLoading = true;
      this.$http.get(api).then((response) =&gt; {
        console.log(response.data);
        this.isLoading = false;
        if (response.data.success) {
          this.product = response.data.product;
        }
      });
    },
    addToCart(id, qty = 1) {
      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart`;
      const cart = {
        product_id: id,
        qty,
      };
      this.isLoading = true;
      this.$http.post(url, { data: cart }).then((response) =&gt; {
        this.isLoading = false;
        this.$httpMessageState(response, 'åŠ å…¥è³¼ç‰©è»Š');
        this.$router.push('/user/cart');
      });
    },
  },
  created() {
    this.id = this.$route.params.productId;
    this.getProduct();
  },
};
&lt;/script&gt;
</code></pre>



<h3 class="wp-block-heading">ç”¨æˆ¶ç«¯åŠ å…¥è³¼ç‰©è»Š</h3>



<ol>
<li>æ’°å¯«åŠ å…¥è³¼ç‰©è»Šçš„è¡Œç‚º api</li>



<li>æŸ¥çœ‹å®¢æˆ¶è³¼ç‰© [å…é©—è­‰] æ–‡ä»¶ &gt; åŠ å…¥è³¼ç‰©è»Š</li>



<li>åœ¨ UserCart.vue æª”æ¡ˆæ’°å¯«ç¨‹å¼ç¢¼<br>ä½¿ç”¨ @click æ–¹å¼è§¸ç™¼åŠ å…¥è³¼ç‰©è»Šäº‹ä»¶ã€addCart æ–¹æ³•ï¼ŒæŠŠç”¢å“çš„ id å¸¶é€²ä¾†<br>åœ¨ JS methods æ–¹æ³•æ–°å¢ addCart æ–¹æ³•ï¼Œæ¸¬è©¦ id æœ‰æ²’æœ‰æ­£ç¢ºçš„å–å‡º<br>è¼‰å…¥ apiã€å»ºç«‹è³‡æ–™ product_id, qtyã€ç™¼é€ api<br>è³‡æ–™åƒæ•¸æ ¼å¼æœ‰åŠ å…¥ data å±¬æ€§åç¨±</li>



<li>é¿å…ç”¨æˆ¶é‡è¤‡é»æ“ŠåŠ å…¥è³¼ç‰©è»Šï¼ŒåŠ å…¥å–®ä¸€æŒ‰éˆ•çš„è®€å–æ•ˆæœï¼Œç•¶ loadingItem ç‚ºä¸€å€‹ç‰¹å®šå“é …çš„æ™‚å€™æŒ‰éˆ•æœƒè½‰ç‚º disabled ä¸¦åŠ ä¸Šè®€å–çš„ç‹€æ…‹</li>



<li>èª¿æ•´ HTML çš„éƒ¨åˆ†åŠ ä¸Š<br>:disabled=â€this.status.loadingItem === item.idâ€<br>é€™å€‹å±¬æ€§æœƒå› ç‚º loadingItem çš„å“é …è·Ÿç•¶å‰ item.id çš„å“é …ç›¸åŒçš„æ™‚å€™ï¼Œå°±æœƒæŠŠåŠ å…¥åˆ°è³¼ç‰©è»ŠæŒ‰éˆ•è½‰ç‚º disabled çš„ç‹€æ…‹</li>



<li>é‡å°é»æ“Šè³¼ç‰©è»Šå¾ŒåŠ ä¸Šé¡å¤–çš„è®€å–æ•ˆæœ<br>åœ¨ Bootstrap æ–‡ä»¶ &gt; Components &gt; Spinnersï¼Œé¸æ“‡æ”¾å°„ç‹€çš„æ¨£å¼åŠ åˆ°ç¨‹å¼ç¢¼ï¼Œå°ºå¯¸éœ€è¦èª¿æ•´ä¸€ä¸‹é¸æ“‡æœ€å°çš„ã€èª¿æ•´è‰²å½©<br>ç•¶å‰å“é …åŠ å…¥åˆ¤æ–·å¼ï¼Œv-if=â€this.status.loadingItem === item.idâ€<br>ç™½è‰²å°æ¯”åº¦ä¸ä½³ï¼Œè½‰æ›æˆç´…è‰²</li>



<li>ç”¨æˆ¶ç„¡æ³•é‡è¤‡é»æ“Šï¼Œäº†è§£ç›®å‰æ˜¯è®€å–ç‹€æ…‹<br>å¦‚ä½•åŠ å…¥è³¼ç‰©è»Šã€å¦‚ä½•æŠŠç‰¹å®šçš„æŒ‰éˆ•åŠ ä¸Šè®€å–çš„æ•ˆæœ</li>



<li>è©¦è‘—åŠ å…¥è³¼ç‰©è»Šã€ç‰¹å®šé é¢çš„åŠ å…¥è³¼ç‰©è»ŠåŠŸèƒ½å®Œæˆ</li>
</ol>



<pre class="wp-block-code"><code>// views/UserCart.vue
&lt;template&gt;
  &lt;Loading :active="isLoading"&gt;&lt;/Loading&gt;
  &lt;div class="container"&gt;
    &lt;div class="row mt-4"&gt;
      &lt;div class="col-md-7"&gt;
        &lt;table class="table align-middle"&gt;
          &lt;thead&gt;
            &lt;tr&gt;
              &lt;th&gt;åœ–ç‰‡&lt;/th&gt;
              &lt;th&gt;å•†å“åç¨±&lt;/th&gt;
              &lt;th&gt;åƒ¹æ ¼&lt;/th&gt;
              &lt;th&gt;&lt;/th&gt;
            &lt;/tr&gt;
          &lt;/thead&gt;
          &lt;tbody&gt;
            &lt;tr v-for="item in products" :key="item.id"&gt;
              &lt;td style="width: 200px"&gt;
                &lt;div style="height: 100px; background-size: cover; background-position: center"
                :style="{backgroundImage: `url(${item.imageUrl})`}"&gt;&lt;/div&gt;
              &lt;/td&gt;
              &lt;td&gt;&lt;a href="#" class="text-dark"&gt;{{ item.title }}&lt;/a&gt;&lt;/td&gt;
              &lt;td&gt;
                &lt;div class="h5" v-if="!item.price"&gt;{{ item.origin_price }} å…ƒ&lt;/div&gt;
                &lt;del class="h6" v-if="item.price"&gt;åŸåƒ¹ {{ item.origin_price }} å…ƒ&lt;/del&gt;
                &lt;div class="h5" v-if="item.price"&gt;ç¾åœ¨åªè¦ {{ item.price }} å…ƒ&lt;/div&gt;
              &lt;/td&gt;
              &lt;td&gt;
                &lt;div class="btn-group btn-group-sm"&gt;
                  &lt;button type="button" class="btn btn-outline-secondary"
                  @click="getProduct(item.id)"&gt;
                    æŸ¥çœ‹æ›´å¤š
                  &lt;/button&gt;
                  &lt;button type="button" class="btn btn-outline-danger"
                  @click="addCart(item.id)"
                  :disabled="this.status.loadingItem === item.id"&gt;
                    &lt;div v-if="this.status.loadingItem === item.id"
                    class="spinner-grow text-danger spinner-grow-sm" role="status"&gt;
                      &lt;span class="visually-hidden"&gt;Loading...&lt;/span&gt;
                    &lt;/div&gt;
                    åŠ åˆ°è³¼ç‰©è»Š
                  &lt;/button&gt;
                &lt;/div&gt;
              &lt;/td&gt;
            &lt;/tr&gt;
          &lt;/tbody&gt;
        &lt;/table&gt;
      &lt;/div&gt;
      &lt;!-- è³¼ç‰©è»Šåˆ—è¡¨ --&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script&gt;
export default {
  data() {
    return {
      products: &#91;],
      product: {},
      // è®€å–ç‹€æ…‹
      status: {
        loadingItem: '', // å°æ‡‰å“é … id
      },
    };
  },
  methods: {
    // å–å¾—å•†å“åˆ—è¡¨
    getProducts() {
      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/products/all`;
      this.isLoading = true;
      this.$http.get(url).then((response) =&gt; {
        this.products = response.data.products;
        console.log('products:', response);
        this.isLoading = false;
      });
    },
    // é€²å…¥å–®ä¸€å•†å“é é¢
    getProduct(id) {
      this.$router.push(`/user/product/${id}`);
    },
    // åŠ å…¥è³¼ç‰©è»Š
    addCart(id) {
      // æ¸¬è©¦ id æœ‰æ²’æœ‰æ­£ç¢ºå–å‡º
      // console.log(id);
      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart`;
      this.status.loadingItem = id;
      const cart = {
        product_id: id,
        qty: 1,
      };
      this.$http.post(url, { data: cart })
        .then((res) =&gt; {
          this.status.loadingItem = '';
          console.log(res);
        });
    },
  },
  created() {
    this.getProducts();
  },
};
&lt;/script&gt;
</code></pre>



<pre class="wp-block-code"><code>// views/UserProduct.vue
&lt;template&gt;
  &lt;Loading :active="isLoading"&gt;&lt;/Loading&gt;
  &lt;div class="container"&gt;
    &lt;nav aria-label="breadcrumb"&gt;
      &lt;ol class="breadcrumb"&gt;
        &lt;li class="breadcrumb-item"&gt;&lt;router-link to="/user/cart"&gt;è³¼ç‰©è»Š&lt;/router-link&gt;&lt;/li&gt;
        &lt;li class="breadcrumb-item active" aria-current="page"&gt;{{ product.title }}&lt;/li&gt;
      &lt;/ol&gt;
    &lt;/nav&gt;
    &lt;div class="row justify-content-center"&gt;
      &lt;article class="col-8"&gt;
        &lt;h2&gt;{{ product.title }}&lt;/h2&gt;
        &lt;div&gt;{{ product.content }}&lt;/div&gt;
        &lt;div&gt;{{ product.description }}&lt;/div&gt;
        &lt;img :src="product.imageUrl" alt="" class="img-fluid mb-3"&gt;
      &lt;/article&gt;
      &lt;div class="col-4"&gt;
        &lt;div class="h5" v-if="!product.price"&gt;{{ product.origin_price }} å…ƒ&lt;/div&gt;
        &lt;del class="h6" v-if="product.price"&gt;åŸåƒ¹ {{ product.origin_price }} å…ƒ&lt;/del&gt;
        &lt;div class="h5" v-if="product.price"&gt;ç¾åœ¨åªè¦ {{ product.price }} å…ƒ&lt;/div&gt;
        &lt;hr&gt;
        &lt;button type="button" class="btn btn-outline-danger"
                @click="addToCart(product.id)"&gt;
          åŠ åˆ°è³¼ç‰©è»Š
        &lt;/button&gt;
      &lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script&gt;
export default {
  data() {
    return {
      product: {},
      id: '',
    };
  },
  methods: {
    getProduct() {
      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/product/${this.id}`;
      this.isLoading = true;
      this.$http.get(api).then((response) =&gt; {
        console.log(response.data);
        this.isLoading = false;
        if (response.data.success) {
          this.product = response.data.product;
        }
      });
    },
    // ç‰¹å®šé é¢åŠ å…¥è³¼ç‰©è»Š
    addToCart(id, qty = 1) {
      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart`;
      const cart = {
        product_id: id,
        qty,
      };
      this.isLoading = true;
      this.$http.post(url, { data: cart }).then((response) =&gt; {
        this.isLoading = false;
        this.$httpMessageState(response, 'åŠ å…¥è³¼ç‰©è»Š');
        this.$router.push('/user/cart');
      });
    },
  },
  created() {
    this.id = this.$route.params.productId;
    this.getProduct();
  },
};
&lt;/script&gt;
</code></pre>



<h3 class="wp-block-heading">ç”¨æˆ¶ç«¯åŠ å…¥ Bootstrap Icon</h3>



<ol>
<li>è£½ä½œè³¼ç‰©è»Šåˆ—è¡¨</li>



<li>æé†’: api ç´°ç¯€ï¼ŒæŠŠè³¼ç‰©è»Š api æ‰“ï¼Œæœƒç™¼ç¾é€™é‚Šçš„çµæ§‹å’Œå…ˆå‰çš„ä¸å¤ªä¸€æ¨£ï¼Œé€™è£¡æ˜¯ data è£¡é¢é‚„æœ‰ dataï¼Œä¸»è¦æ˜¯å› ç‚ºé€™å€‹ data è£¡é¢æœ‰å…©å€‹çµæ§‹ï¼Œä¸€å€‹æ˜¯è³¼ç‰©è»Šçš„å“é …ï¼ŒåŠ å…¥éå¸¸å¤šçš„é …ç›®éƒ½æœƒå­˜åœ¨é€™å€‹ carts è£¡é¢</li>



<li>åœ¨ç•«é¢çš„éƒ¨åˆ†å¯ä»¥çœ‹åˆ°éå¸¸å¤šçš„é …ç›®<br>åœ¨ Console æŸ¥è©¢é¡¯ç¤ºçš„è³‡æ–™ï¼Œ cartsã€final_totalã€total<br>cartsã€final_total, total é€™å…©å€‹é …ç›®éœ€è¦å­˜ä¸‹ä¾†ï¼Œå¯ä»¥å­˜åœ¨ä¸€å€‹ç‰©ä»¶è£¡é¢ï¼Œæˆ–è€…æ‹†æˆå…©å€‹ä¾†å¦å¤–åšå„²å­˜ï¼Œéƒ½æ˜¯å¿…è¦å‡ºç¾åœ¨ç•«é¢ä¸Šçš„é …ç›®</li>



<li>åœ¨ UserCart.vue æª”æ¡ˆæ’°å¯« getCart() æ–¹æ³•<br>this.cart = response.data.data æ‰€æœ‰çš„é …ç›®éƒ½å­˜èµ·ä¾†ï¼Œé€™å€‹ cart å°±åŒ…å«é™£åˆ—çš„åˆ—è¡¨ä»¥åŠç¸½é‡‘é¡<br>åœ¨è³¼ç‰©è»Šåˆ—è¡¨å°±ä½¿ç”¨ v-if åˆ¤æ–·é™£åˆ—æœ‰æ²’æœ‰å­˜åœ¨ï¼Œå¦‚æœå­˜åœ¨çš„æƒ…æ³ä¸‹å°±ä½¿ç”¨ v-for æŠŠé™£åˆ—çš„å…§å®¹å®Œæ•´çš„å‘ˆç¾</li>



<li>æ•¸é‡èª¿æ•´çš„åŠŸèƒ½å°šæœªè£½ä½œ</li>



<li>ä½¿ç”¨ icon çš„å½¢å¼æ›¿æ›åˆªé™¤ä¸­æ–‡å­—<br>åœ¨ Bootstrap æ–‡ä»¶æ‰¾åˆ° Icons<br>å®‰è£ Bootstrap Icons å¥—ä»¶<br>æŠŠ Bootstrap Icons è¼‰å…¥åˆ° main.js æª”æ¡ˆ<br>import â€˜bootstrap-icons/font/bootstrap-icons.cssâ€™;<br>æŠŠ icons åœ–ç¤ºåŠ å…¥</li>
</ol>



<pre class="wp-block-code"><code>// views/UserCart.vue
&lt;template&gt;
  &lt;Loading :active="isLoading"&gt;&lt;/Loading&gt;
  &lt;div class="container"&gt;
    &lt;div class="row mt-4"&gt;
      &lt;div class="col-md-7"&gt;
        &lt;table class="table align-middle"&gt;
          &lt;thead&gt;
            &lt;tr&gt;
              &lt;th&gt;åœ–ç‰‡&lt;/th&gt;
              &lt;th&gt;å•†å“åç¨±&lt;/th&gt;
              &lt;th&gt;åƒ¹æ ¼&lt;/th&gt;
              &lt;th&gt;&lt;/th&gt;
            &lt;/tr&gt;
          &lt;/thead&gt;
          &lt;tbody&gt;
            &lt;tr v-for="item in products" :key="item.id"&gt;
              &lt;td style="width: 200px"&gt;
                &lt;div style="height: 100px; background-size: cover; background-position: center"
                :style="{backgroundImage: `url(${item.imageUrl})`}"&gt;&lt;/div&gt;
              &lt;/td&gt;
              &lt;td&gt;&lt;a href="#" class="text-dark"&gt;{{ item.title }}&lt;/a&gt;&lt;/td&gt;
              &lt;td&gt;
                &lt;div class="h5" v-if="!item.price"&gt;{{ item.origin_price }} å…ƒ&lt;/div&gt;
                &lt;del class="h6" v-if="item.price"&gt;åŸåƒ¹ {{ item.origin_price }} å…ƒ&lt;/del&gt;
                &lt;div class="h5" v-if="item.price"&gt;ç¾åœ¨åªè¦ {{ item.price }} å…ƒ&lt;/div&gt;
              &lt;/td&gt;
              &lt;td&gt;
                &lt;div class="btn-group btn-group-sm"&gt;
                  &lt;button type="button" class="btn btn-outline-secondary"
                  @click="getProduct(item.id)"&gt;
                    æŸ¥çœ‹æ›´å¤š
                  &lt;/button&gt;
                  &lt;button type="button" class="btn btn-outline-danger"
                  @click="addCart(item.id)"
                  :disabled="this.status.loadingItem === item.id"&gt;
                    &lt;div v-if="this.status.loadingItem === item.id"
                    class="spinner-grow text-danger spinner-grow-sm" role="status"&gt;
                      &lt;span class="visually-hidden"&gt;Loading...&lt;/span&gt;
                    &lt;/div&gt;
                    åŠ åˆ°è³¼ç‰©è»Š
                  &lt;/button&gt;
                &lt;/div&gt;
              &lt;/td&gt;
            &lt;/tr&gt;
          &lt;/tbody&gt;
        &lt;/table&gt;
      &lt;/div&gt;
      &lt;!-- è³¼ç‰©è»Šåˆ—è¡¨ --&gt;
      &lt;div class="col-md-5"&gt;
        &lt;div class="sticky-top"&gt;
          &lt;table class="table align-middle"&gt;
            &lt;thead&gt;
              &lt;tr&gt;
                &lt;th&gt;&lt;/th&gt;
                &lt;th&gt;å“å&lt;/th&gt;
                &lt;th style="width: 110px"&gt;æ•¸é‡&lt;/th&gt;
                &lt;th&gt;å–®åƒ¹&lt;/th&gt;
              &lt;/tr&gt;
            &lt;/thead&gt;
            &lt;tbody&gt;
            &lt;template v-if="cart.carts"&gt;
              &lt;tr v-for="item in cart.carts" :key="item.id"&gt;
                &lt;td&gt;
                  &lt;button type="button" class="btn btn-outline-danger btn-sm"
                  :disabled="status.loadingItem === item.id"
                  @click="removeCartItem(item.id)"&gt;
                    &lt;i class="bi bi-x"&gt;&lt;/i&gt;
                  &lt;/button&gt;
                &lt;/td&gt;
                &lt;td&gt;
                  {{ item.product.title }}
                  &lt;div class="text-success" v-if="item.coupon"&gt;
                    å·²å¥—ç”¨å„ªæƒ åˆ¸
                  &lt;/div&gt;
                &lt;/td&gt;
                &lt;td&gt;
                  &lt;div class="input-group input-group-sm"&gt;
                    &lt;input type="number" class="form-control"
                          v-model.number="item.qty"&gt;
                    &lt;div class="input-group-text"&gt;/ {{ item.product.unit }}&lt;/div&gt;
                  &lt;/div&gt;
                &lt;/td&gt;
                &lt;td class="text-end"&gt;
                  &lt;small v-if="cart.final_total !== cart.total" class="text-success"&gt;æŠ˜æ‰£åƒ¹ï¼š&lt;/small&gt;
                  {{ $filters.currency(item.final_total) }}
                &lt;/td&gt;
              &lt;/tr&gt;
            &lt;/template&gt;
            &lt;/tbody&gt;
            &lt;tfoot&gt;
            &lt;tr&gt;
              &lt;td colspan="3" class="text-end"&gt;ç¸½è¨ˆ&lt;/td&gt;
              &lt;td class="text-end"&gt;{{ $filters.currency(cart.total) }}&lt;/td&gt;
            &lt;/tr&gt;
            &lt;tr v-if="cart.final_total !== cart.total"&gt;
              &lt;td colspan="3" class="text-end text-success"&gt;æŠ˜æ‰£åƒ¹&lt;/td&gt;
              &lt;td class="text-end text-success"&gt;{{ $filters.currency(cart.final_total) }}&lt;/td&gt;
            &lt;/tr&gt;
            &lt;/tfoot&gt;
          &lt;/table&gt;
          &lt;div class="input-group mb-3 input-group-sm"&gt;
            &lt;input type="text" class="form-control" v-model="coupon_code" placeholder="è«‹è¼¸å…¥å„ªæƒ ç¢¼"&gt;
            &lt;div class="input-group-append"&gt;
              &lt;button class="btn btn-outline-secondary" type="button" @click="addCouponCode"&gt;
                å¥—ç”¨å„ªæƒ ç¢¼
              &lt;/button&gt;
            &lt;/div&gt;
          &lt;/div&gt;
        &lt;/div&gt;
      &lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script&gt;
export default {
  data() {
    return {
      products: &#91;],
      product: {},
      // è®€å–ç‹€æ…‹
      status: {
        loadingItem: '', // å°æ‡‰å“é … id
      },
      cart: {},
      coupon_code: '',
    };
  },
  methods: {
    // å–å¾—å•†å“åˆ—è¡¨
    getProducts() {
      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/products/all`;
      this.isLoading = true;
      this.$http.get(url).then((response) =&gt; {
        this.products = response.data.products;
        console.log('products:', response);
        this.isLoading = false;
      });
    },
    // é€²å…¥å–®ä¸€å•†å“é é¢
    getProduct(id) {
      this.$router.push(`/user/product/${id}`);
    },
    // åŠ å…¥è³¼ç‰©è»Š
    addCart(id) {
      // æ¸¬è©¦ id æœ‰æ²’æœ‰æ­£ç¢ºå–å‡º
      // console.log(id);
      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart`;
      this.status.loadingItem = id;
      const cart = {
        product_id: id,
        qty: 1,
      };
      this.$http.post(url, { data: cart })
        .then((res) =&gt; {
          this.status.loadingItem = '';
          console.log(res);
        });
    },
    // å–å¾—è³¼ç‰©è»Šåˆ—è¡¨
    getCart() {
      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart`;
      this.isLoading = true;
      this.$http.get(url).then((response) =&gt; {
        console.log(response);
        this.cart = response.data.data;
        this.isLoading = false;
      });
    },
  },
  created() {
    this.getProducts();
    this.getCart();
  },
};
&lt;/script&gt;
</code></pre>



<pre class="wp-block-code"><code>// src/main.js
import { createApp } from 'vue';
import axios from 'axios';
import VueAxios from 'vue-axios';
import Loading from 'vue3-loading-overlay';
import 'vue3-loading-overlay/dist/vue3-loading-overlay.css';
import 'bootstrap-icons/font/bootstrap-icons.css';

import App from './App.vue';
import router from './router';
import { currency, date } from './methods/filters';
import $httpMessageState from './methods/pushMessageState';

const app = createApp(App);
app.config.globalProperties.$filters = {
  currency,
  date,
};
// æ­¤å‡½å¼çš„ç”¨é€”æ˜¯æ•´åˆ AJAX çš„éŒ¯èª¤äº‹ä»¶ï¼Œçµ±ä¸€æ•´ç†ç™¼é€çµ¦äºˆ Toast è™•ç†
app.config.globalProperties.$httpMessageState = $httpMessageState;

app.use(VueAxios, axios);
app.use(router);
app.component('Loading', Loading);
app.mount('#app');
</code></pre>



<h3 class="wp-block-heading">ç”¨æˆ¶ç«¯æ›´æ–°è³¼ç‰©è»Šæ•¸é‡å“é …</h3>



<ol>
<li>çœ‹è³‡æ–™çš„éƒ¨åˆ†<br>ä½¿ç”¨ Vue.js devtools æŸ¥çœ‹å…ƒä»¶è£¡é¢çš„è³‡æ–™ï¼Œè³¼ç‰©è»Šå“é …<br>&lt;RouterView&gt; &gt; &lt;UserCart&gt;</li>



<li>åœ¨ UserCart.vue æª”æ¡ˆ<br>å¯ä»¥çœ‹åˆ° v-model.number=â€item.qtyâ€ï¼Œitem æŒ‡çš„æ˜¯ product å“é …ï¼Œç›®å‰å“é …å¯ä»¥é€é input ä¾†èª¿æ•´æ•¸é‡å¤šå¯¡ï¼ŒVue.js devtools çš„ qty ä¹Ÿæœƒè·Ÿè‘—åšèª¿æ•´ï¼Œç›®å‰ input å·²ç¶“è·Ÿè³‡æ–™ç¶ä¸Š</li>



<li>ç¾åœ¨æœ‰å€‹å•é¡Œæ˜¯èª¿æ•´æ•¸é‡çš„æ™‚å€™ï¼Œæ˜¯å¯ä»¥è®Šç‚º 0 æˆ–è€…è² å€¼çš„ï¼Œè¦é¿å…è®Šæˆè² å€¼ï¼Œé€å‡ºæ‰ä¸æœƒç”¢ç”Ÿå•é¡Œï¼Œåœ¨ input å¿…é ˆåŠ ä¸Šæœ€å°å€¼ min = 1ï¼Œé¿å…ç”¨æˆ¶å°‡å€¼èª¿æˆä½æ–¼ 0 çš„ç‹€æ…‹</li>



<li>çœ‹è³¼ç‰©è»Šçš„æ•¸é‡ï¼Œç•¶èª¿æ•´æ•¸é‡çš„æ™‚å€™ï¼Œqty æ•¸å€¼æ˜¯æœƒè·Ÿè‘—åšæ”¹è®Šï¼Œä½†æ˜¯åƒ¹æ ¼æ˜¯ä¸æœƒè·Ÿè‘—åšæ”¹è®Šï¼Œä¸»è¦æ˜¯å› ç‚ºåƒ¹æ ¼æ˜¯ç”±å¾Œç«¯æ‰€è¨ˆç®—å‡ºï¼Œå› æ­¤å¿…é ˆèª¿æ•´å¾Œç«¯çš„è³¼ç‰©è»Šå“é …çš„æ•¸é‡ï¼Œæ‰æœƒå›å‚³æ–°çš„åƒ¹æ ¼</li>



<li>æŸ¥çœ‹ API æ–‡ä»¶æ›´æ–°è³¼ç‰©è»Šçš„éƒ¨åˆ†ï¼Œæ›´æ–°è³¼ç‰©è»Š api è·ŸåŠ å…¥è³¼ç‰©è»Šå¾ˆåƒï¼Œåœ¨æ›´æ–°è³¼ç‰©è»ŠæœƒåŠ å…¥è³¼ç‰©è»Šçš„ idï¼Œå–®ä¸€å“é …çš„ idï¼Œæ‰€å‚³éçš„åƒæ•¸å…§å®¹å’ŒåŠ å…¥è³¼ç‰©è»Šæ˜¯ä¸€æ¨£çš„</li>



<li>åœ¨ Vue.js devtools è³¼ç‰©è»Šè£¡é¢æœ‰ idã€ç”¢å“çš„ idï¼Œé€™å€‹ id å°±æ˜¯åœ¨è³¼ç‰©è»Šè£¡é¢å–®ä¸€å“é …çš„ idï¼Œå¦ä¸€å€‹æ˜¯ç”¢å“çš„ idï¼Œå› æ­¤å¿…é ˆæŠŠé€™å…©å€‹è³‡è¨Šå‚³åˆ°å¾Œç«¯ï¼Œæ‰èƒ½è¨ˆç®—æ–°çš„é‡‘é¡</li>



<li>åœ¨ç¨‹å¼ç¢¼æ•¸é‡çš„åœ°æ–¹åŠ ä¸Šäº‹ä»¶ï¼Œä½¿ç”¨ change æ–¹æ³•è§¸ç™¼æ›´æ–°è³¼ç‰©è»Š @change=â€updateCart()â€ï¼Œå› ç‚ºè¦å‚³é€ç›¸é—œçš„è³‡è¨Šï¼Œè³¼ç‰©è»Šçš„å“é … id ä»¥åŠç”¢å“ idï¼Œåœ¨é€™å€‹åœ°æ–¹æŠŠ item å¸¶é€²ä¾†</li>



<li>åœ¨ JS éƒ¨åˆ†æ’°å¯« updateCart() æ–¹æ³•<br>åŠ ä¸Š api è·¯å¾‘ã€api æ–¹æ³•ï¼Œæœƒä½¿ç”¨ put æ–¹æ³•<br>çµ„è£è¦å‚³éçš„è³‡è¨Šï¼Œé€éç‰©ä»¶æ–¹å¼ä¾†é€²è¡Œå‚³é<br>ä½¿ç”¨ console æ¸¬è©¦å…§å®¹æœ‰æ²’æœ‰ç¢ºå¯¦æ›´æ–°ï¼Œåœ¨æ›´æ–°è³¼ç‰©è»Šé …ç›®ä¹‹å¾Œï¼Œå¯ä»¥å†é‡æ–°å–å¾—å®Œæ•´è³¼ç‰©è»Šçš„å…§å®¹</li>



<li>é¿å…ç”¨æˆ¶é‡è¤‡é»æ“Šï¼ŒåŠ ä¸Šè®€å–çš„æ•ˆæœ<br>this.status.loadingItem = item.id; ç„¶å¾Œæ›´æ–°å¾Œæ¸…ç©º<br>åœ¨ HTML éƒ¨åˆ†åŠ ä¸Š :disabled=â€item.id === status.loadingItemâ€</li>
</ol>



<pre class="wp-block-code"><code>// views/UserCart.vue
&lt;template&gt;
  &lt;Loading :active="isLoading"&gt;&lt;/Loading&gt;
  &lt;div class="container"&gt;
    &lt;div class="row mt-4"&gt;
      &lt;div class="col-md-7"&gt;
        &lt;table class="table align-middle"&gt;
          &lt;thead&gt;
            &lt;tr&gt;
              &lt;th&gt;åœ–ç‰‡&lt;/th&gt;
              &lt;th&gt;å•†å“åç¨±&lt;/th&gt;
              &lt;th&gt;åƒ¹æ ¼&lt;/th&gt;
              &lt;th&gt;&lt;/th&gt;
            &lt;/tr&gt;
          &lt;/thead&gt;
          &lt;tbody&gt;
            &lt;tr v-for="item in products" :key="item.id"&gt;
              &lt;td style="width: 200px"&gt;
                &lt;div style="height: 100px; background-size: cover; background-position: center"
                :style="{backgroundImage: `url(${item.imageUrl})`}"&gt;&lt;/div&gt;
              &lt;/td&gt;
              &lt;td&gt;&lt;a href="#" class="text-dark"&gt;{{ item.title }}&lt;/a&gt;&lt;/td&gt;
              &lt;td&gt;
                &lt;div class="h5" v-if="!item.price"&gt;{{ item.origin_price }} å…ƒ&lt;/div&gt;
                &lt;del class="h6" v-if="item.price"&gt;åŸåƒ¹ {{ item.origin_price }} å…ƒ&lt;/del&gt;
                &lt;div class="h5" v-if="item.price"&gt;ç¾åœ¨åªè¦ {{ item.price }} å…ƒ&lt;/div&gt;
              &lt;/td&gt;
              &lt;td&gt;
                &lt;div class="btn-group btn-group-sm"&gt;
                  &lt;button type="button" class="btn btn-outline-secondary"
                  @click="getProduct(item.id)"&gt;
                    æŸ¥çœ‹æ›´å¤š
                  &lt;/button&gt;
                  &lt;button type="button" class="btn btn-outline-danger"
                  @click="addCart(item.id)"
                  :disabled="this.status.loadingItem === item.id"&gt;
                    &lt;div v-if="this.status.loadingItem === item.id"
                    class="spinner-grow text-danger spinner-grow-sm" role="status"&gt;
                      &lt;span class="visually-hidden"&gt;Loading...&lt;/span&gt;
                    &lt;/div&gt;
                    åŠ åˆ°è³¼ç‰©è»Š
                  &lt;/button&gt;
                &lt;/div&gt;
              &lt;/td&gt;
            &lt;/tr&gt;
          &lt;/tbody&gt;
        &lt;/table&gt;
      &lt;/div&gt;
      &lt;!-- è³¼ç‰©è»Šåˆ—è¡¨ --&gt;
      &lt;div class="col-md-5"&gt;
        &lt;div class="sticky-top"&gt;
          &lt;table class="table align-middle"&gt;
            &lt;thead&gt;
              &lt;tr&gt;
                &lt;th&gt;&lt;/th&gt;
                &lt;th&gt;å“å&lt;/th&gt;
                &lt;th style="width: 110px"&gt;æ•¸é‡&lt;/th&gt;
                &lt;th&gt;å–®åƒ¹&lt;/th&gt;
              &lt;/tr&gt;
            &lt;/thead&gt;
            &lt;tbody&gt;
            &lt;template v-if="cart.carts"&gt;
              &lt;tr v-for="item in cart.carts" :key="item.id"&gt;
                &lt;td&gt;
                  &lt;button type="button" class="btn btn-outline-danger btn-sm"
                  :disabled="status.loadingItem === item.id"
                  @click="removeCartItem(item.id)"&gt;
                    &lt;i class="bi bi-x"&gt;&lt;/i&gt;
                  &lt;/button&gt;
                &lt;/td&gt;
                &lt;td&gt;
                  {{ item.product.title }}
                  &lt;div class="text-success" v-if="item.coupon"&gt;
                    å·²å¥—ç”¨å„ªæƒ åˆ¸
                  &lt;/div&gt;
                &lt;/td&gt;
                &lt;td&gt;
                  &lt;div class="input-group input-group-sm"&gt;
                    &lt;input type="number" class="form-control"
                    min="1"
                    :disabled="item.id === status.loadingItem"
                    @change="updateCart(item)"
                    v-model.number="item.qty"&gt;
                    &lt;div class="input-group-text"&gt;/ {{ item.product.unit }}&lt;/div&gt;
                  &lt;/div&gt;
                &lt;/td&gt;
                &lt;td class="text-end"&gt;
                  &lt;small v-if="cart.final_total !== cart.total" class="text-success"&gt;æŠ˜æ‰£åƒ¹ï¼š&lt;/small&gt;
                  {{ $filters.currency(item.final_total) }}
                &lt;/td&gt;
              &lt;/tr&gt;
            &lt;/template&gt;
            &lt;/tbody&gt;
            &lt;tfoot&gt;
            &lt;tr&gt;
              &lt;td colspan="3" class="text-end"&gt;ç¸½è¨ˆ&lt;/td&gt;
              &lt;td class="text-end"&gt;{{ $filters.currency(cart.total) }}&lt;/td&gt;
            &lt;/tr&gt;
            &lt;tr v-if="cart.final_total !== cart.total"&gt;
              &lt;td colspan="3" class="text-end text-success"&gt;æŠ˜æ‰£åƒ¹&lt;/td&gt;
              &lt;td class="text-end text-success"&gt;{{ $filters.currency(cart.final_total) }}&lt;/td&gt;
            &lt;/tr&gt;
            &lt;/tfoot&gt;
          &lt;/table&gt;
          &lt;div class="input-group mb-3 input-group-sm"&gt;
            &lt;input type="text" class="form-control" v-model="coupon_code" placeholder="è«‹è¼¸å…¥å„ªæƒ ç¢¼"&gt;
            &lt;div class="input-group-append"&gt;
              &lt;button class="btn btn-outline-secondary" type="button" @click="addCouponCode"&gt;
                å¥—ç”¨å„ªæƒ ç¢¼
              &lt;/button&gt;
            &lt;/div&gt;
          &lt;/div&gt;
        &lt;/div&gt;
      &lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script&gt;
export default {
  data() {
    return {
      products: &#91;],
      product: {},
      // è®€å–ç‹€æ…‹
      status: {
        loadingItem: '', // å°æ‡‰å“é … id
      },
      cart: {},
      coupon_code: '',
    };
  },
  methods: {
    // å–å¾—å•†å“åˆ—è¡¨
    getProducts() {
      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/products/all`;
      this.isLoading = true;
      this.$http.get(url).then((response) =&gt; {
        this.products = response.data.products;
        console.log('products:', response);
        this.isLoading = false;
      });
    },
    // é€²å…¥å–®ä¸€å•†å“é é¢
    getProduct(id) {
      this.$router.push(`/user/product/${id}`);
    },
    // åŠ å…¥è³¼ç‰©è»Š
    addCart(id) {
      // æ¸¬è©¦ id æœ‰æ²’æœ‰æ­£ç¢ºå–å‡º
      // console.log(id);
      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart`;
      this.status.loadingItem = id;
      const cart = {
        product_id: id,
        qty: 1,
      };
      this.$http.post(url, { data: cart })
        .then((res) =&gt; {
          this.status.loadingItem = '';
          console.log(res);
        });
    },
    // å–å¾—è³¼ç‰©è»Šåˆ—è¡¨
    getCart() {
      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart`;
      this.isLoading = true;
      this.$http.get(url).then((response) =&gt; {
        console.log(response);
        this.cart = response.data.data;
        this.isLoading = false;
      });
    },
    // æ›´æ–°è³¼ç‰©è»Š
    updateCart(item) {
      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart/${item.id}`;
      this.isLoading = true;
      // è®€å–æ•ˆæœ
      this.status.loadingItem = item.id;
      // å‚³éçš„è³‡è¨Š
      const cart = {
        product_id: item.product_id,
        qty: item.qty,
      };
      this.$http.put(url, { data: cart }).then((res) =&gt; {
        console.log(res);
        this.status.loadingItem = '';
        this.getCart();
      });
    },
  },
  created() {
    this.getProducts();
    this.getCart();
  },
};
&lt;/script&gt;
</code></pre>



<h3 class="wp-block-heading">ç”¨æˆ¶ç«¯å¥—ç”¨å„ªæƒ åˆ¸</h3>



<ol>
<li>è¦ä½¿ç”¨å„ªæƒ åˆ¸çš„åŠŸèƒ½å‹™å¿…å…ˆæŠŠå„ªæƒ åˆ¸çš„å¾Œå°å®Œæˆï¼Œæ‰å¯ä»¥å¥—ç”¨å„ªæƒ åˆ¸çš„åŠŸèƒ½<br>è‡³å°‘å…ˆæ–°å¢ä¸€å€‹å„ªæƒ åˆ¸<br>å„ªæƒ åˆ¸åç¨±ã€åˆ°æœŸæ—¥ã€æ˜¯å¦å•Ÿç”¨ã€æŠ˜æ‰£ç™¾åˆ†æ¯”æœƒç›´æ¥å¥—ç”¨åœ¨è³¼ç‰©è»Šå…§çš„æ‰€æœ‰çš„å“é …</li>



<li>åœ¨è³¼ç‰©è»Šåˆ—è¡¨ console çœ‹ä¸€ä¸‹é—œæ–¼è³¼ç‰©è»Šçš„å…§å®¹<br>è³¼ç‰©è»Šå“é …æœ‰å…©å€‹åƒ¹æ ¼ totalã€final_totalï¼Œå¯¦éš›ä¸Šå¥—ç”¨å„ªæƒ åˆ¸æœƒæŠŠ final_total é‡‘é¡é‡æ–°è¨ˆç®—ï¼Œå†åŠ ç¸½åˆ°æœ€çµ‚çš„ç¸½é‡‘é¡ï¼Œå“é …æœ€çµ‚æœƒå¥—ç”¨åˆ° final_total è£¡é¢é‡æ–°é‹ç®—</li>



<li>ä»¥ç¯„ä¾‹è¬›è§£å¥—ç”¨å„ªæƒ åˆ¸è©¦è©¦ï¼Œçœ‹ä¸€ä¸‹é‡æ–°å–å¾—çš„åˆ—è¡¨å…§å®¹ï¼Œcart æ‰€æ›´æ–°çš„è³¼ç‰©è»Šå…§å®¹ final_total çš„é‡‘é¡æˆåŠŸæ‰“æŠ˜ï¼Œå¦å¤–æŠŠå„ªæƒ åˆ¸ç›¸é—œå…§å®¹åŠ å…¥é€²ä¾†ï¼Œå“é …æœ€çµ‚æœƒç”¨æ‰“æŠ˜å¾Œçš„åƒ¹æ ¼æ–¹å¼é€²è¡Œè¨ˆç®—</li>



<li>è©¦è‘—å®Œæˆå„ªæƒ åˆ¸åŠŸèƒ½<br>å¥—ç”¨å„ªæƒ åˆ¸æŒ‰éˆ•åŠ ä¸Š addCouponCode æ–¹æ³•ï¼Œåœ¨ç¨‹å¼ç¢¼æŠŠ addCouponCode() æ–¹æ³•åŠ å…¥<br>æŸ¥çœ‹ API æ–‡ä»¶å¥—ç”¨å„ªæƒ åˆ¸ apiï¼Œæœƒç™¼é€ data å…§å®¹ï¼Œdata è£¡é¢æœ‰ä¸€å€‹ code çš„å±¬æ€§å°±æ˜¯å„ªæƒ åˆ¸çš„åç¨±ï¼Œå„ªæƒ åˆ¸åç¨±æ”¾åœ¨é€™å€‹åœ°æ–¹é€å‡ºå°±å¯ä»¥äº†<br>api è·¯å¾‘ã€å»ºç«‹è³‡æ–™çµæ§‹ã€this.$http.post æ–¹æ³•æŠŠ url ä»¥åŠ coupon å…§å®¹å¸¶é€²ä¾†ï¼ŒåŒ…åœ¨ data çš„å±¬æ€§ä¸‹ä¸¦ä¸”æŠŠä¸Šé¢çš„ coupon å¸¶é€²ä¾†ï¼ŒåŠ ä¸Š then å›å‚³çµæœï¼Œç„¶å¾Œé‡æ–°å–å¾—è³¼ç‰©è»Šå…§å®¹ï¼ŒæŠŠé‡‘é¡æ›´æ–°</li>



<li>åŠ å…¥è³¼ç‰©è»Šï¼Œé‡æ–°æ•´ç†å¾Œè³¼ç‰©è»Šåˆ—è¡¨å°±æœƒæ–°å¢ä¸€å€‹å“é …<br>å¥—ç”¨å„ªæƒ åˆ¸ï¼ŒæŸ¥çœ‹ consoleã€æŠ˜æ‰£ç›¸é—œè¨Šæ¯å‘ˆç¾åœ¨ç•«é¢</li>



<li>è£½ä½œ Coupon ä¹Ÿå¯ä»¥æŠŠè®€å–çš„æ•ˆæœé‚„æœ‰ç›¸é—œçš„å›æ‡‰åŠ ä¸Š</li>



<li>è©¦è‘—è£½ä½œåˆªé™¤çš„åŠŸèƒ½</li>
</ol>



<pre class="wp-block-code"><code>// views/UserCart.vue
&lt;template&gt;
  &lt;Loading :active="isLoading"&gt;&lt;/Loading&gt;
  &lt;div class="container"&gt;
    &lt;div class="row mt-4"&gt;
      &lt;div class="col-md-7"&gt;
        &lt;table class="table align-middle"&gt;
          &lt;thead&gt;
            &lt;tr&gt;
              &lt;th&gt;åœ–ç‰‡&lt;/th&gt;
              &lt;th&gt;å•†å“åç¨±&lt;/th&gt;
              &lt;th&gt;åƒ¹æ ¼&lt;/th&gt;
              &lt;th&gt;&lt;/th&gt;
            &lt;/tr&gt;
          &lt;/thead&gt;
          &lt;tbody&gt;
            &lt;tr v-for="item in products" :key="item.id"&gt;
              &lt;td style="width: 200px"&gt;
                &lt;div style="height: 100px; background-size: cover; background-position: center"
                :style="{backgroundImage: `url(${item.imageUrl})`}"&gt;&lt;/div&gt;
              &lt;/td&gt;
              &lt;td&gt;&lt;a href="#" class="text-dark"&gt;{{ item.title }}&lt;/a&gt;&lt;/td&gt;
              &lt;td&gt;
                &lt;div class="h5" v-if="!item.price"&gt;{{ item.origin_price }} å…ƒ&lt;/div&gt;
                &lt;del class="h6" v-if="item.price"&gt;åŸåƒ¹ {{ item.origin_price }} å…ƒ&lt;/del&gt;
                &lt;div class="h5" v-if="item.price"&gt;ç¾åœ¨åªè¦ {{ item.price }} å…ƒ&lt;/div&gt;
              &lt;/td&gt;
              &lt;td&gt;
                &lt;div class="btn-group btn-group-sm"&gt;
                  &lt;button type="button" class="btn btn-outline-secondary"
                  @click="getProduct(item.id)"&gt;
                    æŸ¥çœ‹æ›´å¤š
                  &lt;/button&gt;
                  &lt;button type="button" class="btn btn-outline-danger"
                  @click="addCart(item.id)"
                  :disabled="this.status.loadingItem === item.id"&gt;
                    &lt;div v-if="this.status.loadingItem === item.id"
                    class="spinner-grow text-danger spinner-grow-sm" role="status"&gt;
                      &lt;span class="visually-hidden"&gt;Loading...&lt;/span&gt;
                    &lt;/div&gt;
                    åŠ åˆ°è³¼ç‰©è»Š
                  &lt;/button&gt;
                &lt;/div&gt;
              &lt;/td&gt;
            &lt;/tr&gt;
          &lt;/tbody&gt;
        &lt;/table&gt;
      &lt;/div&gt;
      &lt;!-- è³¼ç‰©è»Šåˆ—è¡¨ --&gt;
      &lt;div class="col-md-5"&gt;
        &lt;div class="sticky-top"&gt;
          &lt;table class="table align-middle"&gt;
            &lt;thead&gt;
              &lt;tr&gt;
                &lt;th&gt;&lt;/th&gt;
                &lt;th&gt;å“å&lt;/th&gt;
                &lt;th style="width: 110px"&gt;æ•¸é‡&lt;/th&gt;
                &lt;th&gt;å–®åƒ¹&lt;/th&gt;
              &lt;/tr&gt;
            &lt;/thead&gt;
            &lt;tbody&gt;
            &lt;template v-if="cart.carts"&gt;
              &lt;tr v-for="item in cart.carts" :key="item.id"&gt;
                &lt;td&gt;
                  &lt;button type="button" class="btn btn-outline-danger btn-sm"
                  :disabled="status.loadingItem === item.id"
                  @click="removeCartItem(item.id)"&gt;
                    &lt;i class="bi bi-x"&gt;&lt;/i&gt;
                  &lt;/button&gt;
                &lt;/td&gt;
                &lt;td&gt;
                  {{ item.product.title }}
                  &lt;div class="text-success" v-if="item.coupon"&gt;
                    å·²å¥—ç”¨å„ªæƒ åˆ¸
                  &lt;/div&gt;
                &lt;/td&gt;
                &lt;td&gt;
                  &lt;div class="input-group input-group-sm"&gt;
                    &lt;input type="number" class="form-control"
                    min="1"
                    :disabled="item.id === status.loadingItem"
                    @change="updateCart(item)"
                    v-model.number="item.qty"&gt;
                    &lt;div class="input-group-text"&gt;/ {{ item.product.unit }}&lt;/div&gt;
                  &lt;/div&gt;
                &lt;/td&gt;
                &lt;td class="text-end"&gt;
                  &lt;small v-if="cart.final_total !== cart.total" class="text-success"&gt;æŠ˜æ‰£åƒ¹ï¼š&lt;/small&gt;
                  {{ $filters.currency(item.final_total) }}
                &lt;/td&gt;
              &lt;/tr&gt;
            &lt;/template&gt;
            &lt;/tbody&gt;
            &lt;tfoot&gt;
            &lt;tr&gt;
              &lt;td colspan="3" class="text-end"&gt;ç¸½è¨ˆ&lt;/td&gt;
              &lt;td class="text-end"&gt;{{ $filters.currency(cart.total) }}&lt;/td&gt;
            &lt;/tr&gt;
            &lt;tr v-if="cart.final_total !== cart.total"&gt;
              &lt;td colspan="3" class="text-end text-success"&gt;æŠ˜æ‰£åƒ¹&lt;/td&gt;
              &lt;td class="text-end text-success"&gt;{{ $filters.currency(cart.final_total) }}&lt;/td&gt;
            &lt;/tr&gt;
            &lt;/tfoot&gt;
          &lt;/table&gt;
          &lt;div class="input-group mb-3 input-group-sm"&gt;
            &lt;input type="text" class="form-control" v-model="coupon_code" placeholder="è«‹è¼¸å…¥å„ªæƒ ç¢¼"&gt;
            &lt;div class="input-group-append"&gt;
              &lt;button class="btn btn-outline-secondary" type="button" @click="addCouponCode"&gt;
                å¥—ç”¨å„ªæƒ ç¢¼
              &lt;/button&gt;
            &lt;/div&gt;
          &lt;/div&gt;
        &lt;/div&gt;
      &lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script&gt;
export default {
  data() {
    return {
      products: &#91;],
      product: {},
      // è®€å–ç‹€æ…‹
      status: {
        loadingItem: '', // å°æ‡‰å“é … id
      },
      cart: {},
      coupon_code: '',
    };
  },
  methods: {
    // å–å¾—å•†å“åˆ—è¡¨
    getProducts() {
      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/products/all`;
      this.isLoading = true;
      this.$http.get(url).then((response) =&gt; {
        this.products = response.data.products;
        console.log('products:', response);
        this.isLoading = false;
      });
    },
    // é€²å…¥å–®ä¸€å•†å“é é¢
    getProduct(id) {
      this.$router.push(`/user/product/${id}`);
    },
    // åŠ å…¥è³¼ç‰©è»Š
    addCart(id) {
      // æ¸¬è©¦ id æœ‰æ²’æœ‰æ­£ç¢ºå–å‡º
      // console.log(id);
      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart`;
      this.status.loadingItem = id;
      const cart = {
        product_id: id,
        qty: 1,
      };
      this.$http.post(url, { data: cart })
        .then((res) =&gt; {
          this.status.loadingItem = '';
          console.log(res);
          // é‡æ–°å–å¾—è³¼ç‰©è»Šåˆ—è¡¨
          this.getCart();
        });
    },
    // å–å¾—è³¼ç‰©è»Šåˆ—è¡¨
    getCart() {
      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart`;
      this.isLoading = true;
      this.$http.get(url).then((response) =&gt; {
        console.log(response);
        this.cart = response.data.data;
        this.isLoading = false;
      });
    },
    // åˆªé™¤è³¼ç‰©è»Šå“é …
    removeCartItem(id) {
      this.status.loadingItem = id;
      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart/${id}`;
      this.isLoading = true;
      this.$http.delete(url).then((response) =&gt; {
        this.$httpMessageState(response, 'ç§»é™¤è³¼ç‰©è»Šå“é …');
        this.status.loadingItem = '';
        this.getCart();
        this.isLoading = false;
      });
    },
    // æ›´æ–°è³¼ç‰©è»Š
    updateCart(item) {
      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart/${item.id}`;
      this.isLoading = true;
      // è®€å–æ•ˆæœ
      this.status.loadingItem = item.id;
      // å‚³éçš„è³‡è¨Š
      const cart = {
        product_id: item.product_id,
        qty: item.qty,
      };
      this.$http.put(url, { data: cart }).then((res) =&gt; {
        console.log(res);
        this.status.loadingItem = '';
        this.getCart();
      });
    },
    // å¥—ç”¨å„ªæƒ ç¢¼
    addCouponCode() {
      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/coupon`;
      // å»ºç«‹è³‡æ–™çµæ§‹
      const coupon = {
        code: this.coupon_code,
      };
      // è®€å–æ•ˆæœ
      this.isLoading = true;
      this.$http.post(url, { data: coupon })
        .then((res) =&gt; {
          console.log(res);
          this.getCart();
          this.isLoading = false;
        });
    },
  },
  created() {
    this.getProducts();
    this.getCart();
  },
};
&lt;/script&gt;
</code></pre>



<h3 class="wp-block-heading">ç”¨æˆ¶ç«¯å»ºç«‹è¨‚å–®</h3>



<ol>
<li>è³¼ç‰©è»Šå·²ç¶“æœ‰éƒ¨åˆ†çš„å“é …</li>



<li>è£½ä½œçµå¸³çš„éƒ¨åˆ†</li>



<li>å»ºç«‹çµå¸³è¡¨å–®çµæ§‹</li>



<li>å®‰è£ã€å¥—ç”¨ VeeValidate<br>npm i vee-validate @vee-validate/rules @vee-validate/i18n â€“save<br>æ³¨æ„: import * as AllRules from â€˜@vee-validate/rulesâ€™;</li>



<li>æŸ¥çœ‹è³¼ç‰©è»Š api çš„éƒ¨åˆ†ï¼Œä½¿ç”¨çµå¸³é é¢çš„ api<br>çµå¸³é é¢ [åƒæ•¸] â€“ dataã€messageï¼Œå»ºç«‹è¡¨å–®çš„æ™‚å€™çµæ§‹è¦æ³¨æ„</li>



<li>åœ¨ UserCart.vue æª”æ¡ˆå»ºç«‹çµæ§‹æ˜¯ä½¿ç”¨ form ç‰©ä»¶åŒ…è‘— user ä»¥åŠ message å€å¡Š</li>



<li>å»ºç«‹è¨‚å–®åœ¨ &lt;Form&gt; æ¨™ç±¤åŠ ä¸Š @submit è¡Œç‚ºè§¸ç™¼å¼·åˆ¶é©—è­‰ï¼Œä½¿ç”¨ createOrder æ–¹æ³•<br>åœ¨ç¨‹å¼ç¢¼ methods æ–¹æ³•åŠ ä¸Š createOrder æ–¹æ³•ï¼ŒæŠŠ createOrder åŠ åˆ° message è£¡é¢ï¼ŒæŠŠ @submit åŠ åœ¨ &lt;Form&gt; æ¨™ç±¤ä¸Šçš„å¥½è™•æ˜¯ç•¶é€å‡ºè¡¨å–®çš„æ™‚å€™æœƒå¼·åˆ¶å…ˆé€²è¡Œé©—è­‰ï¼Œé™¤éå…§å®¹éƒ½ç¬¦åˆè³‡æ ¼ï¼Œå¦å‰‡è¡¨ä½†ä¸æœƒé€å‡º<br>åœ¨ createOrder å¯ä»¥å…ˆæŠŠ api çš„ç¶²å€å»ºç«‹èµ·ä¾†<br>å»ºç«‹è¡¨å–®çš„çµæ§‹<br>ä½¿ç”¨ this.$http.post æ–¹æ³•ï¼Œå¸¶ä¸Š url è·¯å¾‘ã€ä½¿ç”¨ç‰©ä»¶æŠŠ data å±¬æ€§å¸¶ä¸Š order çš„æ–¹å¼æŠŠè¡¨å–®å…§å®¹é€å‡º<br>ä½¿ç”¨ console æŸ¥çœ‹å›æ‡‰æœ‰æ²’æœ‰æ­£ç¢º</li>



<li>é€å‡ºè¨‚å–®è¦å…ˆç¢ºå®šè³¼ç‰©è»Šè£¡é¢æ˜¯æœ‰å“é …ï¼Œå†æŠŠä¸‹é¢çš„å…§å®¹å¡«å¯«ï¼Œé€å‡ºè¡¨å–®æŸ¥çœ‹å›æ‡‰çš„çµæœ</li>
</ol>



<pre class="wp-block-code"><code>// src/main.js
import { createApp } from 'vue';
import axios from 'axios';
import VueAxios from 'vue-axios';
import Loading from 'vue3-loading-overlay';
import 'vue3-loading-overlay/dist/vue3-loading-overlay.css';
import 'bootstrap-icons/font/bootstrap-icons.css';
import {
  Form, Field, ErrorMessage, defineRule, configure,
} from 'vee-validate';
// import AllRules from '@vee-validate/rules'; // æœƒç”¢ç”ŸéŒ¯èª¤
import * as AllRules from '@vee-validate/rules';
import { localize, setLocale } from '@vee-validate/i18n';
import zhTW from '@vee-validate/i18n/dist/locale/zh_TW.json';

import App from './App.vue';
import router from './router';
import { currency, date } from './methods/filters';
import $httpMessageState from './methods/pushMessageState';

const app = createApp(App);
app.config.globalProperties.$filters = {
  currency,
  date,
};

Object.keys(AllRules).forEach((rule) =&gt; {
  defineRule(rule, AllRules&#91;rule]);
});

configure({
  generateMessage: localize({ zh_TW: zhTW }), // è¼‰å…¥ç¹é«”ä¸­æ–‡èªç³»
  validateOnInput: true, // ç•¶è¼¸å…¥ä»»ä½•å…§å®¹ç›´æ¥é€²è¡Œé©—è­‰
});
// è¨­å®šé è¨­èªç³»
setLocale('zh_TW');

// æ­¤å‡½å¼çš„ç”¨é€”æ˜¯æ•´åˆ AJAX çš„éŒ¯èª¤äº‹ä»¶ï¼Œçµ±ä¸€æ•´ç†ç™¼é€çµ¦äºˆ Toast è™•ç†
app.config.globalProperties.$httpMessageState = $httpMessageState;

app.use(VueAxios, axios);
app.use(router);
app.component('Loading', Loading);
app.component('Form', Form);
app.component('Field', Field);
app.component('ErrorMessage', ErrorMessage);
app.mount('#app');
</code></pre>



<pre class="wp-block-code"><code>// views/UserCart.vue
&lt;template&gt;
  &lt;Loading :active="isLoading"&gt;&lt;/Loading&gt;
  &lt;div class="container"&gt;
    &lt;div class="row mt-4"&gt;
      &lt;div class="col-md-7"&gt;
        &lt;table class="table align-middle"&gt;
          &lt;thead&gt;
            &lt;tr&gt;
              &lt;th&gt;åœ–ç‰‡&lt;/th&gt;
              &lt;th&gt;å•†å“åç¨±&lt;/th&gt;
              &lt;th&gt;åƒ¹æ ¼&lt;/th&gt;
              &lt;th&gt;&lt;/th&gt;
            &lt;/tr&gt;
          &lt;/thead&gt;
          &lt;tbody&gt;
            &lt;tr v-for="item in products" :key="item.id"&gt;
              &lt;td style="width: 200px"&gt;
                &lt;div style="height: 100px; background-size: cover; background-position: center"
                :style="{backgroundImage: `url(${item.imageUrl})`}"&gt;&lt;/div&gt;
              &lt;/td&gt;
              &lt;td&gt;&lt;a href="#" class="text-dark"&gt;{{ item.title }}&lt;/a&gt;&lt;/td&gt;
              &lt;td&gt;
                &lt;div class="h5" v-if="!item.price"&gt;{{ item.origin_price }} å…ƒ&lt;/div&gt;
                &lt;del class="h6" v-if="item.price"&gt;åŸåƒ¹ {{ item.origin_price }} å…ƒ&lt;/del&gt;
                &lt;div class="h5" v-if="item.price"&gt;ç¾åœ¨åªè¦ {{ item.price }} å…ƒ&lt;/div&gt;
              &lt;/td&gt;
              &lt;td&gt;
                &lt;div class="btn-group btn-group-sm"&gt;
                  &lt;button type="button" class="btn btn-outline-secondary"
                  @click="getProduct(item.id)"&gt;
                    æŸ¥çœ‹æ›´å¤š
                  &lt;/button&gt;
                  &lt;button type="button" class="btn btn-outline-danger"
                  @click="addCart(item.id)"
                  :disabled="this.status.loadingItem === item.id"&gt;
                    &lt;div v-if="this.status.loadingItem === item.id"
                    class="spinner-grow text-danger spinner-grow-sm" role="status"&gt;
                      &lt;span class="visually-hidden"&gt;Loading...&lt;/span&gt;
                    &lt;/div&gt;
                    åŠ åˆ°è³¼ç‰©è»Š
                  &lt;/button&gt;
                &lt;/div&gt;
              &lt;/td&gt;
            &lt;/tr&gt;
          &lt;/tbody&gt;
        &lt;/table&gt;
      &lt;/div&gt;
      &lt;!-- è³¼ç‰©è»Šåˆ—è¡¨ --&gt;
      &lt;div class="col-md-5"&gt;
        &lt;div class="sticky-top"&gt;
          &lt;table class="table align-middle"&gt;
            &lt;thead&gt;
              &lt;tr&gt;
                &lt;th&gt;&lt;/th&gt;
                &lt;th&gt;å“å&lt;/th&gt;
                &lt;th style="width: 110px"&gt;æ•¸é‡&lt;/th&gt;
                &lt;th&gt;å–®åƒ¹&lt;/th&gt;
              &lt;/tr&gt;
            &lt;/thead&gt;
            &lt;tbody&gt;
            &lt;template v-if="cart.carts"&gt;
              &lt;tr v-for="item in cart.carts" :key="item.id"&gt;
                &lt;td&gt;
                  &lt;button type="button" class="btn btn-outline-danger btn-sm"
                  :disabled="status.loadingItem === item.id"
                  @click="removeCartItem(item.id)"&gt;
                    &lt;i class="bi bi-x"&gt;&lt;/i&gt;
                  &lt;/button&gt;
                &lt;/td&gt;
                &lt;td&gt;
                  {{ item.product.title }}
                  &lt;div class="text-success" v-if="item.coupon"&gt;
                    å·²å¥—ç”¨å„ªæƒ åˆ¸
                  &lt;/div&gt;
                &lt;/td&gt;
                &lt;td&gt;
                  &lt;div class="input-group input-group-sm"&gt;
                    &lt;input type="number" class="form-control"
                    min="1"
                    :disabled="item.id === status.loadingItem"
                    @change="updateCart(item)"
                    v-model.number="item.qty"&gt;
                    &lt;div class="input-group-text"&gt;/ {{ item.product.unit }}&lt;/div&gt;
                  &lt;/div&gt;
                &lt;/td&gt;
                &lt;td class="text-end"&gt;
                  &lt;small v-if="cart.final_total !== cart.total" class="text-success"&gt;æŠ˜æ‰£åƒ¹ï¼š&lt;/small&gt;
                  {{ $filters.currency(item.final_total) }}
                &lt;/td&gt;
              &lt;/tr&gt;
            &lt;/template&gt;
            &lt;/tbody&gt;
            &lt;tfoot&gt;
            &lt;tr&gt;
              &lt;td colspan="3" class="text-end"&gt;ç¸½è¨ˆ&lt;/td&gt;
              &lt;td class="text-end"&gt;{{ $filters.currency(cart.total) }}&lt;/td&gt;
            &lt;/tr&gt;
            &lt;tr v-if="cart.final_total !== cart.total"&gt;
              &lt;td colspan="3" class="text-end text-success"&gt;æŠ˜æ‰£åƒ¹&lt;/td&gt;
              &lt;td class="text-end text-success"&gt;{{ $filters.currency(cart.final_total) }}&lt;/td&gt;
            &lt;/tr&gt;
            &lt;/tfoot&gt;
          &lt;/table&gt;
          &lt;div class="input-group mb-3 input-group-sm"&gt;
            &lt;input type="text" class="form-control" v-model="coupon_code" placeholder="è«‹è¼¸å…¥å„ªæƒ ç¢¼"&gt;
            &lt;div class="input-group-append"&gt;
              &lt;button class="btn btn-outline-secondary" type="button" @click="addCouponCode"&gt;
                å¥—ç”¨å„ªæƒ ç¢¼
              &lt;/button&gt;
            &lt;/div&gt;
          &lt;/div&gt;
        &lt;/div&gt;
      &lt;/div&gt;
    &lt;/div&gt;
    &lt;!-- ç”¨æˆ¶ç«¯è¨‚å–® --&gt;
    &lt;div class="my-5 row justify-content-center"&gt;
      &lt;Form class="col-md-6" v-slot="{ errors }"
            @submit="createOrder"&gt;
        &lt;div class="mb-3"&gt;
          &lt;label for="email" class="form-label"&gt;Email&lt;/label&gt;
          &lt;Field id="email" name="email" type="email" class="form-control"
          :class="{ 'is-invalid': errors&#91;'email'] }"
          placeholder="è«‹è¼¸å…¥ Email" rules="email|required"
          v-model="form.user.email"&gt;&lt;/Field&gt;
          &lt;ErrorMessage name="email" class="invalid-feedback"&gt;&lt;/ErrorMessage&gt;
        &lt;/div&gt;

        &lt;div class="mb-3"&gt;
          &lt;label for="name" class="form-label"&gt;æ”¶ä»¶äººå§“å&lt;/label&gt;
          &lt;Field id="name" name="å§“å" type="text" class="form-control"
          :class="{ 'is-invalid': errors&#91;'å§“å'] }"
          placeholder="è«‹è¼¸å…¥å§“å" rules="required"
          v-model="form.user.name"&gt;&lt;/Field&gt;
          &lt;ErrorMessage name="å§“å" class="invalid-feedback"&gt;&lt;/ErrorMessage&gt;
        &lt;/div&gt;

        &lt;div class="mb-3"&gt;
          &lt;label for="tel" class="form-label"&gt;æ”¶ä»¶äººé›»è©±&lt;/label&gt;
          &lt;Field id="tel" name="é›»è©±" type="tel" class="form-control"
          :class="{ 'is-invalid': errors&#91;'é›»è©±'] }"
          placeholder="è«‹è¼¸å…¥é›»è©±" rules="required"
          v-model="form.user.tel"&gt;&lt;/Field&gt;
          &lt;ErrorMessage name="é›»è©±" class="invalid-feedback"&gt;&lt;/ErrorMessage&gt;
        &lt;/div&gt;

        &lt;div class="mb-3"&gt;
          &lt;label for="address" class="form-label"&gt;æ”¶ä»¶äººåœ°å€&lt;/label&gt;
          &lt;Field id="address" name="åœ°å€" type="text" class="form-control"
          :class="{ 'is-invalid': errors&#91;'åœ°å€'] }"
          placeholder="è«‹è¼¸å…¥åœ°å€" rules="required"
          v-model="form.user.address"&gt;&lt;/Field&gt;
          &lt;ErrorMessage name="åœ°å€" class="invalid-feedback"&gt;&lt;/ErrorMessage&gt;
        &lt;/div&gt;

        &lt;div class="mb-3"&gt;
          &lt;label for="message" class="form-label"&gt;ç•™è¨€&lt;/label&gt;
          &lt;textarea name="" id="message" class="form-control" cols="30" rows="10"
                    v-model="form.message"&gt;&lt;/textarea&gt;
        &lt;/div&gt;
        &lt;div class="text-end"&gt;
          &lt;button class="btn btn-danger"&gt;é€å‡ºè¨‚å–®&lt;/button&gt;
        &lt;/div&gt;
      &lt;/Form&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script&gt;
export default {
  data() {
    return {
      products: &#91;],
      product: {},
      // è®€å–ç‹€æ…‹
      status: {
        loadingItem: '', // å°æ‡‰å“é … id
      },
      cart: {},
      coupon_code: '',
      // ç”¨æˆ¶ç«¯è¨‚å–®
      form: {
        user: {
          name: '',
          email: '',
          tel: '',
          address: '',
        },
        message: '',
      },
    };
  },
  methods: {
    // å–å¾—å•†å“åˆ—è¡¨
    getProducts() {
      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/products/all`;
      this.isLoading = true;
      this.$http.get(url).then((response) =&gt; {
        this.products = response.data.products;
        console.log('products:', response);
        this.isLoading = false;
      });
    },
    // é€²å…¥å–®ä¸€å•†å“é é¢
    getProduct(id) {
      this.$router.push(`/user/product/${id}`);
    },
    // åŠ å…¥è³¼ç‰©è»Š
    addCart(id) {
      // æ¸¬è©¦ id æœ‰æ²’æœ‰æ­£ç¢ºå–å‡º
      // console.log(id);
      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart`;
      this.status.loadingItem = id;
      const cart = {
        product_id: id,
        qty: 1,
      };
      this.$http.post(url, { data: cart })
        .then((res) =&gt; {
          this.status.loadingItem = '';
          console.log(res);
          // é‡æ–°å–å¾—è³¼ç‰©è»Šåˆ—è¡¨
          this.getCart();
        });
    },
    // å–å¾—è³¼ç‰©è»Šåˆ—è¡¨
    getCart() {
      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart`;
      this.isLoading = true;
      this.$http.get(url).then((response) =&gt; {
        console.log(response);
        this.cart = response.data.data;
        this.isLoading = false;
      });
    },
    // åˆªé™¤è³¼ç‰©è»Šå“é …
    removeCartItem(id) {
      this.status.loadingItem = id;
      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart/${id}`;
      this.isLoading = true;
      this.$http.delete(url).then((response) =&gt; {
        this.$httpMessageState(response, 'ç§»é™¤è³¼ç‰©è»Šå“é …');
        this.status.loadingItem = '';
        this.getCart();
        this.isLoading = false;
      });
    },
    // æ›´æ–°è³¼ç‰©è»Š
    updateCart(item) {
      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart/${item.id}`;
      this.isLoading = true;
      // è®€å–æ•ˆæœ
      this.status.loadingItem = item.id;
      // å‚³éçš„è³‡è¨Š
      const cart = {
        product_id: item.product_id,
        qty: item.qty,
      };
      this.$http.put(url, { data: cart }).then((res) =&gt; {
        console.log(res);
        this.status.loadingItem = '';
        this.getCart();
      });
    },
    // å¥—ç”¨å„ªæƒ ç¢¼
    addCouponCode() {
      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/coupon`;
      // å»ºç«‹è³‡æ–™çµæ§‹
      const coupon = {
        code: this.coupon_code,
      };
      // è®€å–æ•ˆæœ
      this.isLoading = true;
      this.$http.post(url, { data: coupon })
        .then((res) =&gt; {
          console.log(res);
          this.getCart();
          this.isLoading = false;
        });
    },
    // å»ºç«‹è¨‚å–®
    createOrder() {
      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/order`;
      const order = this.form;
      this.$http.post(url, { data: order })
        .then((res) =&gt; {
          console.log(res);
        });
    },
  },
  created() {
    this.getProducts();
    this.getCart();
  },
};
&lt;/script&gt;
</code></pre>



<h3 class="wp-block-heading">ç”¨æˆ¶ç«¯çµå¸³æµç¨‹</h3>



<ol>
<li>å»ºç«‹æ–°çš„ä¸€ç­†è¨‚å–®ï¼Œä¸¦å¡«å¥½ç”¨æˆ¶è¡¨ç«¯è³‡æ–™ï¼Œé æœŸåœ¨é€å‡ºè¨‚å–®ä¹‹å¾Œæœƒç”¢ä¸€å€‹ orderIdï¼Œè¤‡è£½ orderId çš„å€¼ç­‰ä¸‹ä½¿ç”¨ï¼Œé€å‡ºè¨‚å–®ä¹‹å¾Œé æœŸæœƒè½‰åªåˆ°å¦å¤–ä¸€å€‹é é¢ï¼Œcheckout è·¯ç”±ä¸‹çš„é é¢ï¼Œè®“ç”¨æˆ¶ç¢ºèªç”¢å“é‚„æœ‰è¡¨å–®å…§å®¹æ˜¯å¦æ­£ç¢ºï¼Œå†é€²è¡Œçµå¸³çš„æµç¨‹ï¼Œç¾åœ¨çš„æµç¨‹æ˜¯å¿…é ˆå…ˆæŠŠ checkout åŠ ä¸Šå†è®“ç”¨æˆ¶é€²è¡Œçµå¸³</li>



<li>æ–°å¢ UserCheckout.vue æª”æ¡ˆæ’°å¯«ç¨‹å¼ç¢¼<br>å®Œæˆ checkout é é¢ï¼Œä¸Šæ–¹æ˜¯ç”¢å“çš„å…§å®¹ï¼Œåœ¨è³¼ç‰©è»Šè£¡é¢çš„å“é …ï¼Œä¸‹æ–¹æ˜¯ç”¨æˆ¶è‡ªå·±æ‰€å¡«çš„ç´°ç¯€ï¼Œæœƒé€é orderId æŠŠè³‡è¨Šå–å›ä¾†</li>



<li>è‘—é‡åœ¨ JS çš„éƒ¨åˆ†</li>



<li>åœ¨ index.js æª”æ¡ˆåŠ ä¸Šå­è·¯ç”± checkout/:orderIdï¼ŒorderId ä½œç”¨æ˜¯å–å›åŸæœ¬åŒä¸€ç­†è¨‚å–®ä½¿ç”¨çš„</li>



<li>ç›´æ¥ä½¿ç”¨ç¶²å€è·¯å¾‘é€²å…¥ç”¨æˆ¶ç«¯çµå¸³é é¢<br>æŸ¥çœ‹ API æ–‡ä»¶å–å¾—æŸä¸€ç­†è¨‚å–®ï¼Œé€é orderId å–å¾—ç›¸åŒä¸€ç­†è¨‚å–®å…§å®¹<br>å¿…é ˆå…ˆæŠŠè·¯ç”±ä¸Šé¢çš„ id å–å‡ºä¾†ï¼Œåœ¨ data() è³‡æ–™å®šç¾© orderIdï¼Œåœ¨ created() ç”Ÿå‘½é€±æœŸæ’°å¯« this.orderId = this.$route.params.orderId æŠŠ orderId å–å‡º<br>ä½¿ç”¨ console æŸ¥çœ‹ï¼ŒorderId æ˜¯å¾ç¶²å€åˆ—æ‰€å–å¾—<br>åŠ ä¸Š this.getOrder() æ–¹æ³•ï¼Œæœƒè§¸ç™¼ methods è£¡é¢çš„ getOrder()ï¼Œæœƒé€é getOrder å–å¾—éœ€è¦çš„ç›¸é—œå…§å®¹</li>



<li>åœ¨ getOrder() æ–¹æ³•æ’°å¯«å–å¾—æŸä¸€ç­†è¨‚å–®<br>api è·¯å¾‘å–å¾—ç‰¹å®šè¨‚å–®çš„å…§å®¹ã€ä½¿ç”¨ this.$http.get æ–¹æ³•å–å¾—é€™ç­†è¨‚å–®å…§å®¹<br>ä½¿ç”¨ console æ˜¯å¦æœ‰æ­£ç¢ºå–å¾—<br>å°‡ç›¸é—œçš„å…§å®¹å‘ˆç¾åœ¨ç•«é¢ä¸Š</li>



<li>è£½ä½œç¢ºèªä»˜æ¬¾å»çš„è¡Œç‚º<br>å…ˆçœ‹ order åŒ…å«ä»€éº¼è³‡è¨Šï¼Œæ–°å¢å“é …çš„æ™‚é–“ã€idã€ç¸½é‡‘é¡ã€is_paid å±¬æ€§ï¼Œis_paid æ˜¯ç”¨æˆ¶æ˜¯å¦å·²ç¶“ä»˜æ¬¾ï¼Œis_paidåªèƒ½ç”±å¾Œç«¯é€²è¡Œèª¿æ•´<br>ç”¨æˆ¶è§¸ç™¼çµå¸³ä»˜æ¬¾ apiï¼Œè§¸ç™¼ä¹‹å¾Œå°±æœƒæŠŠ is_paid çš„ false æ”¹ç‚º true<br>çµå¸³ä»˜æ¬¾ api ä¸»è¦çš„é‡é»åœ¨ orderIdï¼Œæœƒé€é orderId æ­é…å‰ä¸€å€‹ pay api å°‡é€™ç­†è¨‚å–®çš„ is_paid æ”¹ç‚º true</li>



<li>é‡å°é€™ç­†è¨‚å–®é€²è¡Œä»˜æ¬¾<br>åœ¨ &lt;form&gt; è¡¨å–®åŠ ä¸Š payOrder æ–¹æ³•ï¼Œç•¶ç”¨æˆ¶æŒ‰ä¸‹æŒ‰éˆ•æˆ–æ˜¯é€å‡ºè¡¨å–®çš„æ™‚å€™ï¼Œå°±æœƒè§¸ç™¼ payOrder è¡Œç‚º<br>æ’°å¯« payOrder() æ–¹æ³•<br>url è·¯å¾‘ã€ä½¿ç”¨ this.$http.post æ–¹æ³•å°‡é€™ç­†è¨‚å–®é€²è¡Œä»˜æ¬¾ï¼Œç™¼å‡ºè«‹æ±‚å¾Œæœƒä½¿ç”¨ then æ¥æ”¶å›å‚³<br>å°‡é€™ç­†è¨‚å–®å®Œæˆä¹‹å¾Œå°±ä¸èƒ½å†æ¬¡ä½¿ç”¨ï¼Œé‡æ•´å†é‡æ–°å–å¾—è¨‚å–®çš„é …ç›®ï¼Œå†é‡æ–°è§¸ç™¼ä¸€æ¬¡ getOrder è¡Œç‚º</li>



<li>æŒ‰ä¸‹ç¢ºèªä»˜æ¬¾å»ä¹‹å¾Œï¼Œæœƒè§¸ç™¼ä¸€å€‹è¡Œç‚ºï¼Œæœƒå‡ºç¾ä»˜æ¬¾å·²ç¶“å®Œæˆï¼Œåœ¨ç•«é¢ä¸Šä»˜æ¬¾ç‹€æ…‹æœƒæ”¹æˆä»˜æ¬¾å®Œæˆï¼Œç¢ºèªä»˜æ¬¾å»æŒ‰éˆ•å°±æœƒéš±è—</li>



<li>æŸ¥çœ‹ console é—œæ–¼ this.order é€™ç­†è¨‚å–®çš„è³‡è¨Š is_paid æœƒæ”¹ç‚º true çš„ç‹€æ…‹ï¼Œä¸¦ä¸”å¢åŠ  paid_date å±¬æ€§ï¼Œç´€éŒ„ç”¨æˆ¶åœ¨å“ªä¸€å€‹æ™‚é–“é»é€²è¡Œä»˜æ¬¾</li>
</ol>



<pre class="wp-block-code"><code>// views/UserCheckout.vue
&lt;template&gt;
  &lt;Loading :active="isLoading"&gt;&lt;/Loading&gt;
  &lt;div class="my-5 row justify-content-center"&gt;
    &lt;form class="col-md-6" @submit.prevent="payOrder"&gt;
      &lt;table class="table align-middle"&gt;
        &lt;thead&gt;
        &lt;th&gt;å“å&lt;/th&gt;
        &lt;th&gt;æ•¸é‡&lt;/th&gt;
        &lt;th&gt;å–®åƒ¹&lt;/th&gt;
        &lt;/thead&gt;
        &lt;tbody&gt;
        &lt;tr v-for="item in order.products" :key="item.id"&gt;
          &lt;td&gt;{{ item.product.title }}&lt;/td&gt;
          &lt;td&gt;{{ item.qty }}/{{ item.product.unit }}&lt;/td&gt;
          &lt;td class="text-end"&gt;{{ item.final_total }}&lt;/td&gt;
        &lt;/tr&gt;
        &lt;/tbody&gt;
        &lt;tfoot&gt;
        &lt;tr&gt;
          &lt;td colspan="2" class="text-end"&gt;ç¸½è¨ˆ&lt;/td&gt;
          &lt;td class="text-end"&gt;{{ order.total }}&lt;/td&gt;
        &lt;/tr&gt;
        &lt;/tfoot&gt;
      &lt;/table&gt;

      &lt;table class="table"&gt;
        &lt;tbody&gt;
        &lt;tr&gt;
          &lt;th width="100"&gt;Email&lt;/th&gt;
          &lt;td&gt;{{ order.user.email }}&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
          &lt;th&gt;å§“å&lt;/th&gt;
          &lt;td&gt;{{ order.user.name }}&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
          &lt;th&gt;æ”¶ä»¶äººé›»è©±&lt;/th&gt;
          &lt;td&gt;{{ order.user.tel }}&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
          &lt;th&gt;æ”¶ä»¶äººåœ°å€&lt;/th&gt;
          &lt;td&gt;{{ order.user.address }}&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
          &lt;th&gt;ä»˜æ¬¾ç‹€æ…‹&lt;/th&gt;
          &lt;td&gt;
            &lt;span v-if="!order.is_paid"&gt;å°šæœªä»˜æ¬¾&lt;/span&gt;
            &lt;span v-else class="text-success"&gt;ä»˜æ¬¾å®Œæˆ&lt;/span&gt;
          &lt;/td&gt;
        &lt;/tr&gt;
        &lt;/tbody&gt;
      &lt;/table&gt;
      &lt;div class="text-end" v-if="order.is_paid === false"&gt;
        &lt;button class="btn btn-danger"&gt;ç¢ºèªä»˜æ¬¾å»&lt;/button&gt;
      &lt;/div&gt;
    &lt;/form&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script&gt;
export default {
  data() {
    return {
      order: {
        user: {},
      },
      orderId: '',
      isLoading: false,
    };
  },
  methods: {
    // å–å¾—æŸä¸€ç­†è¨‚å–®
    getOrder() {
      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/order/${this.orderId}`;
      this.$http.get(url)
        .then((res) =&gt; {
          if (res.data.success) {
            this.order = res.data.order;
            console.log(this.order);
          }
        });
    },
    // ç¢ºèªä»˜æ¬¾
    payOrder() {
      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/pay/${this.orderId}`;
      this.$http.post(url)
        .then((res) =&gt; {
          console.log(res);
          if (res.data.success) {
            this.getOrder();
          }
        });
    },
  },
  created() {
    this.orderId = this.$route.params.orderId;
    console.log(this.orderId);
    this.getOrder();
  },
};
&lt;/script&gt;
</code></pre>



<pre class="wp-block-code"><code>// src/router/index.js
import { createRouter, createWebHashHistory } from 'vue-router';
import Home from '../views/Home.vue';

const routes = &#91;
  {
    path: '/',
    name: 'Home',
    component: Home,
  },
  {
    path: '/about',
    name: 'About',
    // route level code-splitting
    // this generates a separate chunk (about.&#91;hash].js) for this route
    // which is lazy-loaded when the route is visited.
    component: () =&gt; import(/* webpackChunkName: "about" */ '../views/About.vue'),
  },
  {
    path: '/login',
    component: () =&gt; import('../views/Login.vue'),
  },
  {
    path: '/dashboard',
    component: () =&gt; import('../views/Dashboard.vue'),
    // å·¢ç‹€è·¯ç”± - ç”¢å“åˆ—è¡¨
    children: &#91;
      {
        path: 'products',
        component: () =&gt; import('../views/Products.vue'),
      },
      {
        path: 'orders',
        component: () =&gt; import('../views/Orders.vue'),
      },
      {
        path: 'coupons',
        component: () =&gt; import('../views/Coupons.vue'),
      },
    ],
  },
  {
    path: '/user',
    component: () =&gt; import('../views/Userboard.vue'),
    children: &#91;
      {
        path: 'cart',
        component: () =&gt; import('../views/UserCart.vue'),
      },
      {
        path: 'product/:productId',
        component: () =&gt; import('@/views/UserProduct.vue'),
      },
      {
        path: 'checkout/:orderId',
        component: () =&gt; import('../views/UserCheckout.vue'),
      },
    ],
  },
];

const router = createRouter({
  history: createWebHashHistory(),
  routes,
  linkActiveClass: 'active',
});

export default router;
</code></pre>



<h3 class="wp-block-heading">æœ€çµ‚ä½œæ¥­èªªæ˜</h3>



<h4 class="wp-block-heading">æœ€çµ‚ä½œæ¥­ç¹³äº¤èªªæ˜</h4>



<h5 class="wp-block-heading">ä¸€èˆ¬ç·´ç¿’</h5>



<ul>
<li>åƒ…æª¢è¦–åŸå§‹ç¢¼</li>



<li>åƒ…éœ€å®Œæˆèª²ç¨‹åŸºæœ¬æ¢ä»¶</li>



<li>åƒ…éœ€è¦å®Œæˆæ¡Œé¢ç‰ˆ</li>
</ul>



<h5 class="wp-block-heading">æ±‚è·ä½œå“</h5>



<ul>
<li>æª¢è¦–ç•«é¢è¨­è¨ˆåŠåŸå§‹ç¢¼</li>



<li>é™¤äº†èª²ç¨‹ API éœ€å¢åŠ è‡ªå·±å‰µæ„åœ¨å…§</li>



<li>è¡Œå‹•ç‰ˆã€æ¡Œé¢ç‰ˆçš†éœ€è£½ä½œ</li>



<li>å·²æ­£å¼ä¸Šç·šç‚ºç›®æ¨™</li>



<li>é€€ä»¶ç‡é«˜</li>



<li><strong>è«‹æ¨™ç¤ºä½œç‚ºæ±‚è·ä½œå“ä½¿ç”¨</strong></li>
</ul>



<h4 class="wp-block-heading">ä½œå“è£½ä½œå»ºè­°</h4>



<h5 class="wp-block-heading">å…ˆæ±ºå®šä¸»é¡Œ</h5>



<ul>
<li>æœé›†ç´ æ</li>



<li>ç¢ºèªä¸»é¡Œè£½ä½œå¯è¡Œæ€§</li>



<li>å®šç¾©ç”¢å“è³‡è¨Š</li>



<li>æ§‹æ€æŠ€è¡“å°å·§æ€ (æˆ‘çš„æœ€æ„›ã€æŠ½çã€åœ°åœ–åŠŸèƒ½ã€å€’æ•¸å„ªæƒ â€¦)</li>



<li>é–‹å§‹åŸ·è¡Œ</li>
</ul>



<h4 class="wp-block-heading">ç´ æè³‡æº</h4>



<ul>
<li>
<a href="https://getbootstrap.com/" target="_blank" rel="noreferrer noopener">Bootstrap</a>ã€<a href="https://bootstrap5.hexschool.com/" target="_blank" rel="noreferrer noopener">Bootstrap ä¸­æ–‡ç‰ˆ</a>
</li>



<li>
<a href="https://material.io/design" target="_blank" rel="noreferrer noopener">Material Design</a>ã€<a href="https://material-design.hexschool.io/" target="_blank" rel="noreferrer noopener">Material Design ä¸­æ–‡ç‰ˆ</a>
</li>



<li><a href="https://unsplash.com/" target="_blank" rel="noreferrer noopener">åœ–åº«</a></li>



<li><a href="https://fonts.google.com/icons" target="_blank" rel="noreferrer noopener">Material Design Icon</a></li>



<li><a href="https://icons.getbootstrap.com/#icons" target="_blank" rel="noreferrer noopener">Bootstrap Icon</a></li>



<li><a href="https://fontawesome.com/" target="_blank" rel="noreferrer noopener">FontAwesome</a></li>



<li><a href="https://www.flaticon.com/" target="_blank" rel="noreferrer noopener">ä»˜è²» icon</a></li>



<li><a href="https://www.google.com/get/noto/" target="_blank" rel="noreferrer noopener">å­—é«” (ç„¡è¥¯ç·šã€san-serifã€é»‘é«”)</a></li>
</ul>



<h4 class="wp-block-heading">ä½ çš„ç”¨å¿ƒï¼Œæœƒè®“ä½œå“æ›´åŠ è€€çœ¼</h4>



<h5 class="wp-block-heading">ç›¡å¯èƒ½é¿å…çš„éŒ¯èª¤</h5>



<ul>
<li>ç¼ºå°‘æ–‡æ¡ˆã€ä½œå“ä¸å®Œæ•´</li>



<li>æ²’æœ‰å°é½Šã€ç•«é¢è·‘ç‰ˆ</li>



<li>ä½¿ç”¨è€…é«”é©—çš„å•é¡Œ: ä¾‹å¦‚è³¼ç‰©è»Šç‚ºç©ºæ™‚ï¼Œé¿å…è®“ç”¨æˆ¶é€²å…¥ä¸‹ä¸€æ­¥</li>



<li>è¡Œå‹•ç‰ˆç„¡æ³•é‹ä½œ</li>
</ul>



<h4 class="wp-block-heading">ä¸çŸ¥å¦‚ä½•ä¸‹æ‰‹å—</h4>



<h5 class="wp-block-heading">è¬ä¸ˆé«˜æ¨“å¹³åœ°èµ·ï¼Œè¦åŠƒå„ªæ–¼ä¸€åˆ‡</h5>



<ul>
<li>å…ˆåƒè€ƒå­¸é•·å§çš„ä½œå“</li>



<li>å¾æœé›†è³‡æ–™é–‹å§‹ï¼Œè¦åŠƒç¶²ç«™çš„æ–‡æ¡ˆã€ç”¢å“ã€å„ç¨®å°å·§æ€</li>



<li>å…ˆè£½ä½œç‰ˆå‹ï¼Œå°‡æµç¨‹ä¸€ä¸€çš„é †å¥½</li>



<li>å°‡åŠŸèƒ½ä¸€ä¸€å¥—ä¸Šç‰ˆå‹</li>



<li>æœ€å¾Œä¿®æ­£ï¼Œæäº¤ä½œæ¥­</li>
</ul>



<h3 class="wp-block-heading">æœ€çµ‚ä½œæ¥­æäº¤è¦å‰‡æ–‡ä»¶</h3>



<h3 class="wp-block-heading">æœ€çµ‚ä½œæ¥­æäº¤ â€“ ç¨‹å¼å‹‡è€…æ‘</h3>
	</div>
<!-- .entry-content -->

	<footer class="entry-footer">
			</footer><!-- .entry-footer -->
</article><!-- #post-837 -->

	<nav class="navigation post-navigation" aria-label="æ–‡ç« ">
		<h2 class="screen-reader-text">æ–‡ç« å°è¦½</h2>
		<div class="nav-links"><div class="nav-previous"><a href="/wordpress_blog/reviewvue3_08/" rel="prev"><span class="nav-subtitle">Previous:</span> <span class="nav-title">Vue3 è¤‡ç¿’08</span></a></div></div>
	</nav>
	</main><!-- #main -->


	</div></div>
			
			<footer id="colophon" class="site-footer">

				
				<div class="container-fluid">
					<div class="site-info">
						<div class="row">

															
								<div class="col-12 footer-copyright-elements footer-copyright-alignment-center">

									<div class="botiga-credits">&copy; 2024 wordpress_blog. 
Created by Gee Hsu. 
<br>Proudly powered by <a rel="nofollow" href="https://athemes.com/theme/botiga/">Botiga</a>
</div>
<div class="social-profile">
<a target="_blank" href="https://www.facebook.com/watergrass0402/"><i class="ws-svg-icon"><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 512 512"><path d="M504 256C504 119 393 8 256 8S8 119 8 256c0 123.78 90.69 226.38 209.25 245V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.28c-30.8 0-40.41 19.12-40.41 38.73V256h68.78l-11 71.69h-57.78V501C413.31 482.38 504 379.78 504 256z"></path></svg></i></a><a target="_blank" href="https://github.com/GeeHsu"><i class="ws-svg-icon"><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 496 512"><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"></path></svg></i></a>
</div>
								</div>
														
						</div>
					</div>
				</div>
<!-- .site-info -->

				
			</footer><!-- #colophon -->

			
			<div class="back-to-top visibility-all position-right"><i class="ws-svg-icon"><svg viewbox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M5 15l7-7 7 7" stroke-width="3" stroke-linejoin="round"></path></svg></i></div>
</div>
<!-- #page -->


<script id="botiga-custom-js-extra">
var botiga = {"ajaxurl":"\/wp-admin\/admin-ajax.php","i18n":{"botiga_sharebox_copy_link":"Copy link","botiga_sharebox_copy_link_copied":"Copied!"}};
</script>
<script src="/wordpress_blog/wp-content/themes/botiga/assets/js/custom.min.js?ver=1.1.2" id="botiga-custom-js"></script>

</body>
</html>